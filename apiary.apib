FORMAT: 1A

# LWS-REST API (dev)
# This documentation is for the pre-release (dev) version

**UNRELEASED** (development edition) Documentation for the Classic Provisioning LWS-REST API.

# General

At this time, the application/hal+json content type is supported in request and response bodies.

**Note: all references to <code>classicserver.example.com/api/</code> are for example purposes only. In a deployed Classic Server
these will be references to the LWS-REST API host.**

**Note: Curies will be added in the responses in a future release.**

**Note: The property name in request/response is not enough to figure out the type. The JSON Schema needs to be checked for each property.**

**Note: For properties that are phone numbers, be aware that theyâ€™re not always the same. They might be formatted E.164 TNs, they might be free-form strings, they might be either TN or SIP URI, etc. Check the JSON Schema to figure out the correct type.**

## Single vs Multi cluster BroadWorks behaviour
If LWS-REST is configured in single cluster mode and you try to access a resource that does not exist you will receive a 404 Not Found response with the body in the following format:
<pre>{
    "errorCode": "NOT_FOUND",
    "externalErrorCode": "4152",
    "externalErrorSummary": "[Error 4152] Group not found: Enterprise:Group",
    "externalErrorDetail": "[Error 4152] Group not found: Enterprise:Group"
}
</pre>

If LWS-REST is configured in multi cluster mode and you try to access a resource that does not exist you will recieve a 404 Not Found response with the body in the following format:
<pre>{
    "errorCode": "NOT_FOUND",
    "summary": "The requested resource does not exist",
    "detail": "Group [Enterprise:Group] not found in Broadworks."
}
</pre>

Clients of LWS-REST should support both response body formats.

## Different responses depending on BroadWorks version
LWS-REST returns different results depending on the BroadWorks version and patch level when sending a request which results in an invalid XML request to BroadWorks.
See below for different error responses:

For some BroadWorks versions that have issue preventing return of 6004 BroadWorks response, result is:<br />
Response code: 502
<pre>{
    "errorCode": "CLIENT_ERROR",
    "summary": "ociClient",
    "detail": "Received empty response"
}
</pre>

However if a timeout is set for BroadWorks service (broadworks > requestTimeout from config.xml) to a value smaller than timeout value set in BroadWorks (usually 30 seconds) the result is:<br />
Response code: 504
<pre>{
    "errorCode": "ETIMEDOUT",
    "summary": "ociClient",
    "detail": "Received null response"
}
</pre>

For BroadWorks version without mentioned issue the result is:<br />
Response code: 500

    {
        "errorCode": "EXTERNAL_API_SERVER",
        "externalErrorCode": "6004",
        "externalErrorSummary": "[Error 6004] OCI XML Request validation error",
        "externalErrorDetail": "[BroadWorks detail message]"
    }

Clients of LWS-REST should support all the response body formats.

## Error Responses
LWS-REST returns different error responses depending on the error encountered.<br />
See below examples of different error responses:

Error: Input validation failure - URI query parameter<br />
Response code: 400 Bad Request
<pre>{
    "errorCode": "URI_QUERY_FORMAT_ERROR",
    "summary": "URI query parameter variable validation failure",
    "detail": "query.mode is required"
}
</pre>

Error: Input validation failure - URI template variable<br />
Response code: 400 Bad Request
<pre>{
    "errorCode": "URI_TEMPLATE_FORMAT_ERROR",
    "summary": "URI template variable validation failure",
    "detail": "params.mobileIdentityId does not match pattern^\\+\\d+-\\d+$: was processing value \"example\""
}
</pre>

Error: Input validation failure - body property<br />
Response code: 400 Bad Request
<pre>{
    "errorCode": "FORMAT_ERROR",
    "summary": "Input validation failure",
    "detail": "body.profile.name is not of a type(s) string: was processing value \"123\""
}
</pre>

Error: Not authenticated (or authentication failed with some error)<br />
Response code: 401 Unauthorized
<pre>{
    "errorCode": "EXTERNAL_API_AUTHENTICATION_ERROR",
    "externalErrorCode": "4962",
    "externalErrorSummary": "[Error 4962] Invalid password",
    "externalErrorDetail": "[Error 4962] Invalid password"
}
</pre>

Error: Not authorized to perform a request<br />
Response code: 403 Forbidden
<pre>{
    "errorCode": "EXTERNAL_API_FORBIDDEN",
    "externalErrorCode": "4003",
    "externalErrorSummary": "[Error 4003] Unauthorized request: UserAuthenticationModifyRequest",
    "externalErrorDetail": "[Error 4003] Unauthorized request: UserAuthenticationModifyRequest"
}
</pre>

Error: Unexpected response from remote API.<br />
Response code: 502 Bad Gateway
<pre>{
    "errorCode": "EXTERNAL_API_SERVER_ERROR",
    "summary": "Unexpected response from remote API",
    "detail": "LWS-SOAP: Received unexpected response: 'SuccessResponse'"
}
</pre>

Error: Unable to connect to remote API.<br />
Response code: 502 Bad Gateway
<pre>{
    "errorCode": "EXTERNAL_API_CONNECTION_ERROR",
    "summary": "Unable to connect to remote API",
    "detail": "LWS-SOAP: Unable to connect: ECONNREFUSED"
}
</pre>

Error: Failed to send remote API request.<br />
Response code: 502 Bad Gateway
<pre>{
    "errorCode": "EXTERNAL_API_CLIENT_ERROR",
    "summary": "Failed to send remote API request.",
    "detail": "LWS-SOAP: Failed to send request"
}
</pre>

Error: Error response from remote API.<br />
Response code: 424 Failed Dependency
<pre>{
    "errorCode": "EXTERNAL_API_ERROR",
    "externalErrorCode": "4208",
    "externalErrorSummary": "Auto Attendant Add Failed",
    "externalErrorDetail": "[Error 4208] The name is already in use by a service of this type."
}
</pre>

Error: Remote API request timed out.<br />
Response code: 504 Gateway Time-out
<pre>{
    "errorCode": "EXTERNAL_API_REQUEST_TIMEOUT",
    "summary": "External API request timeout",
    "detail": "LWS-SOAP: Message timed out after 30000 ms."
}
</pre>

Error: Unable to parse remote API response.<br />
Response code: 502 Bad Gateway
<pre>{
    "errorCode": "EXTERNAL_API_PARSE_ERROR",
    "summary": "Unable to parse remote API response",
    "detail": "LWS-SOAP: Parse error:Property \"enableVideo\" couldn't be converted. Value false is not valid for integer type"
}
</pre>

Error: The server was unable to process your request.<br />
Response code: 422 Unprocessable Entity
<pre>{
    "errorCode": "SEMANTIC_ERROR",
    "summary": "The server was unable to process your request",
    "detail": "Either customerId or extensions.broadworks.serviceProviderId is required when creating a VoIP Auto Attendant.Either siteId or extensions.broadworks.groupId is required when creating a VoIP Auto Attendant."
}
</pre>

Error: The client tried to access a resource on an external network element and the resource doesn't exist.<br />
Response code: 404 Not Found
<pre>{
    "errorCode": "NOT_FOUND",
    "externalErrorCode": "4151",
    "externalErrorSummary": "[Error 4151] Service Provider or Enterprise not found: example",
    "externalErrorDetail": "[Error 4151] Service Provider or Enterprise not found: example"
}
</pre>

Error: The requested functionality is not implemented.<br />
Response code: 501 Not Implemented
<pre>{
    "errorCode": "NOT_IMPLEMENTED",
    "summary": "The requested functionality is not implemented.",
    "detail": "body.profile.callingLineId: Property phoneNumber does not exist in the schema"
}
</pre>

Error: Server configuration error.<br />
Response code: 500 Internal Server Error
<pre>{
    "errorCode": "CONFIG_ERROR",
    "summary": "Server configuration error",
    "detail": "LWS-SOAP support is not enabled"
}
</pre>

Error: Client tried to call a method that isn't supported for the resource.<br />
Response code: 405 Method Not Allowed

Error: The client called a resource that does not exist at all.<br />
Response code: 404 Not Found

## BroadWorks Service values in LWS-REST
LWS-REST does not support BroadWorks Service name labels.
If you are using a request that takes as input a BroadWorks Service name you need to provide the BroadWorks Service name value.
For example:
* Service label "BroadTouch Business Communicator Mobile - Video" corresponds to OCI service value "Client License 17".

This applies for ALL LWS-REST requests.<br/>
<b>Note</b>: Using BroadWorks Service labels instead of their actual values will result in un-expected behaviour.

# Limitations
1. LWS-REST will not convert BroadWorks callingLineIdPhoneNumber (CLID) into E.164 format when retrieving information from BroadWorks.

## GET + PUT behaviour
The client must remove _links and _embedded (and any immutable properties, e.g. userId) from a GET response before submitting it as a PUT request. 
In other words, a PUT only accepts the documented properties (which is not necessarily every property of the corresponding GET response), and the PUT will error if you include additional properties.

## URI Templates
Refer to https://tools.ietf.org/html/rfc6570 for details on URI Templates. Not that LWS-REST
uses reserved characters (i.e. ":") in some URI Template variables, thus the request templates
use the "{+id}" format - see additional detail at https://tools.ietf.org/html/rfc6570#section-3.2.3.

## JSON Schemas
Provided JSON schemas should be used as a source of information about URI template, URI query, request body, and response body parameters: possible data type, if parameter is required, etc.
All JSON schemas have [draft-v4](http://tools.ietf.org/html/draft-zyp-json-schema-04) format.

## Collections
Unless otherwise noted, Collection resources support standard REST request methods:

<dl>
<dt>HEAD
<dd>Retrieve resource metadata without retrieving the representation.
 Common response codes:
<ul>
<li>204 No Content: Resource exists. No body (no representation) is returned.
<li>404 Not Found: Resource does not exist.
</ul>
<dt>GET
<dd>Retrieve a representation of a resource. There are two standard forms of GET:
<ul>
<li>GET on a specific resource {id} (given the resource's URI).
<li>GET on the Collection, with query parameters. You can query for exact matches
on any of the core parameters, as well as any extension parameters supported by the
network elements configured in the system. Note that if appropriate, the Collection
may include a search Controller (described in the individual sections below) to support complex searches.
</ul>
Common response codes:
<ul>
<li>200 OK: Resource exists; response body contains representation.
<li>204 No Content: Resource exists; there is no body (no representation) to be returned.
<li>404 Not Found: Resource does not exist.
</ul>
<dt>POST
<dd>Create a new resource in the Collection. Also used in special cases to invoke controller resources. Common response codes:
<ul>
<li>200 OK: Pre-validation completed successfully. The optional response body includes any pre-validation results.
<li>201 Created: Resource created. URI of the created Resource is returned in the Location headder and the "url" element in the response body.
<li>204 No Content: Pre-validation completed with no action. This response is sent when a POST is called with "mode=prevalidate-only) on a resource that does not have a pre-validation routine.
<li>400 Bad Request: Request is not valid (e.g. missing required paramterer, invalid values, etc).
<li>404 Not Found: A required resource was not found (e.g. BroadWorks Group does not exist when creating a VoIP User).
<li>409 Conflict: Pre-validation failed because a resource with an identical key (which may be a composite key combining several parameters) already exists. Response body will include a link to the URI of the existing resource.
<li>422 Unprocessable Entity: Pre-validation failed due to a failed semantic test. The response body includes details on the failure(s).
<li>Some POST response codes are only sentfor certain values of the "mode" URL parameter, as noted below:
<ul>
<li>prevalidate-only: 200, 204, 400, 409, 422
<li>prevalidate-and-create: 201, 400, 409, 422
<li>create-only: 201, 400
</ul>
</ul>
<dt>PUT
<dd>Update an existing Resource in the Collection. Any key fields (those which comprise the key which uniquely identifies a resource)
are immutable (may not be changed). See the documentation for each resource for the list of keys. Common response codes:
<ul>
<li>200 OK: Resource successfully updated.
<li>400 Bad Reqkuest: Request is not valid (e.g. invalid values, etc).
<li>403 Forbidden: Update is not allowed (e.g. attempt to update a read-only field).
<li>404 Not Found: resource does not exist
</ul>
<dt>DELETE
<dd>Delete a resource. Common response codes:
<ul>
<li>204 No Content: Resource successfully deleted
<li>404 Not Found: Resource does not exist
</ul>
<dt>OPTIONS
<dd>Fetch resource metadata, including the list of allowed methods. Common response codes:
<ul>
<li>[future] 200 OK: Resource exists. Accept header lists allowed request methods. Response body may provide additional information.
<li>204 No Content: Resource exists. Accept header lists allowed request methods.
<li>404 Not Found: Resource does not exist.
</dl>

# Group Number Translations
Supported network elements:

* Sonus PSX

Classic Server must have at least one Network Element configured with support for Number Translations (e.g. Sonus PSX).

Classic Server must be configured to select the appropriate Network Element for new Number Translations
(by default, the first configured Network Element with Number Translations support will be used).

See the Classic Server documentation appropriate to the configured Network Element for mappings to 3rd-party API fields and
references to 3rd-party documentation.

Keys:

* sourceDn

Extension Keys:

* attributes
* callProcessingElement1Id
* callProcessingElement2Id
* callProcessingElement3Id
* callProcessingElement4Id
* callProcessingElementType

Refer to the **Sonus Insight API Programmer Guide** for descriptions, data types, defaults, and allowed values for
request and response properties under <code>extensions.sonusPsx</code>. Note:

* If the Sonus documentation indicates a data type of integer, short, or long, the value will be numeric in the LWS-REST JSON responses.
* If the Sonus documentation indicates a data type of string, the value will be a string (or null) in the LWS-REST JSON responses.

<!-- ============================ SONUS ============================ -->

<!-- --------------------- Number Translations --------------------- -->

##  Number Translations Collection [/api/number-translations]
### Create a Number Translation [POST]
Create a new Number Translation.

+ Request (application/json)
    + Body

            {
                "sourceDn": "+1-8665554321",
                "translatedDn": "+1-5553043000",
                "extensions": {
                    "sonusPsx": {
                        "attributes": 0,
                        "callProcessingElement1Id": "978",
                        "callProcessingElement2Id": null,
                        "callProcessingElement3Id": null,
                        "callProcessingElement4Id": null,
                        "callProcessingElementType": 5,
                        "servicesProvisioned": 0,
                        "phoneType": 1,
                        "suspendedFlag": 0,
                        "directTranslationFlag": 0,
                        "translationLabelId": null,
                        "translatedCarrierId": null,
                        "translatedCalltype": 0,
                        "translatedNpi": 0,
                        "translatedNoa": 13,
                        "useTranslationProfile": 0,
                        "translationProfileId": null
                    }
                }
            }

    + Schema

            {
               "type": "object",
               "properties": {
                  "sourceDn": {
                     "type": "string",
                     "maxLength": 48
                  },
                  "translatedDn": {
                     "type": "string",
                     "maxLength": 48
                  }
               },
               "required": [
                  "sourceDn",
                  "translatedDn"
               ]
            }

+ Response 201
    + Headers

            Location: http://classicserver.example.com/api/number-translations/3-1-8665554321-0-978----5
            Transaction-Id: 1380080943120

+ Response 409 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/number-translations"
                    }
                },
                "curies": [
                    {
                        "name": "ls",
                        "href": "http://classicserver.example.com/api//rels/{rel}",
                        "templated": true
                    }
                ],
                "_embedded": {
                    "ls:number-translations": {
                        "_links": {
                            "self": {
                                "href": "http://classicserver.example.com/api//number-translations/3-1-8665554321-0-978----5"
                            }
                        },
                        "id": "3-1-8665554321-0-978----5",
                        "sourceDn": "+1-8665554321",
                        "translatedDn": "+1-5553043210",
                        "extensions": {
                            "sonusPsx": {
                                "attributes": 0,
                                "callProcessingElement1Id": "978",
                                "callProcessingElement2Id": null,
                                "callProcessingElement3Id": null,
                                "callProcessingElement4Id": null,
                                "callProcessingElementType": 5,
                                "servicesProvisioned": 1,
                                "phoneType": 0,
                                "suspendedFlag": 0,
                                "directTranslationFlag": 0,
                                "translationLabelId": null,
                                "translatedCarrierId": null,
                                "translatedCalltype": 0,
                                "translatedNpi": 0,
                                "translatedNoa": 12,
                                "useTranslationProfile": 0,
                                "translationProfileId": null
                            }
                        }
                    }
                }
            }

+ Response 500 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "**tbd",
                "summary": "Internal Error",
                "detail": "[detail here]"
            }

### Query Number Translations [GET /api/number-translations{?sourceDn,attributes,callProcessingElement1Id,callProcessingElement2Id,callProcessingElement3Id,callProcessingElement4Id,callProcessingElementType}]
Query number translations. Responses will include (at a minimum) they fields comprising the unique key for the resource.

[future: pagination of results via offset and max; field parameter to specify included/excluded fields]

[future: enhance to include all parameters, not just the key and the full uri? means larger response body,
but also means the client doesn't have to follow with a get /api/number-translations/{+id} if they want the full resource
representation.]

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Type</th>
    <th>Mode</th>
    </thead>
    <tbody>
        <tr>
            <td>sourceDn</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>core</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>attributes</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>extension</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>callProcessingElement1Id</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>extension</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>callProcessingElement2Id</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>extension</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>callProcessingElement3Id</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>extension</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>callProcessingElement4Id</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>extension</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>callProcessingElementType</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>extension</td>
            <td>Equal To</td>
        </tr>
    </tbody>
</table>

+ Parameters
    + sourceDn: `sourceDnExample` (string, required)
    + attributes: `attributesExample` (string, required)
    + callProcessingElement1Id: `callProcessingElement1Example` (string, required)
    + callProcessingElement2Id: `callProcessingElement2Example` (string, required)
    + callProcessingElement3Id: `callProcessingElement3Example` (string, required)
    + callProcessingElementType: `callProcessingElementTypeExample` (string, required)


+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api//number-translations?sourceDn=%2B1-8665554321&attributes=0&callProcessingElement1Id=978&callProcessingElement2Id=&callProcessingElement3Id=&callProcessingElement4Id=&callProcessingElementType=5"
                    }
                },
                "curies": [
                    {
                        "name": "ls",
                        "href": "http://classicserver.example.com/api//rels\/{rel}",
                        "templated": true
                    }
                ],
                "_embedded": {
                    "ls:number-translations": [
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/number-translations/3-1-8665554321-0-978----5"
                                }
                            },
                            "id": "3-1-8665554321-0-978----5",
                            "sourceDn": "+1-8665554321",
                            "translatedDn": "+1-5553043000",
                            "extensions": {
                                "sonusPsx": {
                                    "attributes": 0,
                                    "callProcessingElement1Id": "978",
                                    "callProcessingElement2Id": null,
                                    "callProcessingElement3Id": null,
                                    "callProcessingElement4Id": null,
                                    "callProcessingElementType": 5,
                                    "servicesProvisioned": 0,
                                    "phoneType": 1,
                                    "suspendedFlag": 0,
                                    "directTranslationFlag": 0,
                                    "translationLabelId": null,
                                    "translatedCarrierId": null,
                                    "translatedCalltype": 0,
                                    "translatedNpi": 0,
                                    "translatedNoa": 13,
                                    "useTranslationProfile": 0,
                                    "translationProfileId": null
                                }
                            }
                        }
                    ]
                }
            }

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "ERR_REC_NOT_FOUND",
                "summary": "Failed to 'Retrieve' entity.",
                "detail": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<soapenv:Envelope xmlns:soapenv=\"http:\/\/schemas.xmlsoap.org\/soap\/envelope\/\" [^] xmlns:xsd=\"http:\/\/www.w3.org\/2001\/XMLSchema\" [^] xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n [^] <soapenv:Body>\n <soapenv:Fault>\n <faultcode>soapenv:Server.generalException<\/faultcode>\n <faultstring><\/faultstring>\n <detail>\n <ns1:fault href=\"#id0\" xmlns:ns1=\"http:\/\/www.sonusnet.com\/ems\/emsapi\/psx\/r07_03_06\/intf\"\/>\n [^] <ns2:exceptionName xmlns:ns2=\"http:\/\/xml.apache.org\/axis\/\">com.sonus.ems.api.psx.r07_03_06.model.ProvApiException<\/ns2:exceptionName>\n [^] <\/detail>\n <\/soapenv:Fault>\n <multiRef id=\"id0\" soapenc:root=\"0\" soapenv:encodingStyle=\"http:\/\/schemas.xmlsoap.org\/soap\/encoding\/\" [^] xsi:type=\"ns3:ProvApiException\" xmlns:soapenc=\"http:\/\/schemas.xmlsoap.org\/soap\/encoding\/\" [^] xmlns:ns3=\"http:\/\/www.sonusnet.com\/ems\/emsapi\/psx\/r07_03_06\/model\">\n [^] <errorCode xsi:type=\"xsd:string\">ERR_REC_NOT_FOUND<\/errorCode>\n <message xsi:type=\"xsd:string\">Failed to 'Retrieve' entity.<\/message>\n <rootCause xsi:type=\"xsd:string\">(ERR_REC_NOT_FOUND) [resource] not found for the given criteria. (rc=17)<\/rootCause>\n <\/multiRef>\n <\/soapenv:Body>\n<\/soapenv:Envelope>"
            }

+ Response 400 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "FORMAT_ERROR",
                "summary": "Internal Error",
                "detail": "Request validation failed: params.sourceDn does not match pattern^\\+[0-9]+-[0-9]+$: was processing value \"+1-\""
            }

## Number Translation [/api/number-translations/{id}]

+ Parameters
    Description test
    + id: `idExample` (string, required)

    + Schema

            {
                "aaa": "test"
            }

### Update a Number Translation [PUT]
Update a number translation. All fields are optional.


+ Request URI Parameters

    Description test



+ Request (application/json)
    + Body

            {
                "translatedDn": "+1-5553043000",
                "extensions": {
                    "sonusPsx": {
                        "servicesProvisioned": 0,
                        "phoneType": 1,
                        "suspendedFlag": 0,
                        "directTranslationFlag": 0,
                        "translationLabelId": null,
                        "translatedCarrierId": null,
                        "translatedCalltype": 0,
                        "translatedNpi": 0,
                        "translatedNoa": 13,
                        "useTranslationProfile": 0,
                        "translationProfileId": null
                    }
                }
            }

    + Schema

            {
               "type": "object",
               "properties": {
                  "translatedDn": {},
                  "extensions": {}
               },
               "additionalProperties": false
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 404
    + Headers

            Transaction-Id: 1380080943120



### Delete a Number Translation [DELETE]
Delete a number translation.

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

<!-- --------------------------- Subscribers ------------------------ -->

# Group Subscribers
Supported network elements:

* Sonus PSX

Keys:

* subscriberDn

Extension Keys:

* owningCarrierId

Refer to the **Sonus Insight API Programmer Guide** for descriptions, data types, defaults, and allowed values for
request and response properties under <code>extensions.sonusPsx</code>. Note:

* If the Sonus documentation indicates a data type of integer, short, or long, the value will be numeric in the LWS-REST JSON responses.
* If the Sonus documentation indicates a data type of string, the value will be a string (or null) in the LWS-REST JSON responses.

## Subscribers Collection [/api/subscribers]
### Create a Subscriber [POST]
Create a new Subscriber.

+ Request (application/json)
    + Body

            {
                "subscriberDn": "+1-2005553001",
                "extensions": {
                    "sonusPsx": {
                        "owningCarrierId": "16",
                        "businessGroupId": null,
                        "interLataCarrierId": "5000",
                        "intraLataCarrierId": "5000",
                        "intlCarrierId": "5000",
                        "assignedCarrierId": null,
                        "presentationFlag": 0,
                        "prfdPacketServiceProfileId": null,
                        "optionType": 0,
                        "testSubscriber": 0,
                        "billingPlanId": "EXAMPLE_PLAN",
                        "localCarrierId": "5000",
                        "authcodeScriptId": "EXAMPLE_SCRIPT",
                        "elementAttributes": 0,
                        "classOfServiceId": "EXAMPLE_COS",
                        "pseudoCarrierId": null,
                        "infoDigitId": null,
                        "scpBusinessServiceGroup": 0,
                        "authcodeGroupId": null,
                        "pinDigits": null,
                        "svcList1": 0,
                        "svcList2": 0,
                        "exceptionProfileId": "EXAMPLE_PROFILE",
                        "isDestination": 1,
                        "defaultCpc": null,
                        "homeMobileNetwork": 0,
                        "origEntityRoutingProfileId": "EXAMPLE_RTGPROFILE",
                        "callingArea": "555_EXAMPLE",
                        "businessUnitId": null,
                        "deviceProfileId": null,
                        "memberStatus": -1
                    }
                }
            }

    + Schema

            {
               "type": "object",
               "properties": {
                  "subscriberDn": {
                     "type": "string",
                     "maxLength": 48
                  }
               },
               "required": [
                  "subscriberDn"
               ]
            }

+ Response 201
    + Headers

            Location: http://classicserver.example.com/api/subscribers/1-2005553001-1-16
            Transaction-Id: 1380080943120

+ Response 409 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/subscribers"
                    }
                },
                "curies": [
                    {
                        "name": "ls",
                        "href": "http://classicserver.example.com/api/rels\/{rel}",
                        "templated": true
                    }
                ],
                "_embedded": {
                    "ls:subscribers": {
                        "_links": {
                            "self": {
                                "href": "http://classicserver.example.com/api/subscribers/1-2005553001-1-16"
                            }
                        },
                        "id": "1-2005553001-1-16",
                        "subscriberDn": "+1-2005553001",
                        "extensions": {
                            "sonusPsx": {
                                "owningCarrierId": "16",
                                "businessGroupId": null,
                                "interLataCarrierId": "0000",
                                "intraLataCarrierId": "0000",
                                "intlCarrierId": "0000",
                                "assignedCarrierId": null,
                                "presentationFlag": 0,
                                "prfdPacketServiceProfileId": null,
                                "optionType": 0,
                                "testSubscriber": 0,
                                "billingPlanId": "EXAMPLE_ANOTHER",
                                "localCarrierId": "0000",
                                "authcodeScriptId": "EXAMPLE_ANOTHER",
                                "elementAttributes": 0,
                                "classOfServiceId": "EXAMPLE_ANOTHER",
                                "pseudoCarrierId": null,
                                "infoDigitId": null,
                                "scpBusinessServiceGroup": 0,
                                "authcodeGroupId": null,
                                "pinDigits": null,
                                "svcList1": 0,
                                "svcList2": 0,
                                "exceptionProfileId": "EXAMPLE_ANOTHER",
                                "isDestination": 1,
                                "defaultCpc": null,
                                "homeMobileNetwork": 0,
                                "origEntityRoutingProfileId": "EXAMPLE_ANOTHER",
                                "callingArea": "555_ANOTHER",
                                "businessUnitId": null,
                                "deviceProfileId": null,
                                "memberStatus": -1
                            }
                        }
                    }
                }
            }

+ Response 500 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "**tbd",
                "summary": "**tbd Internal Error",
                "detail": "[detail here]"
            }

+ Response 400 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "FORMAT_ERROR",
                "summary": "Input validation failure",
                "detail": "Request validation failed: params.subscriberDn does not match pattern^\\+[0-9]+-[0-9]+$: was processing value \"+1-\""
            }

### Query Subscribers [GET /api/subscribers{?subscriberDn,owningCarrierId}]
Query Subscribers. Responses will include (at a minimum) they fields comprising the unique key for the resource.

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Mode</th>
    </thead>
    <tbody>
        <tr>
            <td>subscriberDn</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Equal To</td>
        </tr>
        <tr>
            <td>owningCarrierId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Equal To</td>
        </tr>
    </tbody>
</table>

+ Parameters
    + subscriberDn: `subscriberDnExample` (string, required)
    + owningCarrierId: `owningCarrierExample` (string, required)

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/subscribers?subscriberDn=%2B1-2005553001&owningCarrierId=16"
                    }
                },
                "curies": [
                    {
                        "name": "ls",
                        "href": "http://classicserver.example.com/api\/rels/{rel}",
                        "templated": true
                    }
                ],
                "_embedded": {
                    "ls:subscribers": [
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/subscribers/1-2005553001-1-16"
                                }
                            },
                            "id": "1-2005553001-1-16",
                            "subscriberDn": "+1-2005553001",
                            "extensions": {
                                "sonusPsx": {
                                    "owningCarrierId": "16",
                                    "businessGroupId": null,
                                    "interLataCarrierId": "5000",
                                    "intraLataCarrierId": "5000",
                                    "intlCarrierId": "5000",
                                    "assignedCarrierId": null,
                                    "presentationFlag": 0,
                                    "prfdPacketServiceProfileId": null,
                                    "optionType": 0,
                                    "testSubscriber": 0,
                                    "billingPlanId": "EXAMPLE_PLAN",
                                    "localCarrierId": "5000",
                                    "authcodeScriptId": "EXAMPLE_SCRIPT",
                                    "elementAttributes": 0,
                                    "classOfServiceId": "EXAMPLE_COS",
                                    "pseudoCarrierId": null,
                                    "infoDigitId": null,
                                    "scpBusinessServiceGroup": 0,
                                    "authcodeGroupId": null,
                                    "pinDigits": null,
                                    "svcList1": 0,
                                    "svcList2": 0,
                                    "exceptionProfileId": "EXAMPLE_PROFILE",
                                    "isDestination": 1,
                                    "defaultCpc": null,
                                    "homeMobileNetwork": 0,
                                    "origEntityRoutingProfileId": "EXAMPLE_RTGPROFILE",
                                    "callingArea": "555_EXAMPLE",
                                    "businessUnitId": null,
                                    "deviceProfileId": null,
                                    "memberStatus": -1
                                }
                            }
                        }
                    ]
                }
            }

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "ERR_REC_NOT_FOUND",
                "summary": "Failed to 'Retrieve' entity.",
                "detail": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<soapenv:Envelope xmlns:soapenv=\"http:\/\/schemas.xmlsoap.org\/soap\/envelope\/\" [^] xmlns:xsd=\"http:\/\/www.w3.org\/2001\/XMLSchema\" [^] xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n [^] <soapenv:Body>\n <soapenv:Fault>\n <faultcode>soapenv:Server.generalException<\/faultcode>\n <faultstring><\/faultstring>\n <detail>\n <ns1:fault href=\"#id0\" xmlns:ns1=\"http:\/\/www.sonusnet.com\/ems\/emsapi\/psx\/r07_03_06\/intf\"\/>\n [^] <ns2:exceptionName xmlns:ns2=\"http:\/\/xml.apache.org\/axis\/\">com.sonus.ems.api.psx.r07_03_06.model.ProvApiException<\/ns2:exceptionName>\n [^] <\/detail>\n <\/soapenv:Fault>\n <multiRef id=\"id0\" soapenc:root=\"0\" soapenv:encodingStyle=\"http:\/\/schemas.xmlsoap.org\/soap\/encoding\/\" [^] xsi:type=\"ns3:ProvApiException\" xmlns:soapenc=\"http:\/\/schemas.xmlsoap.org\/soap\/encoding\/\" [^] xmlns:ns3=\"http:\/\/www.sonusnet.com\/ems\/emsapi\/psx\/r07_03_06\/model\">\n [^] <errorCode xsi:type=\"xsd:string\">ERR_REC_NOT_FOUND<\/errorCode>\n <message xsi:type=\"xsd:string\">Failed to 'Retrieve' entity.<\/message>\n <rootCause xsi:type=\"xsd:string\">(ERR_REC_NOT_FOUND) [resource] not found for the given criteria. (rc=17)<\/rootCause>\n <\/multiRef>\n <\/soapenv:Body>\n<\/soapenv:Envelope>"
            }

+ Response 400 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "FORMAT_ERROR",
                "summary": "Input validation failure",
                "detail": "Request validation failed: params.subscriberDn does not match pattern^\\+[0-9]+-[0-9]+$: was processing value \"+1-\""
            }

## Subscriber [/api/subscribers/{id}]

+ Parameters
    + id: `idExample` (string, required)

### Update a Subscriber [PUT]
Update a subscriber. All fields are optional.

+ Request (application/json)
    + Body

            {
                "extensions": {
                    "sonusPsx": {
                        "businessGroupId": null,
                        "interLataCarrierId": "5000",
                        "intraLataCarrierId": "5000",
                        "intlCarrierId": "5000",
                        "assignedCarrierId": null,
                        "presentationFlag": 0,
                        "prfdPacketServiceProfileId": null,
                        "optionType": 0,
                        "testSubscriber": 0,
                        "billingPlanId": "EXAMPLE_PLAN",
                        "localCarrierId": "5000",
                        "authcodeScriptId": "EXAMPLE_SCRIPT",
                        "elementAttributes": 0,
                        "classOfServiceId": "EXAMPLE_COS",
                        "pseudoCarrierId": null,
                        "infoDigitId": null,
                        "scpBusinessServiceGroup": 0,
                        "authcodeGroupId": null,
                        "pinDigits": null,
                        "svcList1": 0,
                        "svcList2": 0,
                        "exceptionProfileId": "EXAMPLE_PROFILE",
                        "isDestination": 1,
                        "defaultCpc": null,
                        "homeMobileNetwork": 0,
                        "origEntityRoutingProfileId": "EXAMPLE_RTGPROFILE",
                        "callingArea": "555_EXAMPLE",
                        "businessUnitId": null,
                        "deviceProfileId": null,
                        "memberStatus": -1
                    }
                }
            }

    + Schema

            {
               "type": "object",
               "properties": {
                  "extensions": {}
               },
               "additionalProperties": false
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

### Delete a Subscriber [DELETE]
Delete a subscriber.

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

<!-- --------------------------- Destinations ------------------------------>

# Group Destinations
Supported network elements:

* Sonus PSX

Keys:

* destinationDn

Extension Keys:

* (none)

Refer to the **Sonus Insight API Programmer Guide** for descriptions, data types, defaults, and allowed values for
request and response properties under <code>extensions.sonusPsx</code>. Note:

* If the Sonus documentation indicates a data type of integer, short, or long, the value will be numeric in the LWS-REST JSON responses.
* If the Sonus documentation indicates a data type of string, the value will be a string (or null) in the LWS-REST JSON responses.

## Destinations Collection [/api/destinations]
### Create a Destination [POST]
Create a new Destination.

+ Request (application/json)
    + Body

            {
                "destinationDn": "+1-2005553001",
                "extensions": {
                    "sonusPsx": {
                        "destSvcScriptId": null,
                        "customScriptId": null,
                        "elementAttributes": 0,
                        "prfdPacketServiceProfileId": null,
                        "routingLabelId": "EXAMPLE_RTNG_LBL",
                        "isSubscriber": 1,
                        "portedType": 0,
                        "lnpTransitionFlag": 0,
                        "homeGateway": "EXAMPLE_GW",
                        "exceptionProfileId": null,
                        "businessGroupId": null,
                        "businessUnitId": null
                    }
                }
            }

    + Schema

            {
               "type": "object",
               "properties": {
                  "destinationDn": {
                     "type": "string",
                     "maxLength": 48
                  }
               },
               "required": [
                  "destinationDn"
               ]
            }

+ Response 201
    + Headers

            Location: http://classicserver.example.com/api/destinations/1-2005553001-1
            Transaction-Id: 1380080943120

+ Response 409 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/destinations"
                    }
                },
                "curies": [
                    {
                        "name": "ls",
                        "href": "http://classicserver.example.com/api/rels\/{rel}",
                        "templated": true
                    }
                ],
                "_embedded": {
                    "ls:destinations": {
                        "_links": {
                            "self": {
                                "href": "http://classicserver.example.com/api/destinations\/1-2005553001-1"
                            }
                        },
                        "id": "1-2005553001-1",
                        "destinationDn": "+1-2005553001",
                        "extensions": {
                            "sonusPsx": {
                                "destSvcScriptId": null,
                                "customScriptId": null,
                                "elementAttributes": 0,
                                "prfdPacketServiceProfileId": null,
                                "routingLabelId": "EXAMPLE_RTNG_LBL",
                                "isSubscriber": 1,
                                "portedType": 0,
                                "lnpTransitionFlag": 0,
                                "homeGateway": "EXAMPLE_GW",
                                "exceptionProfileId": null,
                                "businessGroupId": null,
                                "businessUnitId": null
                            }
                        }
                    }
                }
            }

+ Response 500 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "**tbd",
                "summary": "**tbd Internal Error",
                "detail": "[detail here]"
            }

+ Response 400 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "FORMAT_ERROR",
                "summary": "Input validation failure",
                "detail": "Request validation failed: params.destinationDn does not match pattern^\\+[0-9]+-[0-9]+$: was processing value \"+1-\""
            }

### Query Destinations [GET /api/destinations{?destinationDn}]
Query Destinations. Responses will include (at a minimum) they fields comprising the unique key for the resource.

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Mode</th>
    </thead>
    <tbody>
        <tr>
            <td>destinationDn</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Equal To</td>
        </tr>
    </tbody>
</table>

+ Parameters
    + destinationDn: `+1555444332` (string, required)

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/destinations?destinationDn=%2B1-2005553001"
                    }
                },
                "curies": [
                    {
                        "name": "ls",
                        "href": "http://classicserver.example.com/api/rels\/{rel}",
                        "templated": true
                    }
                ],
                "_embedded": {
                    "ls:destinations": [
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/destinations\/1-2005553001-1"
                                }
                            },
                            "id": "1-2005553001-1",
                            "destinationDn": "+1-2005553001",
                            "extensions": {
                                "sonusPsx": {
                                    "destSvcScriptId": null,
                                    "customScriptId": null,
                                    "elementAttributes": 0,
                                    "prfdPacketServiceProfileId": null,
                                    "routingLabelId": "ANOTHER_RTNG_LBL",
                                    "isSubscriber": 0,
                                    "portedType": 0,
                                    "lnpTransitionFlag": 0,
                                    "homeGateway": "ANOTHER_GW",
                                    "exceptionProfileId": null,
                                    "businessGroupId": null,
                                    "businessUnitId": null
                                }
                            }
                        }
                    ]
                }
            }

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "ERR_REC_NOT_FOUND",
                "summary": "Failed to 'Retrieve' entity.",
                "detail": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<soapenv:Envelope xmlns:soapenv=\"http:\/\/schemas.xmlsoap.org\/soap\/envelope\/\" [^] xmlns:xsd=\"http:\/\/www.w3.org\/2001\/XMLSchema\" [^] xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n [^] <soapenv:Body>\n <soapenv:Fault>\n <faultcode>soapenv:Server.generalException<\/faultcode>\n <faultstring><\/faultstring>\n <detail>\n <ns1:fault href=\"#id0\" xmlns:ns1=\"http:\/\/www.sonusnet.com\/ems\/emsapi\/psx\/r07_03_06\/intf\"\/>\n [^] <ns2:exceptionName xmlns:ns2=\"http:\/\/xml.apache.org\/axis\/\">com.sonus.ems.api.psx.r07_03_06.model.ProvApiException<\/ns2:exceptionName>\n [^] <\/detail>\n <\/soapenv:Fault>\n <multiRef id=\"id0\" soapenc:root=\"0\" soapenv:encodingStyle=\"http:\/\/schemas.xmlsoap.org\/soap\/encoding\/\" [^] xsi:type=\"ns3:ProvApiException\" xmlns:soapenc=\"http:\/\/schemas.xmlsoap.org\/soap\/encoding\/\" [^] xmlns:ns3=\"http:\/\/www.sonusnet.com\/ems\/emsapi\/psx\/r07_03_06\/model\">\n [^] <errorCode xsi:type=\"xsd:string\">ERR_REC_NOT_FOUND<\/errorCode>\n <message xsi:type=\"xsd:string\">Failed to 'Retrieve' entity.<\/message>\n <rootCause xsi:type=\"xsd:string\">(ERR_REC_NOT_FOUND) [resource] not found for the given criteria. (rc=17)<\/rootCause>\n <\/multiRef>\n <\/soapenv:Body>\n<\/soapenv:Envelope>"
            }

+ Response 400 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "FORMAT_ERROR",
                "summary": "Input validation failure",
                "detail": "Request validation failed: params.destinationDn does not match pattern^\\+[0-9]+-[0-9]+$: was processing value \"+1-\""
            }

## Destination [/api/destinations/{id}]

+ Parameters
    + id: `idExample` (string, required)

### Update a Destination [PUT]
Update a destination. All fields are optional.

+ Request (application/json)

        {
            "extensions": {
                "sonusPsx": {
                    "destSvcScriptId": null,
                    "customScriptId": null,
                    "elementAttributes": 0,
                    "prfdPacketServiceProfileId": null,
                    "routingLabelId": "EXAMPLE_RTNG_LBL",
                    "isSubscriber": 1,
                    "portedType": 0,
                    "lnpTransitionFlag": 0,
                    "homeGateway": "EXAMPLE_GW",
                    "exceptionProfileId": null,
                    "businessGroupId": null,
                    "businessUnitId": null
                }
            }
        }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

### Delete a Destination [DELETE]
Delete a destination.

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

<!-- ----------------------------- Routes --------------------------- -->

# Group Routes
Supported network elements:

* Sonus PSX

Keys:

* destinationDn

Extension Keys:

* callProcessingElement1Id
* callProcessingElement2Id
* callProcessingElement3Id
* callProcessingElement4Id
* callProcessingElementType
* routingType
* partitionId
* calltype
* transmissionMedium
* userCallType
* digitType
* timeRangeProfileId
* callParamFilterProfileId
* domainName

Refer to the **Sonus Insight API Programmer Guide** for descriptions, data types, defaults, and allowed values for
request and response properties under <code>extensions.sonusPsx</code>. Note:

* If the Sonus documentation indicates a data type of integer, short, or long, the value will be numeric in the LWS-REST JSON responses.
* If the Sonus documentation indicates a data type of string, the value will be a string (or null) in the LWS-REST JSON responses.

## Routes Collection [/api/routes]
### Create a Route [POST]
Create a new Route.

+ Request (application/json)
    + Body

            {
                "destinationDn": "+1-2005553001",
                "extensions": {
                    "sonusPsx": {
                        "callProcessingElement1Id": null,
                        "callProcessingElement2Id": null,
                        "callProcessingElement3Id": null,
                        "callProcessingElement4Id": null,
                        "callProcessingElementType": 0,
                        "routingType": 3,
                        "partitionId": "EXAMPLE_PARTITION",
                        "calltype": 0,
                        "transmissionMedium": 0,
                        "userCallType": 0,
                        "digitType": 2147483647,
                        "timeRangeProfileId": "ALL",
                        "callParamFilterProfileId": null,
                        "domainName": null,
                        "routingLabelId": "EXAMPLE_RTNG_LBL"
                    }
                }
            }

    + Schema

            {
               "type": "object",
               "properties": {
                  "destinationDn": {
                     "type": "string",
                     "maxLength": 48
                  }
               },
               "required": [
                  "destinationDn"
               ]
            }

+ Response 201
    + Headers

            Location: http://classicserver.example.com/api/routes/1-----0-3-2005553001-1-EXAMPLE_PARTITION-0-0-0-2147483647-ALL--
            Transaction-Id: 1380080943120

+ Response 409 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/routes"
                    }
                },
                "curies": [
                    {
                        "name": "ls",
                        "href": "http://classicserver.example.com/api/rels/{rel}",
                        "templated": true
                    }
                ],
                "_embedded": {
                    "ls:routes": {
                        "_links": {
                            "self": {
                                "href": "http://classicserver.example.com/api/routes/1-----0-3-2005553001-1-EXAMPLE_PARTITION-0-0-0-2147483647-ALL--"
                            }
                        },
                        "id": "1-----0-3-2005553001-1-EXAMPLE_PARTITION-0-0-0-2147483647-ALL--",
                        "destinationDn": "+1-2005553001",
                        "extensions": {
                            "sonusPsx": {
                                "callProcessingElement1Id": null,
                                "callProcessingElement2Id": null,
                                "callProcessingElement3Id": null,
                                "callProcessingElement4Id": null,
                                "callProcessingElementType": 0,
                                "routingType": 3,
                                "partitionId": "EXAMPLE_PARTITION",
                                "calltype": 0,
                                "transmissionMedium": 0,
                                "userCallType": 0,
                                "digitType": 2147483647,
                                "timeRangeProfileId": "ALL",
                                "callParamFilterProfileId": null,
                                "domainName": null,
                                "routingLabelId": "ANOTHER_RTNG_LBL"
                            }
                        }
                    }
                }
            }

+ Response 500 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "**tbd",
                "summary": "**tbd Internal Error",
                "detail": "[detail here]"
            }

+ Response 400 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "FORMAT_ERROR",
                "summary": "Input validation failure",
                "detail": "Request validation failed: params.destinationDn does not match pattern^\\+[0-9]+-[0-9]+$: was processing value \"+1-\""
            }

### Query Routes [GET /api/routes{?...}]
Query Routes. Responses will include (at a minimum) they fields comprising the unique key for the resource.

### URI Query Parameters

This request supports two modes. In both cases:

* Each parameter is expected to be complete (the match is an "equals" match, with
no support for wildcards or partial values).
* A "null" value can be searched for by explicitly including the parameter with no value,
e.g. "...&callProcessingElement1Id=".
* If no match is found, the response will be 404 Not Found
* When one or more matches or found, they will be included in the embedded array `_embedded["ls:routes"][]`.

To retrieve a single route resource given all elements of the key, include **all** of (and only) the following
parameters in the request (even if some have null values):

* destinationDn
* callProcessingElement1Id
* callProcessingElement2Id
* callProcessingElement3Id
* callProcessingElement4Id
* callProcessingElementType
* routingType
* partitionId
* calltype
* transmissionMedium
* userCallType
* digitType
* timeRangeProfileId
* callParamFilterProfileId
* domainName

To retrieve all matching route resources for various search criteria, include one or more of the following
parameters in the request:

* destinationDn
* partitionId
* callProcessingElement1Id
* callProcessingElement2Id
* callProcessingElement3Id
* callProcessingElement4Id
* routingLabelId
* callParamFilterProfileId
* domainName

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/routes?destinationDn=%2B1-2005553001&callProcessingElement1Id=&callProcessingElement2Id=&callProcessingElement3Id=&callProcessingElement4Id=&callProcessingElementType=0&routingType=3&partitionId=EXAMPLE_PARTITION&calltype=0&transmissionMedium=0&userCallType=0&digitType=2147483647&timeRangeProfileId=ALL&callParamFilterProfileId=&domainName="
                    }
                },
                "curies": [
                    {
                        "name": "ls",
                        "href": "http://classicserver.example.com/api/rels\/{rel}",
                        "templated": true
                    }
                ],
                "_embedded": {
                    "ls:routes": [
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/routes/1-----0-3-2005553001-1-EXAMPLE_PARTITION-0-0-0-2147483647-ALL--"
                                }
                            },
                            "id": "1-----0-3-2005553001-1-EXAMPLE_PARTITION-0-0-0-2147483647-ALL--",
                            "destinationDn": "+1-2005553001",
                            "extensions": {
                                "sonusPsx": {
                                    "callProcessingElement1Id": null,
                                    "callProcessingElement2Id": null,
                                    "callProcessingElement3Id": null,
                                    "callProcessingElement4Id": null,
                                    "callProcessingElementType": 0,
                                    "routingType": 3,
                                    "partitionId": "EXAMPLE_PARTITION",
                                    "calltype": 0,
                                    "transmissionMedium": 0,
                                    "userCallType": 0,
                                    "digitType": 2147483647,
                                    "timeRangeProfileId": "ALL",
                                    "callParamFilterProfileId": null,
                                    "domainName": null,
                                    "routingLabelId": "EXAMPLE_RTNG_LBL"
                                }
                            }
                        },
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/routes/1-4----0-3-2005553001-1-ANOTHER_PARTITION-0-0-0-2147483647-ALL--"
                                }
                            },
                            "id": "1-4----0-3-2005553001-1-ANOTHER_PARTITION-0-0-0-2147483647-ALL--",
                            "destinationDn": "+1-2005553001",
                            "extensions": {
                                "sonusPsx": {
                                    "callProcessingElement1Id": 4,
                                    "callProcessingElement2Id": null,
                                    "callProcessingElement3Id": null,
                                    "callProcessingElement4Id": null,
                                    "callProcessingElementType": 0,
                                    "routingType": 3,
                                    "partitionId": "ANOTHER_PARTITION",
                                    "calltype": 0,
                                    "transmissionMedium": 0,
                                    "userCallType": 0,
                                    "digitType": 2147483647,
                                    "timeRangeProfileId": "ALL",
                                    "callParamFilterProfileId": null,
                                    "domainName": null,
                                    "routingLabelId": "ANOTHER_RTNG_LBL"
                                }
                            }
                        }
                    ]
                }
            }

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "ERR_REC_NOT_FOUND",
                "summary": "Failed to 'Retrieve' entity.",
                "detail": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<soapenv:Envelope xmlns:soapenv=\"http:\/\/schemas.xmlsoap.org\/soap\/envelope\/\" [^] xmlns:xsd=\"http:\/\/www.w3.org\/2001\/XMLSchema\" [^] xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n [^] <soapenv:Body>\n <soapenv:Fault>\n <faultcode>soapenv:Server.generalException<\/faultcode>\n <faultstring><\/faultstring>\n <detail>\n <ns1:fault href=\"#id0\" xmlns:ns1=\"http:\/\/www.sonusnet.com\/ems\/emsapi\/psx\/r07_03_06\/intf\"\/>\n [^] <ns2:exceptionName xmlns:ns2=\"http:\/\/xml.apache.org\/axis\/\">com.sonus.ems.api.psx.r07_03_06.model.ProvApiException<\/ns2:exceptionName>\n [^] <\/detail>\n <\/soapenv:Fault>\n <multiRef id=\"id0\" soapenc:root=\"0\" soapenv:encodingStyle=\"http:\/\/schemas.xmlsoap.org\/soap\/encoding\/\" [^] xsi:type=\"ns3:ProvApiException\" xmlns:soapenc=\"http:\/\/schemas.xmlsoap.org\/soap\/encoding\/\" [^] xmlns:ns3=\"http:\/\/www.sonusnet.com\/ems\/emsapi\/psx\/r07_03_06\/model\">\n [^] <errorCode xsi:type=\"xsd:string\">ERR_REC_NOT_FOUND<\/errorCode>\n <message xsi:type=\"xsd:string\">Failed to 'Retrieve' entity.<\/message>\n <rootCause xsi:type=\"xsd:string\">(ERR_REC_NOT_FOUND) [resource] not found for the given criteria. (rc=17)<\/rootCause>\n <\/multiRef>\n <\/soapenv:Body>\n<\/soapenv:Envelope>"
            }

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "ERR_REC_NOT_FOUND",
                "summary": "Internal Error",
                "detail": "Query returned no records"
            }

+ Response 400 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "FORMAT_ERROR",
                "summary": "Input validation failure",
                "detail": "Request validation failed: params.destinationDn does not match pattern^\\+[0-9]+-[0-9]+$: was processing value \"+1-\""
            }

## Route [/api/routes/{id}]

+ Parameters
    + id: (string, required)

### Update a Route [PUT]
Update a route. All fields are optional.

+ Request (application/json)

        {
            "extensions": {
                "sonusPsx": {
                    "routingLabelId": "EXAMPLE_RTNG_LBL"
                }
            }
        }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

### Delete a Route [DELETE]
Delete a route.

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 404
    + Headers

            Transaction-Id: 1380080943120

<!-- ======================== BroadWorks ============================= -->

<!-- ------------------------ Customers ------------------------------ -->

# Group Customers

+ Supported network elements:
    + BroadWorks Application Server

+ Keys:
    + customerId

+ Extension Keys:
    + (none)


## Customers Collection [/api/customers{?mode}]

+ Parameters
    + mode: `create-only` (string, required)
         + Members
            + `create-only`


<!-- ----------------------- POST /customers{?mode} ------------------ -->
### Create a Customer [POST]
Create a Customer.<br/>
Process Name: Create Customer (VoIP Entity)

### URI Query Parameters
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>mode</td><td>yes</td><td>n/a</td><td>Controls execution mode.<br><b>Note</b>: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed</td></tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Create Customer URI Query Parameters",
        "required": [
            "mode"
        ],
        "properties": {
            "mode": {
                "description": "Controls execution mode.<br><b>Note</b>: at this time only \"create-only\" (attempts to create the resource, with no pre-validation) is allowed",
                "enum": [
                    "prevalidate-only",
                    "prevalidate-and-create",
                    "create-only"
                ]
            }
        }
    }

### Request Properties
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>name</td><td>yes</td><td>n/a</td><td>This property is used to construct the BroadWorks serviceProviderId and serviceProviderName</td></tr>
    <tr><td>defaultDomain</td><td>no</td><td>n/a</td><td>Default domain. Will be added to BroadWorks if not already exists. By default, default system domain will be used</td></tr>
    <tr><td>supportEmail</td><td>no</td><td>n/a</td><td>Must be a valid email address</td></tr>
    <tr><td>contact</td><td>no</td><td>n/a</td><td>Container for Contact information.</td></tr>
    <tr><td>contact.name</td><td>no</td><td>n/a</td><td>Contact Name</td></tr>
    <tr><td>contact.number</td><td>no</td><td>n/a</td><td>Contact Phone Number</td></tr>
    <tr><td>contact.email</td><td>no</td><td>n/a</td><td>Contact E-mail address</td></tr>
    <tr><td>address</td><td>no</td><td>n/a</td><td>Container for Address information.</td></tr>
    <tr><td>address.addressLine1</td><td>no</td><td>n/a</td><td>Street address</td></tr>
    <tr><td>address.addressLine2</td><td>no</td><td>n/a</td><td>Street address</td></tr>
    <tr><td>address.city</td><td>no</td><td>n/a</td><td>City</td></tr>
    <tr><td>address.stateOrProvince</td><td>no</td><td>n/a</td><td>State or Province</td></tr>
    <tr><td>address.zipOrPostalCode</td><td>no</td><td>n/a</td><td>Zip or Postal Code</td></tr>
    <tr><td>address.country</td><td>no</td><td>n/a</td><td>Country</td></tr>
    <tr><td>networkClassesOfService</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b> Container for Network Classes of Service specific properties </td></tr>
    <tr><td>networkClassesOfService.default</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b> Group's default Network Class of Service</td></tr>
        <tr><td>extensions</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>extensions.broadworks</td><td>no</td><td>n/a</td><td>Container for BroadWorks-specific properties.</td></tr>
    <tr><td>extensions.broadworks.resourceId</td><td>no</td><td>n/a</td><td>The ID of the BroadWorks Service Provider/Enterprise.<br>If present in the request body, it overwrites the serviceProviderId value that was generated from the name parameter</td></tr>
    <tr><td>extensions.broadworks.isEnterprise</td><td>no</td><td>true</td><td>Determines if service provider or enterprise will be created</td></tr>
    <tr><td>extensions.broadworks.hostingNe</td><td>no</td><td>n/a</td><td>hostingNE of Broadworks Application Server.<br>BroadWorks cluster ID. Must match to one of hostingNe's specified in the Classic Server configuration. When omitted, default cluster is used</td></tr>
    <tr><td>extensions.broadworks.useCustomRoutingProfile</td><td>no</td><td>n/a</td><td>Required when extensions.broadworks.isEnterprise is false. Otherwise should be omitted</td></tr>
    </td></tr>   
    </tbody>
</table>

### Response Properties - 201 Created
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>customerId</td><td>yes</td><td>n/a</td><td>Classic Server customerId (server-generated) of the Customer</td></tr>
    <tr><td>defaultDomain</td><td>no</td><td>n/a</td><td>Customer's default domain. Presents in the response if not provided in the request</td></tr>
    <tr><td>extensions</td><td>no</td><td>n/a</td><td>Container for network-element specific properties</td></tr>
    <tr><td>extensions.broadworks</td><td>yes</td><td>n/a</td><td>Container for BroadWorks-specific properties.</td></tr>
    <tr><td>extensions.broadworks.resourceId</td><td>yes</td><td>n/a</td><td>The ID of the BroadWorks Service Provider/Enterprise</td></tr>
    <tr><td>extensions.broadworks.isEnterprise</td><td>no</td><td>n/a</td><td>Presents in the response if not provided in the request</td></tr>
    <tr><td>extensions.broadworks.hostingNe</td><td>no</td><td>n/a</td><td>hostingNE of Broadworks Application Server.<br>Presents in the response if not provided in the request</td></tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "name": "Example Com",
                "contact": {
                    "name": "Billy",
                    "number": "Bishop",
                    "email": "billy@example.com"
                },
                "address": {
                    "addressLine1": "415 Sixth Ave",
                    "addressLine2": "Suite 102",
                    "city": "North Seventh",
                    "stateOrProvince": "Alabama",
                    "zipOrPostalCode": "50415",
                    "country": "USA"
                }
            }

    + Schema

            {
               "title": "Create Customer request body properties",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "name": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "defaultDomain": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "pattern": "^[a-zA-Z0-9.-]+$"
                  },
                  "supportEmail": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "format": "email"
                  },
                  "contact": {
                     "type": "object",
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "number": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "email": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80,
                           "format": "email"
                        }
                     }
                  },
                  "address": {
                     "type": "object",
                     "properties": {
                        "addressLine1": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "addressLine2": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "city": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "stateOrProvince": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "zipOrPostalCode": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "country": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        }
                     }
                  },
                  "networkClassesOfService": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "default": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[^%+/#:\\'\"]+$"
                              },
                              "isEnterprise": {
                                 "type": "boolean"
                              },
                              "hostingNe": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 40
                              },
                              "useCustomRoutingProfile": {
                                 "type": "boolean"
                              }
                           }
                        }
                     }
                  }
               },
               "required": [
                  "name"
               ]
            }

+ Request Example: Adding Enterprise (application/json)
No additional parameters is required, enterprise type is used by default.

    + Body

            {
                "name": "Example Com",
                "contact": {
                    "email": "example@example.com"
                }
            }

+ Request Example: Adding Service Provider (application/json)
To add service provider, `extensions.broadworks.isEnterprise` needs to be set to false. In this case `extensions.broadworks.useCustomRoutingProfile` parameter is required.

    + Body

            {
                "name": "Example Com",
                "contact": {
                    "email": "example@example.com"
                },
                "extensions": {
                    "broadworks": {
                        "isEnterprise": false,
                        "useCustomRoutingProfile": false
                    }
                }
            }

+ Request Example: Specifying desired cluster (application/json)
In multi-cluster BroadWorks configuration, entity will be added on the default cluster. To specify other cluster, `extensions.broadworks.hostingNe` parameter needs to be included.

    + Body

            {
                "name": "Example Com",
                "contact": {
                    "email": "example@example.com"
                },
                "extensions": {
                    "broadworks": {
                        "hostingNe": "REL20AS2"
                    }
                }
            }

+ Response 201 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120
            Location: http://classicserver.example.com/api/customers/Example%20Com

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/Example%20Com"
                    }
                },
                "customerId": "Example Com",
                "defaultDomain": "voip.example.net",
                "extensions": {
                    "broadworks": {
                        "resourceId": "Example Com",
                        "isEnterprise": true,
                        "hostingNe": "REL21AS"
                    }
                }
            }

    + Schema

            {
               "title": "Create Customer response properties",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "defaultDomain": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "pattern": "^[a-zA-Z0-9.-]+$"
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[^%+/#:\\'\"]+$"
                              },
                              "isEnterprise": {
                                 "type": "boolean"
                              },
                              "hostingNe": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 40
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     }
                  }
               },
               "required": [
                  "_links",
                  "customerId"
               ]
            }

## Customer [/api/customers/{customerId}]

+ Parameters
    + customerId: `customerExample` (string, required)

<!-- ------------ GET /customers/{+customerId} ------------------ -->
### Retrieve a Customer [GET]
Retrieve the Customer matching a specific customerId.<br/>
Process Name: Retrieve Customer (VoIP Entity)

### URI Template Parameters
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>customerId</td><td>yes</td><td>n/a</td><td>Classic Server customerId (server-generated) of the Customer</td></tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Retrieve Customer URI Template Parameters",
        "required": [
            "customerId"
        ],
        "properties": {
            "customerId": {
                "title": "Classic Server customerId (server-generated) of the Customer",
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        }
    }

### Response Properties - 200 OK
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>customerId</td><td>yes</td><td>n/a</td><td>Classic Server customerId (server-generated) of the Customer</td></tr>
    <tr><td>defaultDomain</td><td>yes</td><td>n/a</td><td></td></tr>
    <tr><td>customerName</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>supportEmail</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>contact</td><td>no</td><td>n/a</td><td>Container for Contact information.</td></tr>
    <tr><td>contact.name</td><td>no</td><td>n/a</td><td>Contact Name</td></tr>
    <tr><td>contact.number</td><td>no</td><td>n/a</td><td>Contact Phone Number</td></tr>
    <tr><td>contact.email</td><td>no</td><td>n/a</td><td>Contact E-mail address</td></tr>
    <tr><td>address</td><td>no</td><td>n/a</td><td>Container for Address information.</td></tr>
    <tr><td>address.addressLine1</td><td>no</td><td>n/a</td><td>Street address</td></tr>
    <tr><td>address.addressLine2</td><td>no</td><td>n/a</td><td>Street address</td></tr>
    <tr><td>address.city</td><td>no</td><td>n/a</td><td>City</td></tr>
    <tr><td>address.stateOrProvince</td><td>no</td><td>n/a</td><td>State or Province</td></tr>
    <tr><td>address.zipOrPostalCode</td><td>no</td><td>n/a</td><td>Zip or Postal Code</td></tr>
    <tr><td>address.country</td><td>no</td><td>n/a</td><td>Country</td></tr>
    <tr><td>useServiceProviderLanguages</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>extensions</td><td>no</td><td>n/a</td><td>Container for network-element specific properties</td></tr>
    <tr><td>extensions.broadworks</td><td>no</td><td>n/a</td><td>Container for BroadWorks-specific properties.</td></tr>
    <tr><td>extensions.broadworks.isEnterprise</td><td>yes</td><td>n/a</td><td>True if BroadWorks entity is enterprise, false if it is service provider</td></tr>
    <tr><td>extensions.broadworks.resourceId</td><td>yes</td><td>n/a</td><td>The ID of the BroadWorks Service Provider/Enterprise</td></tr>
    <tr><td>extensions.broadworks.useCustomRoutingProfile</td><td>no</td><td>n/a</td><td>Appears for service providers only</td></tr>
</table>

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/Example%20Com"
                    }
                },
                "customerId": "Example Com",
                "defaultDomain": "example.com",
                "customerName": "Example Com Co.",
                "supportEmail": "support@example.com",
                "contact": {
                    "name": "Billy",
                    "number": "Bishop",
                    "email": "billy@example.com"
                },
                "address": {
                    "addressLine1": "415 Sixth Ave",
                    "addressLine2": "Suite 102",
                    "city": "North Seventh",
                    "stateOrProvince": "Alabama",
                    "zipOrPostalCode": "50415",
                    "country": "USA"
                },
                "useServiceProviderLanguages": false,
                "extensions": {
                    "broadworks": {
                        "isEnterprise": true,
                        "resourceId": "Example Com"
                    }
                }
            }

    + Schema

            {
               "title": "Retrieve Customer response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1
                  },
                  "useCustomRoutingProfile": {
                     "type": "boolean"
                  },
                  "defaultDomain": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "pattern": "^[a-zA-Z0-9.-]+$"
                  },
                  "name": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "supportEmail": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "format": "email"
                  },
                  "contact": {
                     "type": "object",
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "number": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "email": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80,
                           "format": "email"
                        }
                     }
                  },
                  "address": {
                     "type": "object",
                     "properties": {
                        "addressLine1": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "addressLine2": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "city": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "stateOrProvince": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "zipOrPostalCode": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "country": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        }
                     }
                  },
                  "useServiceProviderLanguages": {
                     "type": "boolean"
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "properties": {
                              "isEnterprise": {
                                 "type": "boolean"
                              },
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     }
                  }
               },
               "required": [
                  "_links",
                  "customerId",
                  "defaultDomain"
               ]
            }

<!-- ----------------- PUT /customers/{+customerId} ------------------ -->
### Modify a Customer [PUT]
Update a Customer.<br/>
Process Name: Modify Customer (VoIP Entity)

### URI Template Parameters
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>customerId</td><td>yes</td><td>n/a</td><td>Classic Server customerId (server-generated) of the Customer</td></tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters:

    {
        "title": "Update Customer URI Template Parameters",
        "required": [
            "customerId"
        ],
        "properties": {
            "customerId": {
                "title": "Classic Server customerId (server-generated) of the Customer",
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        }
    }

### Request Properties
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>customerName</td><td>no</td><td>n/a</td><td>This property maps to serviceProviderName of the related BroadWorks service provider or enterprise entity</td></tr>
    <tr><td>defaultDomain</td><td>no</td><td>n/a</td><td>Domain must already be assigned to the Customer</td></tr>
    <tr><td>supportEmail</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>contact</td><td>no</td><td>n/a</td><td>Container for Contact information.</td></tr>
    <tr><td>contact.name</td><td>no</td><td>n/a</td><td>Contact Name</td></tr>
    <tr><td>contact.number</td><td>no</td><td>n/a</td><td>Contact Phone Number</td></tr>
    <tr><td>contact.email</td><td>no</td><td>n/a</td><td>Contact E-mail address</td></tr>
    <tr><td>address</td><td>no</td><td>n/a</td><td>Container for Address information.</td></tr>
    <tr><td>address.addressLine1</td><td>no</td><td>n/a</td><td>Street address</td></tr>
    <tr><td>address.addressLine2</td><td>no</td><td>n/a</td><td>Street address</td></tr>
    <tr><td>address.city</td><td>no</td><td>n/a</td><td>City</td></tr>
    <tr><td>address.stateOrProvince</td><td>no</td><td>n/a</td><td>State or Province</td></tr>
    <tr><td>address.zipOrPostalCode</td><td>no</td><td>n/a</td><td>Zip or Postal Code</td></tr>
    <tr><td>address.country</td><td>no</td><td>n/a</td><td>Country</td></tr>
    <tr><td>useServiceProviderLanguages</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>networkClassesOfService</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b> Container for Network Classes of Service specific properties</td></tr>
    <tr><td>networkClassesOfService.default</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b> Group's default Network Class of Service</td></tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "customerName": "Example Net",
                "defaultDomain": "voip.example.net",
                "supportEmail": "support@example.net",
                "contact": {
                    "name": "Billy",
                    "number": "Bishop",
                    "email": "billy@example.net"
                },
                "address": {
                    "addressLine1": "415 Sixth Ave",
                    "addressLine2": "Suite 102",
                    "city": "North Seventh",
                    "stateOrProvince": "Alabama",
                    "zipOrPostalCode": "50415",
                    "country": "USA"
                }
            }

    + Schema

            {
               "title": "Modify Customer request body properties",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "customerName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "defaultDomain": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "pattern": "^[a-zA-Z0-9.-]+$"
                  },
                  "supportEmail": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "format": "email"
                  },
                  "contact": {
                     "type": "object",
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "number": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "email": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80,
                           "format": "email"
                        }
                     }
                  },
                  "address": {
                     "type": "object",
                     "properties": {
                        "addressLine1": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "addressLine2": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "city": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "stateOrProvince": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "zipOrPostalCode": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "country": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        }
                     }
                  },
                  "useServiceProviderLanguages": {
                     "type": "boolean"
                  },
                  "networkClassesOfService": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "default": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        }
                     }
                  }
               }
            }

+ Response 204 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

<!-- ------------------------------ DELETE /customers/{+customerId} ----------------------------- -->
### Delete a Customer [DELETE]

Delete a Customer.<br/>
Process Name: Delete Customer (VoIP Entity)

### URI Template Parameters
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>customerId</td><td>yes</td><td>n/a</td><td>Classic Server customerId (server-generated) of the Customer</td></tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Delete Customer URI Template Parameters",
        "required": [
            "customerId"
        ],
        "properties": {
            "customerId": {
                "title": "Classic Server customerId (server-generated) of the Customer",
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        }
    }

+ Response 204 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

<!-- -------------------------- Customer Administrators ------------------------ -->
# Group Customer Administrators
Supported network elements:

* BroadWorks Application Server
* LWS-SOAP

Keys:

* customerId
* customerAdministratorId

Extension Keys:

* (none)

## Customer Administrators Collection [/api/customers/{customerId}/administrators{?mode}]

+ Parameters
    + customerId: `customerExample` (required, string)
    + mode: `create-only` (required, enum[string])
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`


### Create an Administrator [POST]
Create a new Administrator in the specified VoIP Customer.<br />
In the initial implementation a Customer Administrator is composed of a single BroadWorks Service Provider/Enterprise Administrator.<br />
Process name: Customer Admin Add via LWS-SOAP (VoIP Entity)<br />
Rollback-enabled: No

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Controls execution mode.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>Note: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Create Customer Administrator request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### URI Template Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the Administrator should be created.
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Create Customer Administrator request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        },
        "required": [
            "customerId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
        <th>Property</th>
        <th>Required?</th>
        <th>Default</th>
        <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>name</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>The clients suggested name for the resource.<br />
            It is used for constructing the BroadWorks Id of the Customer Administrator</td>
        </tr>
        <tr>
            <td>firstName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>First name.</td>
        </tr>
        <tr>
            <td>lastName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Last name.</td>
        </tr>
        <tr>
            <td>language</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>LWS-SOAP configured languages/default/value</td>
            <td>Language.</td>
        </tr>
        <tr>
            <td>password</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Password.<br />
            <b>Note: If it is omitted LWS-SOAP will generate it.</b></td>
        </tr>
        <tr>
            <td>type</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Normal</td>
            <td>Administrator type.<br />
            <b>Note: "Normal" value for this property resolves to "Service Provider" type in BroadWorks</b>
            </td>
        </tr>
        <tr>
            <td>email</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Email address.<br />
            <b>Note: Not provisioned to BroadWorks. Used only for external integration via an orchestration system.</b>
            </td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for BroadWorks-specific properties.
            </td>
        </tr>
        <tr>
            <td>extensions.broadworks.resourceId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                The BroadWorks ID to be set on the new Administrator.<br />
                <b>Note: If provided it overrides the value generated from the "name" aaa property.</b>
            </td>
        </tr>
    </tbody>
</table>

### Response Properties - 201 Created

For the Create Customer Administrator process besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Mandatory</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerAdministratorId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>The Classic Server ID (server-generated) of the new Customer Administrator.</td>
        </tr>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the Administrator was created.
            </td>
        </tr>
        <tr>
            <td>firstName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>First name.</td>
        </tr>
        <tr>
            <td>lastName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Last name.</td>
        </tr>
        <tr>
            <td>language</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Language.</td>
        </tr>
        <tr>
            <td>password</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Password.</td>
        </tr>
        <tr>
            <td>type</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Administrator type.</td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>The BroadWorks ID set on the new Administrator.</td>
                        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "name": "wsmith",
                "firstName": "Will",
                "lastName": "Smith",
                "language": "English",
                "password": "dk6&di9!-0",
                "type": "Normal",
                "email": "wsmith@example.com",
                "extensions": {
                    "broadworks": {
                        "resourceId": "wsmith"
                    }
                }
            }

    + Schema

            {
               "title": "Create Customer Administrator request body properties",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "name": {
                     "type": "string",
                     "minLength": 6,
                     "maxLength": 80,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]+$"
                  },
                  "firstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "lastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "language": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "password": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 60
                  },
                  "type": {
                     "enum": [
                        "Normal",
                        "Customer",
                        "Password Reset Only"
                     ]
                  },
                  "email": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 254,
                     "format": "email"
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 6,
                                 "maxLength": 80,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]+$"
                              }
                           }
                        }
                     }
                  }
               },
               "required": [
                  "name"
               ]
            }

+ Response 201 (application/hal+json)
    + Headers

            Location: http://classicserver.example.com/api/customers/Example%20Com/administrators/wsmith
            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/Example%20Com/administrators/wsmith"
                    }
                },
                "customerId": "Example Com",
                "customerAdministratorId": "wsmith",
                "firstName": "Will",
                "lastName": "Smith",
                "language": "English",
                "password": "dk6&di9!-0",
                "type": "Normal",
                "extensions": {
                    "broadworks": {
                        "resourceId": "wsmith"
                    }
                }
            }

    + Schema

            {
               "title": "Create Customer Administrator response properties",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "customerAdministratorId": {
                     "type": "string",
                     "minLength": 6,
                     "maxLength": 80,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]+$"
                  },
                  "firstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "lastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "language": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "password": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 60
                  },
                  "type": {
                     "enum": [
                        "Normal",
                        "Customer",
                        "Password Reset Only"
                     ]
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 6,
                                 "maxLength": 80,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]+$"
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "customerId",
                  "customerAdministratorId",
                  "language",
                  "password",
                  "type",
                  "extensions"
               ]
            }

## Customer Administrator [/api/customers/{customerId}/administrators/{customerAdministratorId}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + customerAdministratorId: `customerAdministratorExample` (string, required)

### Delete an Administrator [DELETE]
Delete a Customer Administrator.<br />
Process name: Delete Customer Administrator via LWS SOAP(VoIP Entity)<br />
Rollback-enabled: No

### URI Template Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer from which the Administrator should be deleted.
            </td>
        </tr>
        <tr>
            <td>customerAdministratorId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerAdministratorId (server-generated) of the Customer Administrator to be deleted.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Delete Customer Administrator request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "customerAdministratorId": {
                "type": "string",
                "minLength": 6,
                "maxLength": 80,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]+$"
            }
        },
        "required": [
            "customerId",
            "customerAdministratorId"
        ]
    }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4007",
                "externalErrorSummary": "Error deleting administrator: adminTest",
                "externalErrorDetail": "[Error 4007] Invalid login ID: adminTest"
            }

<!-- --------------------------- Sites --------------------------- -->

# Group Sites
Supported network elements:

* BroadWorks Application Server

Keys:

* customerId
* siteId

Extension Keys:

* (none)

## Site [/api/customers/{customerId}/sites/{siteId}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)

### Retrieve a Site [GET]
Retrieve a Site.<br />
Process name: Retrieve Site (VoIP Entity Service).<br />
Rollback-enabled: No.

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the new Site is located.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Retrieve Site request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1
            },
            "siteId": {
                "type": "string",
                "minLength": 1
            }
        },
        "required": [
            "customerId",
            "siteId"
        ]
    }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/ExampleCom/sites/ExampleCom"
                    }
                },
                "customerId": "ExampleCom",
                "siteId": "ExampleCom",
                "defaultDomain": "example.com",
                "userLimit": 25,
                "userCount": 2,
                "siteName": "ExampleCom",
                "callingLineId": {
                    "name": "ExampleCom",
                    "phoneNumber": "+1-2025555003"
                },
                "timeZone": "US\/Eastern",
                "locationDialingCode": "1",
                "contact": {
                    "name": "bob jones",
                    "number": "2028887777",
                    "email": "bjones@jones.com"
                },
                "address": {
                    "addressLine1": "415 Sixth Ave",
                    "addressLine2": "Suite 102",
                    "city": "North Seventh",
                    "stateOrProvince": "Alabama",
                    "zipOrPostalCode": "50415",
                    "country": "USA"
                },
                "extensions": {
                    "broadworks": {
                        "resourceId": "ExampleCom"
                    }
                }
            }

    + Schema

            {
               "title": "Retrieve Site response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1
                  },
                  "siteName": {
                     "type": ["string", "null"],
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "callingLineId": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "name": {
                           "type": ["string", "null"],
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "phoneNumber": {
                           "id": "E.164 DN",
                           "type": ["string", "null"],
                           "description": "A formatted TN.",
                           "pattern": "^\\+\\d+-?\\d+$",
                           "minLength": 1,
                           "maxLength": 23
                        }
                     }
                  },
                  "defaultDomain": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "pattern": "^[a-zA-Z0-9.-]+$"
                  },
                  "userLimit": {
                     "type": "integer",
                     "minimum": 1,
                     "maximum": 999999
                  },
                  "userCount": {
                     "type": "integer"
                  },
                  "timeZone": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 127
                  },
                  "locationDialingCode": {
                     "type": ["string", "null"],
                     "minLength": 1,
                     "maxLength": 15,
                     "pattern": "^[0-9]+$"
                  },
                  "contact": {
                     "type": ["object", "null"],
                     "additionalProperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "number": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "email": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80,
                           "format": "email"
                        }
                     }
                  },
                  "address": {
                     "type": ["object", "null"],
                     "additionalProperties": false,
                     "properties": {
                        "addressLine1": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "addressLine2": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "city": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "stateOrProvince": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "zipOrPostalCode": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "country": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     }
                  }
               },
               "required": [
                  "_links",
                  "customerId",
                  "siteId",
                  "userLimit",
                  "userCount"
               ]
            }


## Sites Collection [/api/customers/{customerId}/sites{?mode}]

+ Parameters
     + customerId: `customerExample` (string, required)
     + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

### Create a Site [POST]
Create a new Site.<br />
Process name: Create Site (VoIP Entity)<br />
Rollback-enabled: Yes.

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the new Site is to be created.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Create Site request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1
            }
        },
        "required": [
            "customerId"
        ]
    }

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Controls execution mode.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
       </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Create Site request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>name</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Suggested name for the new site. In the default configuration, this will be used as the group name for the underlying BroadWorks group.<br />
            The name property will also be used to generate the BroadWorks groupId by stripping invalid characters and truncating the result to maximum 30 characters.
            </td>
        </tr>
        <tr>
            <td>defaultDomain</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Default Domain of the BroadWorks group.<br />
            If not present in the request the Service Provider/Enterprise default domain will be assigned to the new group.
            </td>
        </tr>
        <tr>
            <td>userLimit</td>
            <td style="text-align: center;">yes</td>
            <td>n/a</td>
            <td>Maximum number of users in the BroadWorks group</td>
        </tr>
         <tr>
            <td>callingLineId</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>
                Container for Calling Line ID information.</td></tr>
                        <tr>
                            <td>callingLineId.name</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Calling Line ID Group Name.<br />
                            If not present in the request it will be generated from the name by removing disallowed characters.</td>
                        </tr>
                        <tr>
                            <td>callingLineId.phoneNumber</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Calling Line ID Group Number.</td>
                        </tr>
                        <tr>
                            <td>callingLineId.tnRoutine</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Calling Line ID Group Phone Number (TN) assignment routine.<br />
                                Supported values and impact on other required properties:
                            <ul>
                                <li><b>port-no-temp</b> - TN does not exist in the system; will attempt to assign at both the Customer and Site levels</li>
                                <li><b>auto</b>- TN may or may not already exist in the system; will be assigned automatically to either/both as needed.</li>
                                <li><b>no-number</b> - TN will not be assigned automatically.</li>
                                <li><b>""(empty string)</b> - TN will not be assigned automatically.</li>
                            </ul>
                            </td>
                        </tr>
            </td>
        </tr>
         <tr>
            <td>timeZone</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Time Zone expressed as a Zone Name from the IANA Time Zone Database, e.g. "America/New_York".</td>
        </tr>
        <tr>
            <td>locationDialingCode</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Location Dialing Code.</td>
        </tr>
        <tr>
        <tr><td>contact</td><td>no</td><td>n/a</td><td>Container for Contact information.</td></tr>
    <tr><td>contact.name</td><td>no</td><td>n/a</td><td>Contact Name</td></tr>
    <tr><td>contact.number</td><td>no</td><td>n/a</td><td>Contact Phone Number</td></tr>
    <tr><td>contact.email</td><td>no</td><td>n/a</td><td>Contact E-mail address</td></tr>
    <tr><td>address</td><td>no</td><td>n/a</td><td>Container for Address information.</td></tr>
    <tr><td>address.addressLine1</td><td>no</td><td>n/a</td><td>Street address</td></tr>
    <tr><td>address.addressLine2</td><td>no</td><td>n/a</td><td>Street address</td></tr>
    <tr><td>address.city</td><td>no</td><td>n/a</td><td>City</td></tr>
    <tr><td>address.stateOrProvince</td><td>no</td><td>n/a</td><td>State or Province</td></tr>
    <tr><td>address.zipOrPostalCode</td><td>no</td><td>n/a</td><td>Zip or Postal Code</td></tr>
    <tr><td>address.country</td><td>no</td><td>n/a</td><td>Country</td></tr>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>
                Container for BroadWorks-specific properties.
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>The groupId for the new BroadWorks group.<br />
                            If present it overwrites the generated value from the name property.
                            </td>
                        </tr>
                        <tr>
                            <td>extensions.broadworks.templateGroupId</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>The groupId of a BroadWorks group that will be used as template. Must be the groupId of a group in the Helper service provider defined in the configuration.<br />
                            <b>Note:</b> Documentation of how group templating works in LWS-REST is found in the Classic Provisioning Administrator's Guide.
                            </td>
                        </tr>
            </td>
        </tr>
        <tr>
            <td>extensionLength</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>
                Container for Extension Dialing information.
                        <tr>
                            <td>extensionLength.min</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Controls the minimum extension dialing policy of a Group.</td>
                        </tr>
                        <tr>
                            <td>extensionLength.max</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Controls the maximum extension dialing policy of a Group.</td>
                        </tr>
                        <tr>
                            <td>extensionLength.default</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Controls the default extension dialing policy of a Group.</td>
                        </tr>
            </td>
        </tr>
        <tr>
            <td>services</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>The set of services to configure to the new BroadWorks group.<br />
            Each service name must match a valid (configurable) group service in BroadWorks.<br />
            <b>Note</b>: The Site Add request does not assign the services from the <code>services</code> section in the request
            body; it only configures them.<br />
            To ensure the necessary group services are assigned to the BroadWorks group, be sure to select a BroadWorks
            template that has the desired services assigned.<br />
            If service configuration settings are included in the request, but the template group doesn't have the
            service(s) assigned (or the template is omitted in the request), the request will fail.<br />
            </td>
        </tr>
        <tr>
            <td>services.'Voice Portal'.*</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Configuration settings for the Voice Portal service. The following settings are supported.</td></tr>
                    <tr>
                        <td>services.'Voice Portal'.*.isActive</td>
                        <td style="text-align: center;">no</td>
                        <td>n/a</td>
                        <td>On/Off</td>
                    </tr>
                    <tr>
                        <td>services.'Voice Portal'.*.extension</td>
                        <td style="text-align: center;">no</td>
                        <td>n/a</td>
                        <td>Extension</td>
                    </tr>
                    <tr>
                        <td>services.'Voice Portal'.*.phoneNumber</td>
                        <td style="text-align: center;">no</td>
                        <td>n/a</td>
                        <td>Phone Number</td>
                    </tr>
                    <tr>
                        <td>services.'Voice Portal'.*.tnRoutine</td>
                        <td style="text-align: center;">no</td>
                        <td>n/a</td>
                        <td>Voice Portal Phone Number (TN) assignment routine.<br />
                        Supported values and impact on other required properties:
                        <ul>
                                <li><b>port-no-temp</b> - TN does not exist in the system; will attempt to assign at both the Customer and Site levels</li>
                                <li><b>auto</b>- TN may or may not already exist in the system; will be assigned automatically to either/both as needed.</li>
                            <li><b>no-number</b> - TN will not be assigned automatically.</li>
                            <li><b>""(empty string)</b> - TN will not be assigned automatically.</li>
                            </ul></td>
                    </tr>
        <tr>
            <td>services.'Third-Party Voice Mail Support'.*</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Configuration settings for the Third-Party Voice Mail Support service. </td></tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.isActive</td>
                <td style="text-align: center;">no</td>
                <td>n/a</td>
                <td>On/Off</td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.groupServer</td>
                <td style="text-align: center;">no</td>
                <td>n/a</td>
                <td>Third-Party Voice Mail Server.</td>
            </tr>
        <tr>
            <td>networkClassesOfService</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>
                <b>Not Implemented</b><br />
                Container for Network Classes of Service specific properties.
            </td>
        </tr>
        <tr>
            <td>networkClassesOfService.default</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>
                <b>Not Implemented</b><br />
                Group's default Network Class of Service.
            </td>
        </tr>
    </tbody>
</table>

### Response Properties - 201 Created
Besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td>A Classic Server ID (server-generated) of the existing Customer.</td>
       </tr>
       <tr>
            <td>siteId</td>
            <td>A Classic Server ID (server-generated) of the created Site. The format of this is subject to change. <br />
                It is not guaranteed to match what is given as input ("name") and also it is not guaranteed to match the created BroadWorks Group ID.
            </td>
       </tr>
       <tr>
            <td>extensions.broadworks.resourceId</td>
            <td>The ID of the created BroadWorks Group.</td>
       </tr>
       <tr>
            <td>callingLineId.name</td>
            <td>The generated Calling Line ID Group Name if it wasn't present in the request.</td>
       </tr>
       <tr>
            <td>defaultDomain</td>
            <td>The assigned default domain if it wasn't present in the request.</td>
       </tr>
    </tbody>
</table>


+ Request (application/json)

    + Body

            {
                "name": "Example Com - North",
                "defaultDomain": "example.com",
                "userLimit": 10,
                "callingLineId": {
                    "name": "ExampleComNorth",
                    "phoneNumber": "+1-4164449867",
                    "tnRoutine": "port-no-temp"
                },
                "timeZone": "America\/St_Johns",
                "locationDialingCode": "415",
                "contact": {
                    "name": "Billy",
                    "number": "Bishop",
                    "email": "billy@example.com"
                },
                "address": {
                    "addressLine1": "415 Sixth Ave",
                    "addressLine2": "Suite 102",
                    "city": "North Seventh",
                    "stateOrProvince": "Alabama",
                    "zipOrPostalCode": "50415",
                    "country": "USA"
                },
                "extensionLength": {
                    "min": 2,
                    "max": 6,
                    "default": 4
                },
                "services": {
                    "Voice Portal": {
                        "isActive": true,
                        "extension": "4000",
                        "phoneNumber": "+1-4165554000",
                        "tnRoutine": "port-no-temp"
                    },
                    "Third-Party Voice Mail Support": {
                        "isActive": true,
                        "groupServer": "+1-4157770010"
                    }
                },
                "extensions": {
                    "broadworks": {
                        "resourceId": "Example Com - North",
                        "templateGroupId": "BusinessLineBasic"
                    }
                }
            }

    + Schema

            {
               "title": "Create Site request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "name": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "defaultDomain": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "pattern": "^[a-zA-Z0-9.-]+$"
                  },
                  "userLimit": {
                     "type": "integer",
                     "minimum": 1,
                     "maximum": 999999
                  },
                  "callingLineId": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "phoneNumber": {
                           "id": "E.164 DN",
                           "type": "string",
                           "description": "A formatted TN.",
                           "pattern": "^\\+\\d+-\\d+$",
                           "minLength": 1,
                           "maxLength": 23
                        },
                        "tnRoutine": {
                           "enum": [
                              null,
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        }
                     }
                  },
                  "timeZone": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 127
                  },
                  "locationDialingCode": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 15,
                     "pattern": "^[0-9]+$"
                  },
                  "contact": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "number": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "email": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80,
                           "format": "email"
                        }
                     }
                  },
                  "address": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "addressLine1": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "addressLine2": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "city": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "stateOrProvince": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "zipOrPostalCode": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "country": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[^\\%\\+\\/;:\\\\'\"]+$"
                              },
                              "templateGroupId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              }
                           }
                        }
                     }
                  },
                  "extensionLength": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "min": {
                           "type": "integer",
                           "minimum": 2,
                           "maximum": 20
                        },
                        "max": {
                           "type": "integer",
                           "minimum": 2,
                           "maximum": 20
                        },
                        "default": {
                           "type": "integer",
                           "minimum": 2,
                           "maximum": 20
                        }
                     }
                  },
                  "services": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "Voice Portal": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "isActive": {
                                 "type": "boolean"
                              },
                              "extension": {
                                 "type": "string",
                                 "minLength": 2,
                                 "maxLength": 20
                              },
                              "phoneNumber": {
                                 "id": "E.164 DN",
                                 "type": "string",
                                 "description": "A formatted TN.",
                                 "pattern": "^\\+\\d+-\\d+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              "tnRoutine": {
                                 "enum": [
                                    null,
                                    "",
                                    "port-no-temp",
                                    "auto",
                                    "no-number"
                                 ]
                              }
                           }
                        },
                        "Third-Party Voice Mail Support": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "isActive": {
                                 "type": "boolean"
                              },
                              "groupServer": {
                                 "id": "OutgoingDNorSIPURI",
                                 "anyOf": [
                                    {
                                       "id": "E.164 DN",
                                       "type": [
                                          "string",
                                          "null"
                                       ],
                                       "description": "A formatted TN.",
                                       "pattern": "^\\+\\d+-\\d+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "non-E.164 DN",
                                       "type": "string",
                                       "description": "A non-E.164 formatted TN.",
                                       "pattern": "^[\\d\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "SIP URI",
                                       "type": "string",
                                       "description": "SIP URI",
                                       "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 161
                                    }
                                 ]
                              }
                           }
                        }
                     }
                  },
                  "networkClassesOfService": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                          "default": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 40
                          }
                      }
                  }
               },
               "required": [
                  "name",
                  "userLimit"
               ]
            }

+ Response 201 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120
            Location: http://classicserver.example.com/api/customers/ExampleCom/sites/Example%20Com%20-%20North

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Com%20-%20North"
                    }
                },
                "customerId": "Example Com",
                "siteId": "Example Com - North",
                "callingLineId": {
                    "name": "ExampleComNorth"
                },
                "extensions": {
                    "broadworks": {
                        "resourceId": "Example Com - North"
                    }
                }
            }

    + Schema

            {
               "title": "Create Site response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1
                  },
                  "callingLineId": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        }
                     }
                  },
                  "defaultDomain": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "pattern": "^[a-zA-Z0-9.-]+$"
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     }
                  }
               },
               "required": [
                  "_links",
                  "customerId",
                  "siteId"
               ]
            }

<!-- -------------------------- Site Users ---------------------- -->

# Group Site Users
Supported network elements:

* BroadWorks Application Server

Keys:

* customerId
* siteId

Extension Keys:

* (none)

## Site Users Collection [/api/customers/{customerId}/sites/{siteId}/users]

+ Parameters
     + customerId: `customerExample` (string, required)
     + siteId: `siteExample` (string, required)

### Retrieve Users list [GET]
Retrieve the list of Users in Site.<br />
In the initial implementation a User is composed of a single BroadWorks User.<br />
Process name: Retrieve List of Users in Site (VoIP Entity)<br />
The request is also backed by an alternate process which is part of the eFax Solution.<br />
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the Site is located.
            </td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site in which the Users are located.
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        },
        "required": [
            "customerId",
            "siteId"
        ]
    }

### Response Properties - 200 OK
For the Retrieve list of Users in Site request besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Mandatory</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the Site is located.
            </td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Classic Server siteId (server-generated) of the Site in which the Users are located.
            </td>
        </tr>
        <tr>
            <td>_embedded</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Container for _embedded resources</td>
        </tr>
        <tr>
            <td>_embedded.ls:users</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>
                Array containing the Users in Site.<br />
                <b>Note</b>: If no Users are found in the Site the array will be empty.<br />
                The following rows describe the properties of an element in the list (array).<br />
                Besides the properties listed in the table below, an item also contains the normal HAL `_links` properties.</td></tr>
                        <tr>
                            <td>_embedded.ls:users.userId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>Classic Server User ID</td>
                        </tr>
                        <tr>
                            <td>_embedded.ls:users.type</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>User type. <b>Note</b>: In the initial implementation only the eFax Users will be identified with the â€œtypeâ€ property if the 
                                "Retrieve List of Users in Site (VoIP Entity)" alternate process is enabled.
                            </td>
                        </tr>
                        <tr>
                            <td>_embedded.ls:users.lastName</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>User last name</td>
                        </tr>
                        <tr>
                            <td>_embedded.ls:users.firstName</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>User first name</td>
                        </tr>
                        <tr>
                            <td>_embedded.ls:users.department</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>User department</td>
                        </tr>
                        <tr>
                            <td>_embedded.ls:users.phoneNumber</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>User phone number</td>
                        </tr>
                        <tr>
                            <td>_embedded.ls:users.phoneNumberActivated</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>Flag that specifies if the userâ€™s phone number is activated.</td>
                        </tr>
                        <tr>
                            <td>_embedded.ls:users.email</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>User email address</td>
                        </tr>
                        <tr>
                            <td>_embedded.ls:users.extension</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>User extension</td>
                        </tr>
                        <tr>
                            <td>_embedded.ls:users.extensions.broadworks</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>
                                Container for BroadWorks-specific properties.</td></tr>
                                                                    <tr>
                                            <td>_embedded.ls:users.extensions.broadworks.resourceId</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>The BroadWorks ID of the User</td>
                                        </tr>
                            </td>
                        </tr>
        </tr>
    </tbody>
</table>

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Com%20North/users"
                    }
                },
                "_embedded": {
                    "ls:users": [
                        {
                            "_links" : {
                                "self" : {
                                    "href" : "http://classicserver.example.com/api/users/5003000001@example.com"
                                }
                            }, 
                            "userId": "5003000001@example.com",
                            "lastName": "Smith",
                            "firstName": "John",
                            "department": "Department Example (Example Com - North)",
                            "phoneNumber": "+1-5003000001",
                            "phoneNumberActivated": true,
                            "email": "jsmith@example.com",
                            "extension": "5301",
                            "extensions": {
                                "broadworks": { 
                                    "resourceId": "5003000001@example.com"
                                }
                            }
                        },
                        {
                            "_links" : {
                                "self" : {
                                    "href" : "http://classicserver.example.com/api/users/5003000002@example.com"
                                }
                            }, 
                            "userId": "5003000002@example.com",
                            "lastName": "Smith",
                            "firstName": "Johnnie",
                            "department": "Department Example (Example Com - North)",
                            "phoneNumber": "+1-5003000002",
                            "phoneNumberActivated": false,
                            "email": "jsmith@example.com",
                            "extension": "5302",
                            "extensions": {
                                "broadworks": { 
                                    "resourceId": "5003000002@example.com"
                                }
                            }
                        },
                        {
                            "_links" : {
                                "self" : {
                                    "href" : "http://classicserver.example.com/api/users/_efax_5003000003@example.com"
                                }
                            }, 
                            "userId": "_efax_5003000003@example.com",
                            "type": "eFax",
                            "lastName": "Smith",
                            "firstName": "John (eFax)",
                            "department": "Department Example (Example Com - North)",
                            "phoneNumber": "+1-5003000003",
                            "phoneNumberActivated": true,
                            "email": "jsmith3@example.com",
                            "extension": "5303",
                            "extensions": {
                                "broadworks": { 
                                    "resourceId": "_efax_5003000003@example.com"
                                }
                            }
                        }
                    ]
                },
                "customerId": "Example Com",
                "siteId": "Example Com - North"
            }


    + Schema

            {
               "title": "Response Body Parameters Schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "_embedded": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "ls:users": {
                           "type": "array",
                           "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                 "_links": {
                                    "type": "object",
                                    "properties": {
                                       "self": {
                                          "type": "object",
                                          "properties": {
                                             "href": {
                                                "type": "string"
                                             }
                                          },
                                          "required": [
                                             "href"
                                          ]
                                       }
                                    },
                                    "required": [
                                       "self"
                                    ]
                                 },
                                 "userId": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 161,
                                    "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                                 },
                                 "type": {
                                    "enum": [
                                       "eFax"
                                    ]
                                 },
                                 "lastName": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "firstName": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "department": {
                                    "type": [
                                       "string",
                                       "null"
                                    ],
                                    "minLength": 1,
                                    "maxLength": 50
                                 },
                                 "phoneNumber": {
                                    "type": [
                                       "string",
                                       "null"
                                    ],
                                    "minLength": 1,
                                    "maxLength": 23,
                                    "pattern": "^\\+\\d+-\\d+$"
                                 },
                                 "phoneNumberActivated": {
                                    "type": [
                                       "boolean",
                                       "null"
                                    ]
                                 },
                                 "email": {
                                    "type": [
                                       "string",
                                       "null"
                                    ],
                                    "minLength": 1,
                                    "maxLength": 80,
                                    "format": "email"
                                 },
                                 "extension": {
                                    "type": [
                                       "string",
                                       "null"
                                    ],
                                    "minLength": 2,
                                    "maxLength": 20,
                                    "pattern": "^[0-9]+$"
                                 },
                                 "extensions": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                       "broadworks": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                             "resourceId": {
                                                "type": "string",
                                                "minLength": 1,
                                                "maxLength": 161,
                                                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                                             }
                                          },
                                          "required": [
                                             "resourceId"
                                          ]
                                       }
                                    },
                                    "required": [
                                       "broadworks"
                                    ]
                                 }
                              },
                              "required": [
                                 "_links",
                                 "userId",
                                 "lastName",
                                 "firstName",
                                 "department",
                                 "phoneNumber",
                                 "phoneNumberActivated",
                                 "email",
                                 "extension",
                                 "extensions"
                              ]
                           }
                        }
                     },
                     "required": [
                        "ls:users"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "customerId",
                  "siteId",
                  "_embedded"
               ]
            }


<!-- -------------------------- Site Administrators ---------------------- -->

# Group Site Administrators
Supported network elements:

* BroadWorks Application Server
* LWS-SOAP

Keys:

* customerId
* siteId
* siteAdministratorId

Extension Keys:

* (none)

## Site Administrators Collection [/api/customers/{customerId}/sites/{siteId}/administrators{?mode}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

### Create an Administrator [POST]
Create a new Administrator in the specified VoIP Site.<br />
In the initial implementation a Site Administrator is composed of a single BroadWorks Group Administrator.<br />
Process name: Create Site Administrator via LWS SOAP (VoIP Entity)<br />
Rollback-enabled: No

### URI Query Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Controls execution mode.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>Note: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Create Site Administrator request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the Site is located.
            </td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site in which the Administrator should be created.
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Create Site Administrator request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        },
        "required": [
            "customerId",
            "siteId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>name</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>The clients suggested name for the resource.<br />
            It is used for constructing the BroadWorks Id of the Site Administrator</td>
        </tr>
        <tr>
            <td>firstName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>First name.</td>
        </tr>
        <tr>
            <td>lastName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Last name.</td>
        </tr>
        <tr>
            <td>language</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Language. The BroadWorks default will be used.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>password</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Password.<br />
            <b>Note: If it is omitted LWS-SOAP will generate it.</b></td>
        </tr>
        <tr>
            <td>email</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Email address.<br />
            <b>Note: Not provisioned to BroadWorks. Used only for external integration via an orchestration system.</b>
            </td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for BroadWorks-specific properties.</td>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>The BroadWorks ID to be set on the new Administrator.<br />
                            <b>Note: If provided it overrides the value generated from the "name" property.</b>
                            </td>
                        </tr>
        </tr>
    </tbody>
</table>

### Response Properties - 201 Created
For the Create Site Administrator process besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Mandatory</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>siteAdministratorId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>The Classic Server ID (server-generated) of the new Site Administrator.</td>
        </tr>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the Site is located.
            </td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Classic Server siteId (server-generated) of the Site in which the Administrator was created.
            </td>
        </tr>
        <tr>
            <td>password</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Password.</td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>
                Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>The BroadWorks ID set on the new Administrator.</td>
                        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "name": "wsmith@example.com",
                "firstName": "Will",
                "lastName": "Smith",
                "password": "dk6&di9!-0",
                "email": "wsmith@example.com",
                "extensions": {
                    "broadworks": {
                        "resourceId": "wsmith@example.com"
                    }
                }
            }

    + Schema

            {
               "title": "Create Site Administrator request body properties",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "name": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "firstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "lastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "language": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "password": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 60
                  },
                  "email": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 254,
                     "format": "email"
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           }
                        }
                     }
                  }
               },
               "required": [
                  "name"
               ]
            }

+ Response 201 (application/hal+json)
    + Headers

            Location: http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Com%20North/administrators/wsmith@example.com
            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "hhttp://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Com%20North/administrators/wsmith@example.com"
                    }
                },
                "customerId": "Example Com",
                "siteId": "Example Com North",
                "siteAdministratorId": "wsmith@example.com",
                "password": "dk6&di9!-0",
                "extensions": {
                    "broadworks": {
                        "resourceId": "wsmith@example.com"
                    }
                }
            }

    + Schema

            {
               "title": "Create Site Administrator response properties",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteAdministratorId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "password": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 60
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "customerId",
                  "siteId",
                  "siteAdministratorId",
                  "password",
                  "extensions"
               ]
            }

## Site Administrator [/api/customers/{customerId}/sites/{siteId}/administrators/{siteAdministratorId}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + siteAdministratorId: `siteAdministratorExample` (string, required)

### Delete an Administrator [DELETE]
Delete a Site Administrator.<br />
Process name: Delete Site Administrator via LWS SOAP (VoIP Entity)<br />
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the Site is located.
            </td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site from which the Administrator should be deleted.
            </td>
        </tr>
        <tr>
            <td>siteAdministratorId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server siteAdministratorId (server-generated) of the Site Administrator to be deleted.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Delete Site Administrator request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "cusomerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteAdministratorId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "cusomerId",
            "siteId",
            "siteAdministratorId"
        ]
    }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4007",
                "externalErrorSummary": "[Error 4007] Invalid login ID: adminTest@example.com",
                "externalErrorDetail": "[Error 4007] Invalid login ID: adminTest@example.com"
            }

<!-- ------------------------- Site Meet Me Conferencing ----------------------- -->

# Group Site Meet Me Conferencing
+ Supported network elements:
    + LWS-SOAP
    + BroadWorks Application Server

+ Keys:
    + meetMeConferencingId

+ Extension Keys:
    + (none)

## Meet-Me Conferencing Instances Collection [/api/customers/{customerId}/sites/{siteId}/meet-me-conferencing/instances{?mode}]

+ Parameters
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`
    + customerId: `DemoCumstomer` (string, required)
    + siteId: `DemoSite` (string, required)
            
### Create Meet Me Conferencing Instance [POST]
Create a new Meet Me Conferencing Instance.<br />

Resource: Site Meet Me Conferencing Bridge

Resource Archetype: Document

### JSON Schema for URI Template Parameters

    {
      "title": "URI template parameters schema",
      "description": "Create Meet Me Conferencing Bridge URI template parameters schema",
      "type": "object",
      "properties": {
        "customerId": {
          "title": "Customer ID",
          "description": "Generated Customer ID",
          "$ref": "/base#/definitions/GeneratedId"
        },
        "siteId": {
          "title": "Site ID",
          "description": "Generated Site ID",
          "$ref": "/base#/definitions/GeneratedId"
        }
      },
      "required": [
        "customerId",
        "siteId"
      ]
    }

### JSON Schema for URI Query Parameters

    {
      "id": "siteMeetMeConferencing.createMeetMeConferencing.request.uri.query.schema",
      "$ref": "/base#/definitions/ModeUriQuery"
    }
    

### Request Properties

+ Request (application/json)
    + Body

            {
              "name": "5551239876@example.com",
              "extensions": {
                "broadworks": {
                  "resourceId": "5551239876@example.com"
                }
              },
              "profile": {
                "name": "My Meet Me Conferencing",
                "phoneNumber": "+1-5551239876",
                "extension": "9876",
                "language": "English",
                "timeZone": " America\/New_York"
              },
              "maxConferenceDuration": {
                "enable": true,
                "hours": 8,
                "minutes": 15
              },
              "maxScheduledConferenceDuration": {
                "hours": 9,
                "minutes": 15
              },
              "playConferenceEndWarningPrompt": {
                "enable": true,
                "minutes": 7
              },
              "allowIndividualOutDial": true,
              "securityPinLength": 5,
              "allocatedPorts": {
                "unlimited": true
              },
              "services": {
                "Alternate Numbers": {},
                "Basic Call Logs": {}
              }
            }

    + Schema

            {
              "id": "siteMeetMeConferencing.createMeetMeConferencingBridge.request.body.schema",
              "title": "Create Meet Me Conferencing Bridge",
              "description": "Create Meet Me Conferencing Bridge Request Body Schema",
              "additionalProperties": false,
              "properties": {
                "name": {
                  "title": "name",
                  "description": "The clients suggested name for the resource. It is used for constructing the BroadWorks Meet-Me Conferencing Bridge ID.",
                  "$ref": "/base#/definitions/UserId"
                },
                "extensions": {
                  "title": "Extensions",
                  "description": "Extensions container",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "broadworks": {
                      "title": "BroadWorks",
                      "description": "BroadWorks Container",
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "resourceId": {
                          "title": "Resource Id",
                          "description": "The ID to be set on the new virtual user. Note: If provided it overrides the value generated from the 'name' property.If both 'name' and 'extensions.broadworks.resourceId' are omitted then the userId of the virtual user will be auto-generated.",
                          "$ref": "/base#/definitions/UserId"
                        }
                      }
                    }
                  }
                },
                "profile": {
                  "title": "Profile",
                  "description": "Container for profile settings",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "name": {
                      "title": "Name",
                      "description": "Service Instance Name",
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 30
                    },
                    "callingLineId": {
                      "title": "Calling Line Id",
                      "description": "Container for Calling Line Id settings",
                      "additionalProperties": false,
                      "properties": {
                        "firstName": {
                          "title": "First Name",
                          "description": "First Name for Calling Line Id Display",
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 30
                        },
                        "lastName": {
                          "title": "Last Name",
                          "description": "Last Name for Calling Line Id Display",
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 30
                        }
                      }
                    },
                    "timeZone": {
                      "title": "Time Zone",
                      "description": "Time Zone",
                      "$ref": "/base#/definitions/TimeZone"
                    },
                    "language": {
                      "title": "Language",
                      "description": "Language",
                      "$ref": "/base#/definitions/Language"
                    },
                    "department": {
                      "title": "Department",
                      "description": "NOT IMPLEMENTED. Department",
                      "$ref": "/base#/definitions/DepartmentName"
                    },
                    "alias": {
                      "title": "Alias",
                      "description": "NOT IMPLEMENTED. List of possible SIP URIs aliases of the Virtual User. Not Implemented",
                      "type": "array",
                      "maxItems": 3,
                      "items": {
                        "title": "SIP URI",
                        "description": "SIP URI alias of the Virtual User",
                        "$ref": "/base#/definitions/SIPURI"
                      }
                    },
                    "publicServiceIdentity": {
                      "title": "Public Service Identity",
                      "description": "NOT IMPLEMENTED. Public User Identity SIP URI for the Virtual User. Not Implemented",
                      "$ref": "/base#/definitions/SIPURI"
                    },
                    "phoneNumber": {
                      "$ref": "/base#/definitions/PhoneNumber"
                    },
                    "tnRoutine": {
                      "$ref": "/base#/definitions/TnRoutineNotNillable"
                    },
                    "extension": {
                      "title": "Extension",
                      "description": "Extension",
                      "$ref": "/base#/definitions/NillableExtension"
                    }
                  },
                  "required": ["name"]
                },
                "securityPinLength": {
                  "title": "Security Pin Length",
                  "description": "Length of security pin for Meet-Me Conference",
                  "type": "integer",
                  "minimum": 4,
                  "maximum": 12
                },
                "allocatedPorts": {
                  "title": "Allocated Ports",
                  "description": "Number of Allocated Ports. Can be either unlimited or an integer quantity",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "unlimited": {
                      "title": "Unlimited",
                      "description": "Unlimited number of allocated ports",
                      "type": "boolean"
                    },
                    "quantity": {
                      "title": "Quantity",
                      "description": "Number of allocated ports. It can either be unlimited or a quantity provided, but not both",
                      "type": "integer",
                      "minimum": 1,
                      "maximum": 999999
                    }
                  }
                },
                "allowIndividualOutDial": {
                  "title": "Allow Individual Out Dial",
                  "description": "Allow out-dialing to individual participants.",
                  "type": "boolean"
                },
                "playConferenceEndWarningPrompt": {
                  "title": "Warning Prompt",
                  "description": "Container for Warning Prompt settings",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "enable": {
                      "title": "Play",
                      "description": "Play Warning Prompt before the conference end.",
                      "type": "boolean"
                    },
                    "minutes": {
                      "title": "Conference End",
                      "description": "Minutes before the warning prompt is played",
                      "type": "integer",
                      "minimum": 1,
                      "maximum": 15
                    }
                  },
                  "required": ["enable", "minutes"]
                },
                "maxConferenceDuration": {
                  "title": "Conference duration",
                  "description": "Container for Conference duration settings",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "enable": {
                      "title": "Enable maximum duration",
                      "description": "Limits the conference duration.",
                      "type": "boolean"
                    },
                    "hours": {
                      "title": "Maximum number of hours",
                      "description": "Maximum Conference Duration in hours.",
                      "$ref": "/base#/definitions/MaxHours"
                    },
                    "minutes": {
                      "title": "Maximum number of minutes",
                      "description": "Maximum Conference Duration in minutes.",
                      "$ref": "/base#/definitions/MaxMinutes"
                    }
                  },
                  "required": ["enable", "hours", "minutes"]
                },
                "maxScheduledConferenceDuration": {
                  "title": "Scheduled Conference duration",
                  "description": "Container for Scheduled Conference duration settings",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "hours": {
                      "title": "Maximum number of hours",
                      "description": "Maximum Scheduled Conference Duration in hours.",
                      "$ref": "/base#/definitions/MaxHours"
                    },
                    "minutes": {
                      "title": "Maximum number of minutes",
                      "description": "Maximum Scheduled Conference Duration in minutes.",
                      "$ref": "/base#/definitions/MaxMinutes"
                    }
                  },
                  "required": ["hours", "minutes"]
                },
                "services": {
                  "title": "Services",
                  "description": "Container for list of services and their configuration settings to be assigned to the virtual user. Note: Initial release does not support service configuration. To assign a service without doing any configuration, set the value to an empty object, e.g. \"services\" : { \"Remote Office\" : { } }.",
                  "type": "object",
                  "patternProperties": {
                    "^.+$": {
                      "type": "object"
                    }
                  }
                }
              },
              "required": ["profile", "allocatedPorts", "securityPinLength", "allowIndividualOutDial", "playConferenceEndWarningPrompt", "maxConferenceDuration", "maxScheduledConferenceDuration"]
            }

+ Response 201 (application/hal+json)
    + Headers

            Location: http://uc.example.com/api/customer/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances/5551239876%40example.com
            Transaction-Id: 1380080943120

    + Body

            {
              "_links": {
                "self": {
                  "href": "/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances/5551239876%40example.com"
                },
                "ls:customer": {
                  "href": "/api/customers/DemoCustomer"
                },
                "ls:site": {
                  "href": "/api/customers/DemoCustomer/sites/DemoSite"
                },
                "collection": {
                  "href": "/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances"
                }
              },
              "meetMeConferencingId": "5551239876@example.com",
              "profile": {
                "name": "My Meet Me Conferencing",
                "callingLineId": {
                  "lastName": "My Meet Me Conferencing",
                  "firstName": "My Meet Me Conferencing"
                },
                "publicServiceIdentity": "5551239876@example.com",
                "extension": "9876"
              },
              "mailbox": {
                "userId": "user@example.com",
                "email": "user@example.net"
              },
              "customerId": "DemoCustomer",
              "siteId": "DemoSite",
              "extensions": {
                "broadworks": {
                  "resourceId": "5551239876@example.com"
                }
              }
            }

    + Schema

            {
              "id": "siteMeetMeConferencing.createMeetMeConferencingBridge.response.body.schema",
              "title": "Create Meet Me Conferencing Bridge Response",
              "description": "Create Meet Me Conferencing Bridge Response Body Schema",
              "additionalProperties": false,
              "properties":{
                "_links": {
                  "title": "Links",
                  "description": "Meet Me Conferencing HAL Links",
                  "type": "object",
                  "properties": {
                    "self": {
                      "title": "Self",
                      "description": "Meet Me Conferencing self link",
                      "$ref": "/hal#/definitions/link"
                    },
                    "collection": {
                      "title": "Collection",
                      "description": "Link to Meet Me Conferencing instances",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:customer": {
                      "title": "Customer",
                      "description": "Link to associated Customer",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:site": {
                      "title": "Site",
                      "description": "Link to associated Site",
                      "$ref": "/hal#/definitions/link"
                    }
                  },
                  "required": [
                    "self",
                    "collection",
                    "ls:customer",
                    "ls:site"
                  ]
                },
                "profile": {
                  "title": "Profile",
                  "description": "Container for profile settings",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "name": {
                      "title": "Name",
                      "description": "Service Instance Name",
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 30
                    },
                    "callingLineId": {
                      "title": "Calling Line Id",
                      "description": "Container for Calling Line Id settings",
                      "additionalProperties": false,
                      "properties": {
                        "firstName": {
                          "title": "First Name",
                          "description": "First Name for Calling Line Id Display",
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 30
                        },
                        "lastName": {
                          "title": "Last Name",
                          "description": "Last Name for Calling Line Id Display",
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 30
                        }
                      }
                    },
                    "publicServiceIdentity": {
                      "type": "string",
                      "title": "Public Service Identity",
                      "description": "Public User Identity SIP URI for the Virtual User",
                      "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                      "minLength": 1,
                      "maxLength": 161
                    },
                    "extension": {
                      "title": "Extension",
                      "description": "Extension",
                      "type": [
                        "string",
                        "null"
                      ],
                      "minLength": 2,
                      "maxLength": 20,
                      "pattern": "^[0-9]+$"
                    }
                  },
                  "required": ["name", "callingLineId"]
                },
                "mailbox": {
                  "title": "Mailbox",
                  "description": "Contains userId and email elements for the Message Store. Omitted if Message Store disabled in config.",
                  "type": "object",
                  "properties": {
                    "userId": {
                      "title": "User Id",
                      "description": "The Id of the User",
                      "type": "string",
                      "minLength": 1
                    },
                    "email": {
                      "title": "Email",
                      "description": "The email address of the user",
                      "type": "string",
                      "format": "email"
                    }
                  }
                },
                "meetMeConferencingId": {
                  "title": "Meet Me Conferencing Bridge Id",
                  "description": "Generated Meet Me Conferencing ID",
                  "$ref": "/base#/definitions/GeneratedId"
                },
                "customerId": {
                  "title": "Customer Id",
                  "description": "Generated Customer ID",
                  "$ref": "/base#/definitions/GeneratedId"
                },
                "siteId": {
                  "title": "Site Id",
                  "description": "Generated Site ID",
                  "$ref": "/base#/definitions/GeneratedId"
                },
                "extensions": {
                  "title": "Extensions",
                  "description": "Extensions container",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "broadworks": {
                      "title": "BroadWorks",
                      "description": "BroadWorks Container",
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "resourceId": {
                          "title": "Resource Id",
                          "description": "The BroadWorks ID of the virtual user.",
                          "$ref": "/base#/definitions/UserId"
                        }
                      }
                    }
                  }
                }
              },
              "required": ["_links", "profile", "customerId", "siteId", "extensions"]
            }
    
## Site's Meet Me Conferencing Instance [/api/customers/{customerId}/sites/{siteId}/meet-me-conferencing/instances/{meetMeConferenceId}]

+ Parameters
    + customerId: `DemoCustomer` (string, required)
    + siteId: `DemoSite` (string, required)
    + meetMeConferenceId: `5551239876%40example.com` (string, required)
    
    
### Modify Meet Me Conferencing Instance [PUT]
Modify a Meet Me Conferencing Instance.<br />

Resource: Site Meet Me Conferencing Bridge

Resource Archetype: Document

### JSON Schema for URI Template Parameters

    {
      "id": "siteMeetMeConferencing.modifyMeetMeConferencing.request.uri.template.schema",
      "$ref": "/siteMeetMeConferencing#/definitions/SiteMeetMeeConferencingBridgePutUriTemplate"
    }
    

### Request Properties

+ Request (application/json)
    + Body

            {
              "profile": {
                "name": "My Meet Me Conferencing",
                "callingLineId": {
                  "firstName": "Calling Line Id First Name",
                  "lastName": "Calling Line Id Last Name"
                },
                "phoneNumber": "+1-5551239876",
                "extension": "9876"
              },
              "securityPinLength": 5,
              "allocatedPorts": {
                "unlimited": false,
                "quantity": 20
              },
              "allowIndividualOutDial": false,
              "maxConferenceDuration": {
                "enable": true,
                "hours": 8,
                "minutes": 15
              },
              "maxScheduledConferenceDuration": {
                "hours": 9,
                "minutes": 15
              },
              "playConferenceEndWarningPrompt": {
                "enable": true,
                "minutes": 9
              }
            }

    + Schema

            {
              "id": "siteMeetMeConferencing.modifyMeetMeConferencingBridge.request.body.schema",
              "title": "Modify Meet Me Conferencing Bridge",
              "description": "Modify Meet Me Conferencing Bridge Request Body Schema",
              "additionalProperties": false,
              "properties": {
                "profile": {
                  "title": "Profile",
                  "description": "Container for profile settings",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "name": {
                      "title": "Name",
                      "description": "Service Instance Name",
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 30
                    },
                    "callingLineId": {
                      "title": "Calling Line Id",
                      "description": "Container for Calling Line Id settings",
                      "additionalProperties": false,
                      "properties": {
                        "firstName": {
                          "title": "First Name",
                          "description": "First Name for Calling Line Id Display",
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 30
                        },
                        "lastName": {
                          "title": "Last Name",
                          "description": "Last Name for Calling Line Id Display",
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 30
                        }
                      }
                    },
                    "timeZone": {
                      "title": "Time Zone",
                      "description": "NOT IMPLEMENTED. Time Zone",
                      "$ref": "/base#/definitions/TimeZone"
                    },
                    "language": {
                      "title": "Language",
                      "description": "NOT IMPLEMENTED. Language",
                      "$ref": "/base#/definitions/Language"
                    },
                    "department": {
                      "title": "Department",
                      "description": "NOT IMPLEMENTED. Department",
                      "$ref": "/base#/definitions/DepartmentName"
                    },
                    "alias": {
                      "title": "Alias",
                      "description": "NOT IMPLEMENTED. List of possible SIP URIs aliases of the Virtual User. Not Implemented",
                      "type": "array",
                      "maxItems": 3,
                      "items": {
                        "title": "SIP URI",
                        "description": "SIP URI alias of the Virtual User",
                        "$ref": "/base#/definitions/SIPURI"
                      }
                    },
                    "publicServiceIdentity": {
                      "title": "Public Service Identity",
                      "description": "NOT IMPLEMENTED. Public User Identity SIP URI for the Virtual User. Not Implemented",
                      "$ref": "/base#/definitions/SIPURI"
                    },
                    "phoneNumber": {
                      "$ref": "/base#/definitions/PhoneNumber"
                    },
                    "tnRoutine": {
                      "$ref": "/base#/definitions/TnRoutineNotNillable"
                    },
                    "extension": {
                      "title": "Extension",
                      "description": "Extension",
                      "$ref": "/base#/definitions/NillableExtension"
                    }
                  }
                },
                "securityPinLength": {
                  "title": "Security Pin Length",
                  "description": "Length of security pin for Meet-Me Conference",
                  "type": "integer",
                  "minimum": 4,
                  "maximum": 12
                },
                "allocatedPorts": {
                  "title": "Allocated Ports",
                  "description": "Number of Allocated Ports. Can be either unlimited or an integer quantity",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "unlimited": {
                      "title": "Unlimited",
                      "description": "Unlimited number of allocated ports",
                      "type": "boolean"
                    },
                    "quantity": {
                      "title": "Quantity",
                      "description": "Number of allocated ports. It can either be unlimited or a quantity provided, but not both",
                      "type": "integer",
                      "minimum": 1,
                      "maximum": 999999
                    }
                  }
                },
                "allowIndividualOutDial": {
                  "title": "Allow Individual Out Dial",
                  "description": "Allow out-dialing to individual participants.",
                  "type": "boolean"
                },
                "playConferenceEndWarningPrompt": {
                  "title": "Warning Prompt",
                  "description": "Container for Warning Prompt settings",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "enable": {
                      "title": "Play",
                      "description": "Play Warning Prompt before the conference end.",
                      "type": "boolean"
                    },
                    "minutes": {
                      "title": "Conference End",
                      "description": "Minutes before the warning prompt is played",
                      "type": "integer",
                      "minimum": 1,
                      "maximum": 15
                    }
                  }
                },
                "maxConferenceDuration": {
                  "title": "Conference duration",
                  "description": "Container for Conference duration settings",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "enable": {
                      "title": "Enable maximum duration",
                      "description": "Limits the conference duration.",
                      "type": "boolean"
                    },
                    "hours": {
                      "title": "Maximum number of hours",
                      "description": "Maximum Conference Duration in hours.",
                      "$ref": "/base#/definitions/MaxHours"
                    },
                    "minutes": {
                      "title": "Maximum number of minutes",
                      "description": "Maximum Conference Duration in minutes.",
                      "$ref": "/base#/definitions/MaxMinutes"
                    }
                  }
                },
                "maxScheduledConferenceDuration": {
                  "title": "Scheduled Conference duration",
                  "description": "Container for Scheduled Conference duration settings",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "hours": {
                      "title": "Maximum number of hours",
                      "description": "Maximum Scheduled Conference Duration in hours.",
                      "$ref": "/base#/definitions/MaxHours"
                    },
                    "minutes": {
                      "title": "Maximum number of minutes",
                      "description": "Maximum Scheduled Conference Duration in minutes.",
                      "$ref": "/base#/definitions/MaxMinutes"
                    }
                  }
                }
              }
            }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
              "_links": {
                "self": {
                  "href": "/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances/5551239876%40example.com"
                },
                "ls:customer": {
                  "href": "/api/customers/DemoCustomer"
                },
                "ls:site": {
                  "href": "/api/customers/DemoCustomer/sites/DemoSite"
                },
                "collection": {
                  "href": "/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances"
                }
              },
              "meetMeConferencingId": "5551239876@example.com",
              "profile": {
                "publicServiceIdentity": "5551239876@example.com",
                "extension": "9876"
              },
              "customerId": "DemoCustomer",
              "siteId": "DemoSite",
              "extensions": {
                "broadworks": {
                  "resourceId": "5551239876@example.com"
                }
              }
            }

    + Schema

            {
              "id": "siteMeetMeConferencing.modifyMeetMeConferencingBridge.response.body.schema",
              "title": "Modify Meet Me Conferencing Bridge Response",
              "description": "Modify Meet Me Conferencing Bridge Response Body Schema",
              "additionalProperties": false,
              "properties":{
                "_links": {
                  "title": "Links",
                  "description": "Meet Me Conferencing HAL Links",
                  "type": "object",
                  "properties": {
                    "self": {
                      "title": "Self",
                      "description": "Meet Me Conferencing self link",
                      "$ref": "/hal#/definitions/link"
                    },
                    "collection": {
                      "title": "Collection",
                      "description": "Link to Meet Me Conferencing instances",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:customer": {
                      "title": "Customer",
                      "description": "Link to associated Customer",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:site": {
                      "title": "Site",
                      "description": "Link to associated Site",
                      "$ref": "/hal#/definitions/link"
                    }
                  },
                  "required": [
                    "self",
                    "collection",
                    "ls:customer",
                    "ls:site"
                  ]
                },
                "profile": {
                  "title": "Profile",
                  "description": "Profile container",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "publicServiceIdentity": {
                      "type": "string",
                      "title": "Public Service Identity",
                      "description": "Public User Identity SIP URI for the Virtual User",
                      "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                      "minLength": 1,
                      "maxLength": 161
                    },
                    "extension": {
                      "title": "Extension",
                      "description": "Extension",
                      "type": [
                        "string",
                        "null"
                      ],
                      "minLength": 2,
                      "maxLength": 20,
                      "pattern": "^[0-9]+$"
                    }
                  }
                },
                "meetMeConferencingId": {
                  "title": "Meet Me Conferencing Bridge Id",
                  "description": "Generated Meet Me Conferencing ID",
                  "$ref": "/base#/definitions/GeneratedId"
                },
                "customerId": {
                  "title": "Customer Id",
                  "description": "Generated Customer ID",
                  "$ref": "/base#/definitions/GeneratedId"
                },
                "siteId": {
                  "title": "Site Id",
                  "description": "Generated Site ID",
                  "$ref": "/base#/definitions/GeneratedId"
                },
                "extensions": {
                  "title": "Extensions",
                  "description": "Extensions container",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "broadworks": {
                      "title": "BroadWorks",
                      "description": "BroadWorks Container",
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "resourceId": {
                          "title": "Resource Id",
                          "description": "The BroadWorks ID of the virtual user.",
                          "$ref": "/base#/definitions/UserId"
                        }
                      }
                    }
                  }
                }
              },
              "required": ["_links", "customerId", "siteId", "extensions"]
            }

### Delete a Meet Me Conference Instance [DELETE]
Delete a Meet Me Conference Instance.<br />

Resource: Site Meet Me Conferencing Bridge

Resource Archetype: Document

### JSON Schema for URI Template Parameters

    {
      "id": "siteMeetMeConferencing.deleteMeetMeConferencing.request.uri.template.schema",
      "$ref": "/siteMeetMeConferencing#/definitions/SiteMeetMeeConferencingBridgePutUriTemplate"
    }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
              "_links": {
                "ls:customer": {
                  "href": "/api/customers/DemoCustomer"
                },
                "ls:site": {
                  "href": "/api/customers/DemoCustomer/sites/DemoSite"
                },
                "collection": {
                  "href": "/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances"
                }
              },
              "customerId": "DemoCustomer",
              "siteId": "DemoSite"
            }

    + Schema

            {
              "id": "siteMeetMeConferencing.deleteMeetMeConferencingBridge.response.body.schema",
              "title": "Delete Meet Me Conferencing Bridge Response",
              "description": "Delete Meet Me Conferencing Bridge Response Body Schema",
              "additionalProperties": false,
              "properties":{
                "_links": {
                  "title": "HAL Links",
                  "description": "Meet Me Conferencing HAL Links",
                  "type": "object",
                  "properties": {
                    "collection": {
                      "title": "Collection",
                      "description": "Link to Meet Me Conferencing instances",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:customer": {
                      "title": "Customer",
                      "description": "Link to associated Customer",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:site": {
                      "title": "Site",
                      "description": "Link to associated Site",
                      "$ref": "/hal#/definitions/link"
                    }
                  },
                  "required": [
                    "collection",
                    "ls:customer",
                    "ls:site"
                  ]
                },
                "customerId": {
                  "title": "Customer ID",
                  "description": "Generated Customer ID",
                  "$ref": "/base#/definitions/GeneratedId"
                },
                "siteId": {
                  "title": "Site ID",
                  "description": "Generated Site ID",
                  "$ref": "/base#/definitions/GeneratedId"
                }
              },
              "required": ["_links", "customerId", "siteId"]
            }

## Meet-Me Conferencing Instance Alternate Numbers Service Settings [/api/customers/{customerId}/sites/{siteId}/meet-me-conferencing/instances/{meetMeConferencingId}/services/Alternate%20Numbers]

+ Parameters
    + customerId: `DemoCustomer` (string, required)
    + siteId: `DemoSite` (string, required)
    + meetMeConferencingId: `meetMeConferencingExample` (string, required)
    
    
## Modify Alternate Numbers Service Settings [PUT]
Update a BroadWorks Meet Me Conferencing instance's Alternate Numbers service settings.<br />

Resource: Site Meet Me Conferencing Bridge Alternate Numbers service settings

Resource Archetype: Document

### JSON Schema for URI Template Parameters

    {
      "id": "siteMeetMeConferencing.modifyMeetMeConferencingAlternateNumbers.request.uri.template.schema",
      "$ref": "/siteMeetMeConferencing#/definitions/SiteMeetMeeConferencingBridgePutUriTemplate"
    }


+ Request (application/json)
    + Body

            {
              "distinctiveRing": false,
              "alternateNumbers": [
                {
                  "id": 1,
                  "tnRoutine": "",
                  "phoneNumber": "+1-4125553000",
                  "extension": "3000",
                  "ringPattern": "Long-Long"
                },
                {
                  "id": 5,
                  "extension": "3005",
                  "ringPattern": "Long-Long"
                }
              ]
            }

    + Schema

            {
              "id": "siteMeetMeConferencing.modifyMeetMeConferencingAlternateNumbers.request.body.schema",
              "$ref": "/virtualUser#/definitions/AlternateNumbersModifyBody"
            }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120
    
    + Body

            {
              "_links": {
                "self": {
                  "href": "http://ucserver.example.net/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances/4151002300/services/Alternate%20Numbers"
                },
                "up": {
                  "href": "http://ucserver.example.net/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances/4151002300/services"
                },
                "ls:customer": {
                  "href": "http://ucserver.example.net/api/customers/DemoCustomer"
                },
                "ls:site": {
                  "href": "http://ucserver.example.net/api/customers/DemoCustomer/sites/DemoSite"
                },
                "ls:meet-me-conferencing-instance": {
                  "href": "http://ucserver.example.net/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances/4151002300"
                }
              },
              "customerId": "DemoCustomer",
              "siteId": "DemoSite",
              "meetMeConferencingId": "4151002300",
              "extensions": {
                "broadworks": {
                  "resourceId": "4151002300@example.com"
                }
              }
            }

    + Schema

            {
              "title": "Meet Me Conferencing Instanceâ€™s Alternate Number settings modify response body parameters",
              "description": "Modify Meet Me Conference Instance Alternate Numbers response",
              "required": ["_links", "customerId", "siteId", "meetMeConferencingId"],
              "properties": {
                "_links": {
                  "title": "HAL links",
                  "description": "Collaborate Bridge HAL Links",
                  "type": "object",
                  "properties": {
                    "self": {
                      "title": "Self link",
                      "description": "Meet Me Conferencing Bridge Alternate Numbers self link",
                      "$ref": "/hal#/definitions/link"
                    },
                    "up": {
                      "title": "Collection link",
                      "description": "Link to Meet Me Conferencing Bridge instance services",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:customer": {
                      "title": "Customer link",
                      "description": "Link to associated Customer",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:site": {
                      "title": "Site link",
                      "description": "Link to associated Site",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:meet-me-conferencing-instance": {
                      "title": "Site link",
                      "description": "Link to Meet Me Conferencing Bridge instance",
                      "$ref": "/hal#/definitions/link"
                    }
                  },
                  "required": [
                    "self",
                    "up",
                    "ls:customer",
                    "ls:site",
                    "ls:meet-me-conferencing-instance"
                  ]
                },
                "customerId": {
                  "title": "Customer ID",
                  "description": "Uniquely identifies a service provider. NOTE: The service provider id has a maximum length of 30 bytes, not 30 characters.",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 30
                },
                "siteId": {
                  "title": "Site ID",
                  "description": "Site Id identifies a group within a customer.",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 30
                },
                "meetMeConferencingId": {
                  "title": "Meet Me Conferencing Bridge Id",
                  "description": "Generated Meet Me Conferencing ID",
                  "$ref": "/base#/definitions/GeneratedId"
                },
                "extensions": {
                  "title": "Extensions",
                  "description": "Extensions container",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "broadworks": {
                      "title": "BroadWorks",
                      "description": "BroadWorks Container",
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "resourceId": {
                          "title": "Resource Id",
                          "description": "The BroadWorks ID of the virtual user.",
                          "$ref": "/base#/definitions/UserId"
                        }
                      }
                    }
                  }
                }
              }
            }

## Meet-Me Conferencing Instance's Assigned Services [/api/customers/{customerId}/sites/{siteId}/meet-me-conferencing/instances/{meetMeConferenceId}/services/assigned-services]

+ Parameters
    + customerId: `DemoCustomer` (string, required)
    + siteId: `DemoSite` (string, required)
    + meetMeConferenceId: `meetMeConferenceExample` (string, required)
    
    
### Update Assigned Services [PUT]
Request modifies list of assigned services on specified Meet Me Conferencing Instance.<br />

Resource: Site Meet Me Conferencing assigned services

Resource Archetype: Document

**Note**: Initial implementation will not check if the Meet Me Conferencing Bridge actually exists in the provided Customer and Site and also it does not actually check that the user type you are altering is actually a Call Center.

### JSON Schema for URI Template Parameters

    {
      "id": "siteMeetMeConferencing.modifyMeetMeConferencingAssignedServices.request.uri.template.schema",
      "$ref": "/siteMeetMeConferencing#/definitions/SiteMeetMeeConferencingBridgePutUriTemplate"
    }


+ Request (application/json)
    + Body

            {
              "services": [
                "Authentication",
                "Alternate Numbers"
              ]
            }

    + Schema

            {
              "id": "siteMeetMeConferencing.modifyMeetMeConferencingAssignedServices.request.body.schema",
              "$ref": "/virtualUser#/definitions/AssignedServicesModifyBody"
            }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
              "_links": {
                "self": {
                  "href": "http://ucserver.example.net/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances/4151002300/services/assigned-services"
                },
                "up": {
                  "href": "http://ucserver.example.net/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances/4151002300/services"
                },
                "ls:customer": {
                  "href": "http://ucserver.example.net/api/customers/DemoCustomer"
                },
                "ls:site": {
                  "href": "http://ucserver.example.net/api/customers/DemoCustomer/sites/DemoSite"
                },
                "ls:meet-me-conferencing-instance": {
                  "href": "http://ucserver.example.net/api/customers/DemoCustomer/sites/DemoSite/meet-me-conferencing/instances/4151002300"
                }
              },
              "customerId": "DemoCustomer",
              "siteId": "DemoSite",
              "meetMeConferencingId": "4151002300",
              "extensions": {
                "broadworks": {
                  "resourceId": "4151002300@example.com"
                }
              }
            }

    + Schema

            {
              "title": "Meet Me Conferencing Instanceâ€™s Assigned Services modify response body parameters",
              "description": "Modify Meet Me Conferencing Instance Assigned Services response",
              "required": ["_links", "customerId", "siteId", "meetMeConferencingId"],
              "properties": {
                "_links": {
                  "title": "HAL links",
                  "description": "Meet Me Conferencing Bridge HAL Links",
                  "type": "object",
                  "properties": {
                    "self": {
                      "title": "Self link",
                      "description": "Meet Me Conferencing Bridge assigned services self link",
                      "$ref": "/hal#/definitions/link"
                    },
                    "up": {
                      "title": "Collection link",
                      "description": "Link to Meet Me Conferencing Bridge instance services",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:customer": {
                      "title": "Customer link",
                      "description": "Link to associated Customer",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:site": {
                      "title": "Site link",
                      "description": "Link to associated Site",
                      "$ref": "/hal#/definitions/link"
                    },
                    "ls:meet-me-conferencing-instance": {
                      "title": "Site link",
                      "description": "Link to Meet Me Conferencing Bridge instance",
                      "$ref": "/hal#/definitions/link"
                    }
                  },
                  "required": [
                    "self",
                    "up",
                    "ls:customer",
                    "ls:site",
                    "ls:meet-me-conferencing-instance"
                  ]
                },
                "customerId": {
                  "title": "Customer ID",
                  "description": "Uniquely identifies a service provider. NOTE: The service provider id has a maximum length of 30 bytes, not 30 characters.",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 30
                },
                "siteId": {
                  "title": "Site ID",
                  "description": "Site Id identifies a group within a customer.",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 30
                },
                "meetMeConferencingId": {
                  "title": "Meet Me Conferencing Bridge Id",
                  "description": "Generated Meet Me Conferencing ID",
                  "$ref": "/base#/definitions/GeneratedId"
                },
                "extensions": {
                  "title": "Extensions",
                  "description": "Extensions container",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "broadworks": {
                      "title": "BroadWorks",
                      "description": "BroadWorks Container",
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "resourceId": {
                          "title": "Resource Id",
                          "description": "The BroadWorks ID of the virtual user.",
                          "$ref": "/base#/definitions/UserId"
                        }
                      }
                    }
                  }
                }
              }
            }

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
              "errorCode": "EXTERNAL_API_ERROR",
              "summary": "Some services could not be assigned. No services were un-assigned",
              "externalErrorCode": null,
              "externalErrorSummary": "User service assignment failed. Some services were not assigned:",
              "externalErrorDetail": "Authentication: Service is not assignable."
            }

<!-- ----------------------- Site Phone Numbers ------------------- -->

# Group Site Phone Numbers
Supported network elements:

* BroadWorks Application Server

Keys:

* customerId
* siteId
* phoneNumber

Extension Keys:

* (none)

## Assign Phone Number Action [/api/customers/{customerId}/sites/{siteId}/assignPhoneNumber{?mode}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

### Assign a Phone Number [POST]
Assigns a TN to a Site based on the specified TN management routine.

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a (not optional)</td>
            <td>Controls execution mode.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Assigns a TN to a Site request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the new TN is to be assigned.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site in which the new TN is to be assigned.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Assigns a TN to a Site request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        },
        "required": [
            "customerId",
            "siteId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>phoneNumber</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Phone Number.
            Will be assigned on Customer and Group as needed, depending on the tnRoutine.
            Must be E.164 formatted, e.g. +1-2005553001 (the dash is required, after the country code).</td>
        </tr>
        <tr>
            <td>tnRoutine</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Phone Number (TN) assignment routine.<br />
            Supported values and impact on other required properties:
           <ul>
                <li><b>port-no-temp</b>- TN does not exist in the system; will attempt to asssign at both the Customer and Site levels.</li>
                <li><b>auto</b> - TN may or may not already exist in the system; will be assigned automatically to either/both as needed.</li>
                </ul></td>
        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "phoneNumber": "+1-4165551212",
                "tnRoutine": "port-no-temp"
            }

    + Schema

            {
               "title": "Assigns a TN to a Site request body properties",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "phoneNumber": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 23,
                     "pattern": "^\\+\\d+-\\d+$"
                  },
                  "tnRoutine": {
                     "enum": [
                        "port-no-temp",
                        "auto"
                     ]
                  }
               },
               "required": [
                  "phoneNumber",
                  "tnRoutine"
               ]
            }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Com%20-%20North/assignPhoneNumber"
                    }
                },
                "_embedded": {
                    "ls:customer-phone-numbers": [
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/customers/Example%20Com/phone-numbers/%2B1-2005553001"
                                }
                            },
                            "customerId": "Example Com",
                            "phoneNumber": "+1-2005553001"
                        }
                    ],
                    "ls:site-phone-numbers": [
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Com%20-%20North/phone-numbers/%2B1-2005553001"
                                }
                            },
                            "customerId": "Example Com",
                            "siteId": " Example Com - North",
                            "phoneNumber": "+1-2005553001"
                        }
                    ]
                }
            }

    + Schema

            {
               "title": "Assigns a TN to a Site response properties",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "_embedded": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "ls:customer-phone-numbers": {
                           "type": "array",
                           "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                 "_links": {
                                    "type": "object",
                                    "properties": {
                                       "self": {
                                          "type": "object",
                                          "properties": {
                                             "href": {
                                                "type": "string"
                                             }
                                          },
                                          "required": [
                                             "href"
                                          ]
                                       }
                                    },
                                    "required": [
                                       "self"
                                    ]
                                 },
                                 "customerId": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "phoneNumber": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 23,
                                    "pattern": "^\\+\\d+-\\d+$"
                                 }
                              },
                              "required": [
                                 "_links",
                                 "customerId",
                                 "phoneNumber"
                              ]
                           }
                        },
                        "ls:site-phone-numbers": {
                           "type": "array",
                           "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                 "_links": {
                                    "type": "object",
                                    "properties": {
                                       "self": {
                                          "type": "object",
                                          "properties": {
                                             "href": {
                                                "type": "string"
                                             }
                                          },
                                          "required": [
                                             "href"
                                          ]
                                       }
                                    },
                                    "required": [
                                       "self"
                                    ]
                                 },
                                 "customerId": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "siteId": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "phoneNumber": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 23,
                                    "pattern": "^\\+\\d+-\\d+$"
                                 }
                              },
                              "required": [
                                 "_links",
                                 "customerId",
                                 "siteId",
                                 "phoneNumber"
                              ]
                           }
                        }
                     },
                     "required": [
                        "ls:customer-phone-numbers",
                        "ls:site-phone-numbers"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "_embedded"
               ]
            }

## Activate Phone Number Action [/api/customers/{customerId}/sites/{siteId}/phone-numbers/activate]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)

### Activate a Phone Number [POST]
Activate phone number(s) in a Site. The corresponding phone numbers in the underlying BroadWorks group will be set to "activated".

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Customer containing the phone numbers(s) to be activated.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Site containing the phone numbers(s) to be activated.
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Activate phone number(s) in a Site request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        },
        "required": [
            "customerId",
            "siteId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>phoneNumbers</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>An array containing the phone numbers and/or phone number ranges to be activated.</td>
        </tr>
        <tr>
            <td>phoneNumbers[]</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The array entry for an individual phone number consists of a single phone number.<br />
            The array entry for a phone number range consists of an object. For ranges, the end value is required to be higher than the start value,
            and both are required to have the same country code.
            See below for additional details of this object's properties.<br />
            Note that the E.164 format accepted in the LWS-REST API consists of a leading "+", followed by the country code, followed by a hyphen, followed by the national number (subscriber number), e.g. <code>+1-5554161212</code>.</td>
        </tr>
        <tr>
            <td>phoneNumbers[].start</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The first phone number in a range (inclusive). Required when activating a range.</td>
        </tr>
        <tr>
            <td>phoneNumbers[].end</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The last phone number in a range (inclusive). Required when activating a range.</td>
        </tr>
    </tbody>
</table>

A request may contain any combination of individual phone numbers and phone number ranges (in any order), as seen in the example.

+ Request (application/json)
    + Body

            {
                "phoneNumbers": [
                    "+1-5553070900",
                    "+1-5553070910",
                    {
                        "start": "+1-5553071000",
                        "end": "+1-5553071009"
                    },
                    "+1-5553070876",
                    {
                        "start": "+1-5553072000",
                        "end": "+1-5553072003"
                    }
                ]
            }

    + Schema

            {
               "title": "Activate phone number(s) in a Site request body properties",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "phoneNumbers": {
                     "type": "array",
                     "items": {
                        "anyOf": [
                           {
                              "id": "E.164 DN",
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 23,
                              "pattern": "^\\+\\d+-\\d+$"
                           },
                           {
                              "id": "TN Range",
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                 "start": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 23,
                                    "pattern": "^\\+\\d+-\\d+$"
                                 },
                                 "end": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 23,
                                    "pattern": "^\\+\\d+-\\d+$"
                                 }
                              }
                           }
                        ]
                     }
                  }
               }
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

## Deactivate Phone Number Action [/api/customers/{customerId}/sites/{siteId}/phone-numbers/deactivate]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)

### Deactivate a Phone Number [POST]
Deactivate phone number(s) in a Site. The corresponding phone numbers in the underlying BroadWorks group will be set to "not activated".

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Customer containing the phone numbers(s) to be deactivated.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Site containing the phone numbers(s) to be deactivated.
            </td>
        </tr>
    </tbody>
</table>

#### JSON Schema for URI Template Parameters

    {
        "title": "Deactivate phone number(s) in a Site request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        },
        "required": [
            "customerId",
            "siteId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>phoneNumbers</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>An array containing the phone numbers and/or phone number ranges to be deactivated.</td>
        </tr>
        <tr>
            <td>phoneNumbers[]</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The array entry for an individual phone number consists of a single phone number.<br />
            The array entry for a phone number range consists of an object. For ranges, the end value is required to be higher than the start value,
            and both are required to have the same country code.
            See below for additional details of this object's properties.<br />
            Note that the E.164 format accepted in the LWS-REST API consists of a leading "+", followed by the country code, followed by a hyphen, followed by the national number (subscriber number), e.g. <code>+1-5554161212</code>.</td>
        </tr>
        <tr>
            <td>phoneNumbers[].start</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The first phone number in a range (inclusive). Required when deactivating a range.</td>
        </tr>
        <tr>
            <td>phoneNumbers[].end</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The last phone number in a range (inclusive). Required when deactivating a range.</td>
        </tr>
    </tbody>
</table>

A request may contain any combination of individual phone numbers and phone number ranges (in any order), as seen in the example.

+ Request (application/json)
    + Body

            {
                "phoneNumbers": [
                    "+1-5553070900",
                    "+1-5553070910",
                    {
                        "start": "+1-5553071000",
                        "end": "+1-5553071009"
                    },
                    "+1-5553070876",
                    {
                        "start": "+1-5553072000",
                        "end": "+1-5553072003"
                    }
                ]
            }

    + Schema

            {
               "title": "Deactivate phone number(s) in a Site request body properties",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "phoneNumbers": {
                     "type": "array",
                     "items": {
                        "anyOf": [
                           {
                              "id": "E.164 DN",
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 23,
                              "pattern": "^\\+\\d+-\\d+$"
                           },
                           {
                              "id": "TN Range",
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                 "start": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 23,
                                    "pattern": "^\\+\\d+-\\d+$"
                                 },
                                 "end": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 23,
                                    "pattern": "^\\+\\d+-\\d+$"
                                 }
                              }
                           }
                        ]
                     }
                  }
               }
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120



<!-- --------------------- Site Services -------------------- -->

# Group Site Services
Supported network elements:

* BroadWorks Application Server

Keys:

* customerId
* siteId

Extension Keys:

* (none)

## Site's Voice Portal Service [/api/customers/{customerId}/sites/{siteId}/services/Voice%20Portal]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)


### Retrieve Voice Portal Settings [GET]
Retrieve the Voice Portal service settings of a Site.

### JSON Schema for URI Template Parameters

    {
        "title": "VoIP Entity - Retrieve Site Voice Portal service settings request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        },
        "required": [
            "customerId",
            "siteId"
        ]
    }


**NOT IMPLEMENTED**

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers\/Example%20Com\/sites\/Example%20Com%20North\/services\/Voice%20Portal"
                    }
                },
                "customerId": "Example Com",
                "siteId": "Example Com North",
                "voicePortalId": "VoicePortalId",
                "profile": {
                    "name": "Voice Portal",
                    "callingLineId": {
                        "lastName": "Portal",
                        "firstName": "Voice",
                        "phoneNumber": "+1-555123456"
                    },
                    "phoneNumber": "+1-555123456",
                    "countryCode": "1",
                    "nationalPrefix": "+1",
                    "extension": "3456",
                    "department": "dep",
                    "language": "English",
                    "timeZone": "America\/New_York",
                    "timeZoneDisplayName": "(GMT-04:00) (US) Eastern Time",
                    "alias": [
                        "voiceportal@example.com"
                    ],
                    "publicUserIdentity": "+1-555123456@example.com"
                },
                "isActive": true,
                "enableExtendedScope": true,
                "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": false,
                "useVoicePortalWizard": true,
                "externalRouting": {
                    "scope": "Group",
                    "useExternal": true,
                    "address": "external@example.com"
                },
                "homeZone": "Home Zone #1",
                "networkClassOfService": "NCoS #1"
            }

    + Schema

            {
               "title": "VoIP Entity - Retrieve Site Voice Portal service settings response body schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "voicePortalId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]+$"
                  },
                  "profile": {
                     "type": "object",
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineId": {
                           "type": "object",
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "phoneNumber": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^[\\+\\d\\-]+$"
                              }
                           }
                        },
                        "phoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 23,
                           "pattern": "^\\+\\d+-\\d+$"
                        },
                        "extension": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "countryCode": {
                           "type": "string"
                        },
                        "nationalPrefix": {
                           "type": "string"
                        },
                        "department": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "timeZoneDisplayName": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "alias": {
                           "type": [
                              "string",
                              "array"
                           ]
                        },
                        "publicUserIdentity": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 161,
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$"
                        }
                     }
                  },
                  "isActive": {
                     "type": "boolean"
                  },
                  "enableExtendedScope": {
                     "type": "boolean"
                  },
                  "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": {
                     "type": "boolean"
                  },
                  "useVoicePortalWizard": {
                     "type": "boolean"
                  },
                  "externalRouting": {
                     "type": "object",
                     "properties": {
                        "scope": {
                           "enum": [
                              "Group",
                              "System"
                           ]
                        },
                        "useExternal": {
                           "type": "boolean"
                        },
                        "address": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 161,
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$"
                        }
                     }
                  },
                  "homeZoneName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "networkClassOfService": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  }
               },
               "required": [
                  "_links",
                  "customerId",
                  "siteId"
               ]
            }

### Modify Voice Portal Settings [PUT]
Modify the Voice Portal service settings of a Site.<br />
Process name: Modify Site Voice Portal (VoIP Entity)<br />
Rollback-enabled: No.

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the Site is located.
            </td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site where the Voice Portal service is configured.
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "VoIP Entity - Modify Site Voice Portal service settings request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        },
        "required": [
            "customerId",
            "siteId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

-

+ Request (application/json)
    + Body

            {
                "isActive": true,
                "profile": {
                    "name": "Voice Portal",
                    "phoneNumber": "+1-54356536564",
                    "callingLineId": {
                        "firstName": "CLID first name",
                        "lastName": "CLID last name"
                    }
                }
            }

    + Schema

            {
               "title": "VoIP Entity - Modify Site Voice Portal service settings request body schema",
               "type": "object",
               "properties": {
                  "profile": {
                     "type": "object",
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineId": {
                           "type": "object",
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "phoneNumber": {}
                           }
                        },
                        "phoneNumber": {
                             "type": ["string", "null"],
                             "minLength": 1,
                             "maxLength": 23,
                             "pattern": "^\\+\\d+-\\d+$"
                          },
                        "tnRoutine": {
                           "enum": [
                              null,
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        },
                        "extension": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 20,
                           "pattern": "^[\\d\\-]+$"
                        },
                        "department": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "alias": {
                           "type": [
                              "string",
                              "array"
                           ]
                        },
                        "publicUserIdentity": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 161,
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$"
                        }
                     }
                  },
                  "isActive": {
                     "type": "boolean"
                  },
                  "enableExtendedScope": {
                     "type": "boolean"
                  },
                  "allowIdentificationByPhoneNumberOrVoiceMailAliasesOnLogin": {
                     "type": "boolean"
                  },
                  "useVoicePortalWizard": {
                     "type": "boolean"
                  },
                  "externalRouting": {
                     "type": "object",
                     "properties": {
                        "scope": {
                           "enum": [
                              "Group",
                              "System"
                           ]
                        },
                        "useExternal": {
                           "type": "boolean"
                        },
                        "address": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 161,
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$"
                        }
                     }
                  },
                  "homeZoneName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "networkClassOfService": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  }
               }
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120
            
<!-- ------------------------- Site Collaborate Bridge ----------------------- -->

# Group Site Collaborate Bridge
+ Supported network elements:
    + LWS-SOAP
    + BroadWorks Application Server

+ Keys:
    + collaborateBridgeId

+ Extension Keys:
    + (none)

## Site Collaborate Bridge instances collection [/api/customers/{customerId}/sites/{siteId}/collaborate-bridge/instances]
Represents the collection of Collaborate Bridge instances in a site.

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)

### Create a Collaborate Bridge [POST /api/customers/{customerId}/sites/{siteId}/collaborate-bridge/instances?mode=create-only]
Description: Create a new Collaborate Bridge instance.

Resource: Site Collaborate Bridge

Resource Archetype: Document

### URI Template Parameters JSON Schema
    {
      "title": "URI template parameters schema",
      "description": "Create Site Collaborate Bridge URI template parameters schema",
      "type": "object",
      "properties": {
        "customerId": {
          "title": "Customer ID",
          "description": "Generated Customer ID",
          "$ref": "/base#/definitions/GeneratedId"
        },
        "siteId": {
          "title": "Site ID",
          "description": "Generated Site ID",
          "$ref": "/base#/definitions/GeneratedId"
        }
      },
      "required": [
        "customerId",
        "siteId"
      ]
    }

### URI Query Parameters JSON Schema
    {
      "title": "URI query parameters schema",
      "description": "Create Site Collaborate Bridge URI query parameters schema",
      "$ref": "/base#/definitions/ModeUriQuery"
    }

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

+ Request (application/json)

    + Headers
        Transaction-Id: 1380080943120

    + Body

        {
          "name": "5551239876@example.com",
          "extensions": {
            "broadworks": {
              "resourceId": "5551239876@example.com"
            }
          },
          "profile": {
            "name": "My Collaborate Bridge",
            "phoneNumber": "+1-5551239876",
            "extension": "9876",
            "language": "English",
            "timeZone": " America\/New_York"
          },
          "maxBridgeParticipants": {
            "unlimited": false,
            "quantity": 5
          },
          "maxCollaborateRoomParticipants": 10,
          "supportOutdial": false,
          "services": {
            "Alternate Numbers": {},
            "Basic Call Logs": {}
          }
        }

    + Schema

        {
          "title": "Request body schema",
          "description": "Create Site Collaborate Bridge request body parameters schema",
          "additionalProperties": false,
          "properties": {
            "name": {
              "title": "Name",
              "description": "The clients suggested name for the resource. It is used for constructing the BroadWorks Meet-Me Conferencing Bridge ID.",
              "$ref": "/base#/definitions/UserId"
            },
            "extensions": {
              "title": "Container for various extension data",
              "description": "Container for various extension data.",
              "type": "object",
              "required": [
                "broadworks"
              ],
              "properties": {
                "broadworks": {
                  "title": "Container for BroadWorks properties",
                  "description": "Container for BroadWorks properties",
                  "type": "object",
                  "properties": {
                    "resourceId": {
                      "title": "Resource ID in BroadWorks",
                      "description": "The ID to be set on the new virtual user. Note: If provided it overrides the value generated from the 'name' property.If both 'name' and 'extensions.broadworks.resourceId' are omitted then the userId of the virtual user will be auto-generated.",
                      "$ref": "/base#/definitions/GroupId"
                    }
                  },
                  "required": [
                    "resourceId"
                  ]
                }
              }
            },
            "profile": {
              "title": "Profile",
              "description": "Container for profile properties",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "name": {
                  "title": "Name",
                  "description": "Service Instance Name",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 30
                },
                "callingLineId": {
                  "title": "Calling Line Id",
                  "description": "Container for Calling Line Id properties",
                  "additionalProperties": false,
                  "properties": {
                    "firstName": {
                      "title": "First name",
                      "description": "Calling Line ID First Name. If not present will be generated from the profile.name.",
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 30
                    },
                    "lastName": {
                      "title": "Last name",
                      "description": "Calling Line ID Last Name. If not present will be generated from the profile.name.",
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 30
                    },
                    "phoneNumber": {
                      "title": "NOT IMPLEMENTED. Calling Line ID Phone Number",
                      "description": "Phone Number for Calling Line Id",
                      "$ref": "/base#/definitions/PhoneNumber"
                    }
                  }
                },
                "phoneNumber": {
                  "title": "Phone Number",
                  "description": "Phone Number",
                  "$ref": "/base#/definitions/PhoneNumber"
                },
                "tnRoutine": {
                  "title": "TN routine",
                  "description": "Phone Number assignment routine",
                  "$ref": "/base#/definitions/TnRoutineNotNillable"
                },
                "extension": {
                  "title": "Extension",
                  "description": "Extension",
                  "type": [
                    "string",
                    "null"
                  ],
                  "minLength": 2,
                  "maxLength": 20,
                  "pattern": "^[0-9]+$"
                },
                "password": {
                  "title": "Password",
                  "description": "NOT IMPLEMENTED. Password",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 60
                },
                "department": {
                  "title": "Department",
                  "description": "NOT IMPLEMENTED. Department",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 50
                },
                "timeZone": {
                  "title": "Time Zone",
                  "description": "Time Zone",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 127
                },
                "language": {
                  "title": "Language",
                  "description": "Language",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 40
                },
                "alias": {
                  "title": "Aliases container",
                  "description": "NOT IMPLEMENTED. List of possible SIP URIs aliases of the Virtual User.",
                  "type": "array",
                  "maxItems": 3,
                  "items": {
                    "title": "Alias",
                    "description": "SIP URI",
                    "type": "string",
                    "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                    "minLength": 1,
                    "maxLength": 161
                  }
                },
                "publicServiceIdentity": {
                  "title": "Public User Identity",
                  "description": "NOT IMPLEMENTED. Public User Identity SIP URI for the Virtual User.",
                  "type": "string",
                  "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                  "minLength": 1,
                  "maxLength": 161
                }
              },
              "required": ["name"]
            },
            "maxBridgeParticipants": {
              "title": "Maximum bridge participants",
              "description": "Maximum number of Collaborate bridge participants",
              "type": "object",
              "properties": {
                "unlimited": {
                  "title": "Unlimited",
                  "description": "Indicates if the Collaborate Bridge can have an unlimited number of participants.",
                  "type": "boolean"
                },
                "quantity": {
                  "title": "Quantity",
                  "description": "Indicates the maximum number of Collaborate Bridge participants.",
                  "type": "integer",
                  "minimum": 3,
                  "maximum": 999999
                }
              },
              "required": [
                "unlimited"
              ]
            },
            "maxCollaborateRoomParticipants": {
              "title": "Maximum Collaborate room participants",
              "description": "Maximum number of Collaborate room participants",
              "type": "integer",
              "minimum": 3,
              "maximum": 30
            },
            "networkClassOfService": {
              "title": "Network Class of Service",
              "description": "NOT IMPLEMENTED. Network Class of Service",
              "type": "string",
              "minLength": 1,
              "maxLength": 40
            },
            "supportOutdial": {
              "title": "Support Outdial",
              "description": "Support Outdial",
              "type": "boolean"
            },
            "collaborateOwnerUserId": {
              "title": "Collaborate Owner User Id",
              "description": "NOT IMPLEMENTED. Collaborate Owner User Id",
              "$ref": "/base#/definitions/UserId"
            },
            "services": {
              "title": "Services container",
              "description": "Container for list of services and their configuration settings to be assigned to the virtual user. Note: Initial release does not support service configuration. To assign a service without doing any configuration, set the value to an empty object, e.g. \"services\" : { \"Remote Office\" : { } }.",
              "type": "object",
              "patternProperties": {
                "^.+$": {
                  "type": "object"
                }
              }
            }
          },
          "required": ["profile", "maxBridgeParticipants", "maxCollaborateRoomParticipants", "supportOutdial"]
        }


+ Response 201 (application/hal+json)

    + Headers
        Transaction-Id: 1380080943120
        Location: http://uc.example.com/api/customer/DemoCustomer/sites/DemoSite/collaborate-bridge/instances/5551239876%40example.com


    + Body

        {
          "_links": {
            "self": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances/5551239876%40example.com"
            },
            "ls:customer": {
              "href": "/api/customers/DemoCustomer"
            },
            "ls:site": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite"
            },
            "collection": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances"
            }
          },
          "customerId": "DemoCustomer",
          "siteId": "DemoSite",
          "collaborateBridgeId": "5551239876@example.com",
          "profile": {
            "callingLineId": {
              "lastName": "My Collaborate Bridge",
              "firstName": "My Collaborate Bridge"
            },
            "publicServiceIdentity": "5551239876@example.com",
            "extension": "9876"
          },
          "uniqueId": "138008094312043748",
          "extensions": {
            "broadworks": {
              "resourceId": "5551239876@example.com"
            }
          }
        }

    + Schema

        {
          "title": "Response body schema",
          "description": "Create Site Collaborate Bridge response body parameters schema",
          "additionalProperties": false,
          "properties":{
            "_links": {
              "title": "HAL links",
              "description": "Collaborate Bridge HAL Links",
              "type": "object",
              "properties": {
                "self": {
                  "title": "Self link",
                  "description": "Collaborate Bridge self link",
                  "$ref": "/hal#/definitions/link"
                },
                "collection": {
                  "title": "Collection link",
                  "description": "Link to Collaborate Bridge instances",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:customer": {
                  "title": "Customer link",
                  "description": "Link to associated Customer",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:site": {
                  "title": "Site link",
                  "description": "Link to associated Site",
                  "$ref": "/hal#/definitions/link"
                }
              },
              "required": [
                "self",
                "collection",
                "ls:customer",
                "ls:site"
              ]
            },
            "profile": {
              "title": "Profile",
              "description": "Container for profile properties. Present in the response only if some of its properties were generated",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "callingLineId": {
                  "title": "Calling Line Id",
                  "description": "Container for Calling Line Id properties",
                  "additionalProperties": false,
                  "properties": {
                    "firstName": {
                      "title": "First name",
                      "description": "Calling Line ID First Name. If not present will be generated from the profile.name. Present in the response only if it was generated.",
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 30
                    },
                    "lastName": {
                      "title": "Last name",
                      "description": "Calling Line ID Last Name. If not present will be generated from the profile.name. Present in the response only if it was generated.",
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 30
                    }
                  }
                },
                "publicServiceIdentity": {
                  "title": "Public User Identity",
                  "description": "Public User Identity SIP URI for the Virtual User.",
                  "type": "string",
                  "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                  "minLength": 1,
                  "maxLength": 161
                },
                "extension": {
                  "title": "Extension",
                  "description": "Extension",
                  "type": "string",
                  "minLength": 2,
                  "maxLength": 20,
                  "pattern": "^[0-9]+$"
                }
              }
            },
            "uniqueId": {
              "title": "Generated Unique ID",
              "description": "Generated Unique ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "collaborateBridgeId": {
              "title": "Collaborate Bridge ID",
              "description": "Generated Collaborate Bridge ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "customerId": {
              "title": "Customer ID",
              "description": "Generated Customer ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "siteId": {
              "title": "Site ID",
              "description": "Generated Site ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "extensions": {
              "title": "Container for various extension data",
              "description": "Container for various extension data.",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "broadworks": {
                  "title": "Container for BroadWorks properties",
                  "description": "Container for BroadWorks properties",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "resourceId": {
                      "title": "Resource ID in BroadWorks",
                      "description": "Virtual User ID in BroadWorks",
                      "$ref": "/base#/definitions/UserId"
                    }
                  },
                  "required": ["resourceId"]
                }
              },
              "required": ["broadworks"]
            }
          },
          "required": ["_links", "collaborateBridgeId", "customerId", "siteId", "extensions", "uniqueId"]
        }
    
## Site Collaborate Bridge Instance [/api/customers/{customerId}/sites/{siteId}/collaborate-bridge/instances/{collaborateBridgeId}]

+ Parameters
    + customerId: `DemoCustomer` (string, required)
    + siteId: `DemoSite` (string, required)
    + collaborateBridgeId: `5551239876@example.com` (string, required)
    
    
### Modify Collaborate Bridge [PUT]
Description: Modify a Collaborate Bridge instance.

Resource: Site Collaborate Bridge

Resource Archetype: Document

### JSON Schema for URI Template Parameters

    {
      "title": "URI template parameters schema",
      "description": "Modify Site Collaborate Bridge URI template parameters schema",
      "type": "object",
      "properties": {
        "customerId": {
          "title": "Customer ID",
          "description": "Generated Customer ID",
          "$ref": "/base#/definitions/GeneratedId"
        },
        "siteId": {
          "title": "Site ID",
          "description": "Generated Site ID",
          "$ref": "/base#/definitions/GeneratedId"
        },
        "collaborateBridgeId": {
          "title": "Collaborate Bridge ID",
          "description": "Generated Collaborate Bridge ID",
          "$ref": "/base#/definitions/GeneratedId"
        }
      },
      "required": [
        "customerId",
        "siteId",
        "collaborateBridgeId"
      ]
    }
    

### Request Properties

+ Request (application/json)

    + Headers
        Transaction-Id: 1380080943120

    + Body
        {
          "profile": {
            "name": "My Collaborate Bridge",
            "callingLineId": {
              "firstName": "First name example",
              "lastName": "Last name example"
            },
            "phoneNumber": "+1-4150192301",
            "tnRoutine": "port-no-temp",
            "extension": "2301"
          }
        }

    + Schema
        {
          "title": "Request body schema",
          "description": "Modify Site Collaborate Bridge request body parameters schema",
          "properties": {
            "profile": {
              "title": "Profile",
              "description": "Container for profile properties",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "name": {
                  "title": "Name",
                  "description": "Service Instance Name",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 30
                },
                "callingLineId": {
                  "title": "Calling Line Id",
                  "description": "Container for Calling Line Id properties",
                  "additionalProperties": false,
                  "properties": {
                    "firstName": {
                      "title": "First name",
                      "description": "Calling Line ID First Name. In initial implementation will be copied from the profile.name.",
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 30
                    },
                    "lastName": {
                      "title": "Last name",
                      "description": "Calling Line ID Last Name. In initial implementation will be copied from the profile.name.",
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 30
                    },
                    "phoneNumber": {
                      "title": "Phone Number",
                      "description": "NOT IMPLEMENTED. Phone Number for Calling Line Id",
                      "$ref": "/base#/definitions/PhoneNumber"
                    }
                  }
                },
                "phoneNumber": {
                  "title": "Phone Number",
                  "description": "Phone Number",
                  "$ref": "/base#/definitions/PhoneNumber"
                },
                "tnRoutine": {
                  "title": "TN routine",
                  "description": "Phone Number assignment routine",
                  "$ref": "/base#/definitions/TnRoutineNotNillable"
                },
                "extension": {
                  "title": "Extension",
                  "description": "Extension",
                  "type": [
                    "string",
                    "null"
                  ],
                  "minLength": 2,
                  "maxLength": 20,
                  "pattern": "^[0-9]+$"
                },
                "password": {
                  "title": "Password",
                  "description": "NOT IMPLEMENTED. Password",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 60
                },
                "department": {
                  "title": "Department",
                  "description": "NOT IMPLEMENTED. Department",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 50
                },
                "timeZone": {
                  "title": "Time Zone",
                  "description": "NOT IMPLEMENTED. Time Zone",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 127
                },
                "language": {
                  "title": "Language",
                  "description": "NOT IMPLEMENTED. Language",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 40
                },
                "alias": {
                  "title": "Aliases container",
                  "description": "NOT IMPLEMENTED. List of possible SIP URIs aliases of the Virtual User.",
                  "type": "array",
                  "maxItems": 3,
                  "items": {
                    "title": "Alias",
                    "description": "SIP URI",
                    "type": "string",
                    "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                    "minLength": 1,
                    "maxLength": 161
                  }
                },
                "publicServiceIdentity": {
                  "title": "Public User Identity",
                  "description": "NOT IMPLEMENTED. Public User Identity SIP URI for the Virtual User.",
                  "type": "string",
                  "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                  "minLength": 1,
                  "maxLength": 161
                }
              }
            },
            "maxBridgeParticipants": {
              "title": "Maximum bridge participants",
              "description": "Maximum number of Collaborate bridge participants",
              "type": "object",
              "properties": {
                "unlimited": {
                  "title": "Unlimited",
                  "description": "Indicates if the Collaborate Bridge can have an unlimited number of participants.",
                  "type": "boolean"
                },
                "quantity": {
                  "title": "Quantity",
                  "description": "Indicates the maximum number of Collaborate Bridge participants.",
                  "type": "integer",
                  "minimum": 3,
                  "maximum": 999999
                }
              },
              "required": [
                "unlimited"
              ]
            },
            "maxCollaborateRoomParticipants": {
              "title": "Maximum Collaborate room participants",
              "description": "Maximum number of Collaborate room participants",
              "type": "integer",
              "minimum": 3,
              "maximum": 30
            },
            "networkClassOfService": {
              "title": "Network Class of Service",
              "description": "NOT IMPLEMENTED. Network Class of Service",
              "type": "string",
              "minLength": 1,
              "maxLength": 40
            },
            "supportOutdial": {
              "title": "Support Outdial",
              "description": "Support Outdial",
              "type": "boolean"
            },
            "collaborateOwnerUserIdList": {
              "title": "Collaborate Owners list",
              "description": "NOT IMPLEMENTED. Collaborate Owners list",
              "type": ["array", "null"],
              "minItems": 1,
              "$ref": "/base#/definitions/UserId"
            }
          }
        }

+ Response 200 (application/hal+json)

    + Headers
        Transaction-Id: 1380080943120

    + Body
        {
          "_links": {
            "self": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances/5551239876%40example.com"
            },
            "ls:customer": {
              "href": "/api/customers/DemoCustomer"
            },
            "ls:site": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite"
            },
            "collection": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances"
            }
          },
          "collaborateBridgeId": "5551239876@example.com",
          "customerId": "DemoCustomer",
          "siteId": "DemoSite",
          "extensions": {
            "broadworks": {
              "resourceId": "5551239876@example.com"
            }
          },
          "profile": {
            "publicServiceIdentity": "5551239876@example.com",
            "extension": "9876"
          }
        }

    + Schema
        {
          "title": "Response body schema",
          "description": "Modify Site Collaborate Bridge response body parameters schema",
          "additionalProperties": false,
          "properties":{
            "_links": {
              "title": "HAL links",
              "description": "Collaborate Bridge HAL Links",
              "type": "object",
              "properties": {
                "self": {
                  "title": "Self link",
                  "description": "Collaborate Bridge self link",
                  "$ref": "/hal#/definitions/link"
                },
                "collection": {
                  "title": "Collection link",
                  "description": "Link to Collaborate Bridge instances",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:customer": {
                  "title": "Customer link",
                  "description": "Link to associated Customer",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:site": {
                  "title": "Site link",
                  "description": "Link to associated Site",
                  "$ref": "/hal#/definitions/link"
                }
              },
              "required": [
                "self",
                "collection",
                "ls:customer",
                "ls:site"
              ]
            },
            "profile": {
              "title": "Profile",
              "description": "Container for profile properties",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "publicServiceIdentity": {
                  "title": "Public User Identity",
                  "description": "Public User Identity SIP URI for the Virtual User.",
                  "type": "string",
                  "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                  "minLength": 1,
                  "maxLength": 161
                },
                "extension": {
                  "title": "Extension",
                  "description": "Extension",
                  "type": "string",
                  "minLength": 2,
                  "maxLength": 20,
                  "pattern": "^[0-9]+$"
                }
              }
            },
            "collaborateBridgeId": {
              "title": "Collaborate Bridge ID",
              "description": "Generated Collaborate Bridge ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "customerId": {
              "title": "Customer ID",
              "description": "Generated Customer ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "siteId": {
              "title": "Site ID",
              "description": "Generated Site ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "extensions": {
              "title": "Container for various extension data",
              "description": "Container for various extension data.",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "broadworks": {
                  "title": "Container for BroadWorks properties",
                  "description": "Container for BroadWorks properties",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "resourceId": {
                      "title": "Resource ID in BroadWorks",
                      "description": "Virtual User ID in BroadWorks",
                      "$ref": "/base#/definitions/UserId"
                    }
                  },
                  "required": ["resourceId"]
                }
              },
              "required": ["broadworks"]
            }
          },
          "required": ["_links", "customerId", "siteId", "collaborateBridgeId", "extensions"]
        }

### Delete Collaborate Bridge [DELETE]
Description: Delete a Collaborate Bridge instance.

Resource: Site Collaborate Bridge

Resource Archetype: Document

### JSON Schema for URI Template Parameters

    {
      "title": "URI template parameters schema",
      "description": "Delete Site Collaborate Bridge URI template parameters schema",
      "type": "object",
      "properties": {
        "customerId": {
          "title": "Customer ID",
          "description": "Generated Customer ID",
          "$ref": "/base#/definitions/GeneratedId"
        },
        "siteId": {
          "title": "Site ID",
          "description": "Generated Site ID",
          "$ref": "/base#/definitions/GeneratedId"
        },
        "collaborateBridgeId": {
          "title": "Collaborate Bridge ID",
          "description": "Generated Collaborate Bridge ID",
          "$ref": "/base#/definitions/GeneratedId"
        }
      },
      "required": [
        "customerId",
        "siteId",
        "collaborateBridgeId"
      ]
    }


### Request Properties

+ Request (application/json)

    + Headers
        Transaction-Id: 1380080943120

+ Response 200 (application/hal+json)

    + Headers
        Transaction-Id: 1380080943120

    + Body
        {
          "_links": {
            "ls:customer": {
              "href": "/api/customers/DemoCustomer"
            },
            "ls:site": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite"
            },
            "collection": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances"
            }
          },
          "customerId": "DemoCustomer",
          "siteId": "DemoSite"
        }

    + Schema
        {
          "title": "Response body schema",
          "description": "Delete Site Collaborate Bridge response body parameters schema",
          "additionalProperties": false,
          "properties":{
            "_links": {
              "title": "HAL links",
              "description": "Collaborate Bridge HAL Links",
              "type": "object",
              "properties": {
                "collection": {
                  "title": "Collection link",
                  "description": "Link to Collaborate Bridge instances",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:customer": {
                  "title": "Customer link",
                  "description": "Link to associated Customer",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:site": {
                  "title": "Site link",
                  "description": "Link to associated Site",
                  "$ref": "/hal#/definitions/link"
                }
              },
              "required": [
                "collection",
                "ls:customer",
                "ls:site"
              ]
            },
            "customerId": {
              "title": "Customer ID",
              "description": "Generated Customer ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "siteId": {
              "title": "Site ID",
              "description": "Generated Site ID",
              "$ref": "/base#/definitions/GeneratedId"
            }
          },
          "required": ["_links", "customerId", "siteId"]
        }

## Site Collaborate Bridge Alternate Numbers Service Settings [/api/customers/{customerId}/sites/{siteId}/collaborate-bridge/instances/{collaborateBridgeId}/services/Alternate%20Numbers]

+ Parameters
    + customerId: `DemoCustomer` (string, required)
    + siteId: `DemoSite` (string, required)
    + collaborateBridgeId: `5551239876@example.com` (string, required)
    
    
### Modify Alternate Numbers Service Settings [PUT]
Description: Update a Collaborate Bridge instance's Alternate Numbers service settings

Resource: Site Collaborate Bridge Alternate Numbers service settings

Resource Archetype: Document

### JSON Schema for URI Template Parameters

    {
      "title": "URI template parameters schema",
      "description": "Modify Site Collaborate Bridge Alternate Numbers URI template parameters schema",
      "type": "object",
      "properties": {
        "customerId": {
          "title": "Customer ID",
          "description": "Generated Customer ID",
          "$ref": "/base#/definitions/GeneratedId"
        },
        "siteId": {
          "title": "Site ID",
          "description": "Generated Site ID",
          "$ref": "/base#/definitions/GeneratedId"
        },
        "collaborateBridgeId": {
          "title": "Collaborate Bridge ID",
          "description": "Generated Collaborate Bridge ID",
          "$ref": "/base#/definitions/GeneratedId"
        }
      },
      "required": [
        "customerId",
        "siteId",
        "collaborateBridgeId"
      ]
    }


### Request Properties

+ Request (application/json)

    + Headers
        Transaction-Id: 1380080943120

    + Body
        {
          "distinctiveRing": false,
          "alternateNumbers": [
            {
              "id": 1,
              "tnRoutine": "",
              "phoneNumber": "+1-4125553000",
              "extension": "3000",
              "ringPattern": "Long-Long"
            },
            {
              "id": 5,
              "extension": "3005",
              "ringPattern": "Long-Long"
            }
          ]
        }

    + Schema
        {
          "title": "Request body schema",
          "description": "Modify Site Collaborate Bridge Alternate Numbers request body parameters schema",
          "$ref": "/virtualUser#/definitions/AlternateNumbersModifyBody"
        }

+ Response 200 (application/hal+json)

    + Headers
        Transaction-Id: 1380080943120

    + Body
        {
          "_links": {
            "self": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances/5551239876%40example.com/services/Alternate%20Numbers"
            },
            "up": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances/5551239876%40example.com/services"
            },
            "ls:collaborate-bridge": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances/5551239876%40example.com"
            },
            "ls:customer": {
              "href": "/api/customers/DemoCustomer"
            },
            "ls:site": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite"
            }
          },
          "collaborateBridgeId": "5551239876@example.com",
          "customerId": "DemoCustomer",
          "siteId": "DemoSite",
          "extensions": {
            "broadworks": {
              "resourceId": "5551239876@example.com"
            }
          }
        }

    + Schema
        {
          "title": "Response body schema",
          "description": "Modify Site Collaborate Bridge Alternate Numbers response body parameters schema",
          "additionalProperties": false,
          "properties":{
            "_links": {
              "title": "HAL links",
              "description": "Collaborate Bridge HAL Links",
              "type": "object",
              "properties": {
                "self": {
                  "title": "Self link",
                  "description": "Collaborate Bridge Alternate Numbers self link",
                  "$ref": "/hal#/definitions/link"
                },
                "up": {
                  "title": "Collection link",
                  "description": "Link to Collaborate Bridge instance services",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:customer": {
                  "title": "Customer link",
                  "description": "Link to associated Customer",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:site": {
                  "title": "Site link",
                  "description": "Link to associated Site",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:collaborate-bridge": {
                  "title": "Site link",
                  "description": "Link to Collaborate Bridge instance",
                  "$ref": "/hal#/definitions/link"
                }
              },
              "required": [
                "self",
                "up",
                "ls:customer",
                "ls:site",
                "ls:collaborate-bridge"
              ]
            },
            "collaborateBridgeId": {
              "title": "Collaborate Bridge ID",
              "description": "Generated Collaborate Bridge ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "customerId": {
              "title": "Customer ID",
              "description": "Generated Customer ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "siteId": {
              "title": "Site ID",
              "description": "Generated Site ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "extensions": {
              "title": "Container for various extension data",
              "description": "Container for various extension data.",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "broadworks": {
                  "title": "Container for BroadWorks properties",
                  "description": "Container for BroadWorks properties",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "resourceId": {
                      "title": "Resource ID in BroadWorks",
                      "description": "Virtual User ID in BroadWorks",
                      "$ref": "/base#/definitions/UserId"
                    }
                  },
                  "required": ["resourceId"]
                }
              },
              "required": ["broadworks"]
            }
          },
          "required": ["_links", "customerId", "siteId", "collaborateBridgeId", "extensions"]
        }

## Site Collaborate Bridge Assigned Services [/api/customers/{customerId}/sites/{siteId}/collaborate-bridge/instances/{collaborateBridgeId}/services/assigned-services]

+ Parameters
    + customerId: `DemoCustomer` (string, required)
    + siteId: `DemoSite` (string, required)
    + collaborateBridgeId: `5551239876@example.com` (string, required)


### Modify Assigned Services [POST]
Description: Update a Collaborate Bridge instance's assigned services

Resource: Site Collaborate Bridge assigned services

Resource Archetype: Document

**Note**: Initial implementation will not check if the Collaborate Bridge actually exists in the provided Customer and Site and also it does not actually check that the user type you are altering is actually a Collaborate Bridge.

### JSON Schema for URI Template Parameters

    {
      "title": "URI template parameters schema",
      "description": "Modify Site Collaborate Bridge assigned services URI template parameters schema",
      "type": "object",
      "properties": {
        "customerId": {
          "title": "Customer ID",
          "description": "Generated Customer ID",
          "$ref": "/base#/definitions/GeneratedId"
        },
        "siteId": {
          "title": "Site ID",
          "description": "Generated Site ID",
          "$ref": "/base#/definitions/GeneratedId"
        },
        "collaborateBridgeId": {
          "title": "Collaborate Bridge ID",
          "description": "Generated Collaborate Bridge ID",
          "$ref": "/base#/definitions/GeneratedId"
        }
      },
      "required": [
        "customerId",
        "siteId",
        "collaborateBridgeId"
      ]
    }


### Request Properties

+ Request (application/json)

    + Headers
        Transaction-Id: 1380080943120

    + Body
        {
          "services": [
            "Authentication",
            "Alternate Numbers"
          ]
        }

    + Schema
        {
          "title": "Request body schema",
          "description": "Modify Site Collaborate Bridge assigned services request body parameters schema",
          "$ref": "/virtualUser#/definitions/AssignedServicesModifyBody"
        }

+ Response 200 (application/hal+json)

    + Headers
        Transaction-Id: 1380080943120

    + Body
        {
          "_links": {
            "self": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances/5551239876%40example.com/services/assigned-services"
            },
            "up": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances/5551239876%40example.com/services"
            },
            "ls:collaborate-bridge": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite/collaborate-bridge/instances/5551239876%40example.com"
            },
            "ls:customer": {
              "href": "/api/customers/DemoCustomer"
            },
            "ls:site": {
              "href": "/api/customers/DemoCustomer/sites/DemoSite"
            }
          },
          "collaborateBridgeId": "5551239876@example.com",
          "customerId": "DemoCustomer",
          "siteId": "DemoSite",
          "extensions": {
            "broadworks": {
              "resourceId": "5551239876@example.com"
            }
          }
        }

    + Schema
        {
          "title": "Response body schema",
          "description": "Modify Site Collaborate Bridge assigned services response body parameters schema",
          "additionalProperties": false,
          "properties":{
            "_links": {
              "title": "HAL links",
              "description": "Collaborate Bridge HAL Links",
              "type": "object",
              "properties": {
                "self": {
                  "title": "Self link",
                  "description": "Collaborate Bridge assigned services self link",
                  "$ref": "/hal#/definitions/link"
                },
                "up": {
                  "title": "Collection link",
                  "description": "Link to Collaborate Bridge instance services",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:customer": {
                  "title": "Customer link",
                  "description": "Link to associated Customer",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:site": {
                  "title": "Site link",
                  "description": "Link to associated Site",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:collaborate-bridge": {
                  "title": "Site link",
                  "description": "Link to Collaborate Bridge instance",
                  "$ref": "/hal#/definitions/link"
                }
              },
              "required": [
                "self",
                "up",
                "ls:customer",
                "ls:site",
                "ls:collaborate-bridge"
              ]
            },
            "collaborateBridgeId": {
              "title": "Collaborate Bridge ID",
              "description": "Generated Collaborate Bridge ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "customerId": {
              "title": "Customer ID",
              "description": "Generated Customer ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "siteId": {
              "title": "Site ID",
              "description": "Generated Site ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "extensions": {
              "title": "Container for various extension data",
              "description": "Container for various extension data.",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "broadworks": {
                  "title": "Container for BroadWorks properties",
                  "description": "Container for BroadWorks properties",
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "resourceId": {
                      "title": "Resource ID in BroadWorks",
                      "description": "Virtual User ID in BroadWorks",
                      "$ref": "/base#/definitions/UserId"
                    }
                  },
                  "required": ["resourceId"]
                }
              },
              "required": ["broadworks"]
            }
          },
          "required": ["_links", "customerId", "siteId", "collaborateBridgeId", "extensions"]
        }
        
<!-- ---------------------------- VoIP Site Devices ---------------------------- -->

# Group VoIP Site Devices
Supported network elements:

* BroadWorks Application Server

Keys:

* customerId
* siteId
* deviceId

Extension Keys:

* (none)

## VoIP Site Devices Collection [/api/customers/{customerId}/sites/{siteId}/devices{?mode}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

### Create a VoIP Site Device [POST]
Create a new VoIP Site Device.

Rollback-enabled: No; If the VoIP Site Device add fails then there is nothing to rollback.

### URI Template Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the new VoIP Site Device is to be created.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site in which the new VoIP Site Device is to be created.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Create a new VoIP Site Device request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        },
        "required": [
            "customerId",
            "siteId"
        ]
    }

### URI Query Parameters

<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>prevalidate-and-create</td>
            <td>Controls execution mode.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
       </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Create a new VoIP Site Device request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### Request Properties

Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
        <th>Property</th>
        <th>Required?</th>
        <th>Default</th>
        <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>deviceName</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td></td>
            <td>Suggested name for the new device. In the default configuration, this will be used as the device name for the underlying BroadWorks device.</td>
        </tr>
        <tr>
            <td>type</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td></td>
            <td>Device Type - a valid Device Type in BroadWorks.</td>
        </tr>
        <tr>
            <td>protocol</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>Protocol - a valid device protocol on BroadWorks, e.g. SIP 2.0</td>
        </tr>
         <tr>
            <td>hostname</td>
            <td style="text-align: center;">varies</td>
            <td></td>
            <td>IP address or hostname. Required if port is present.</td>
        </tr>
         <tr>
            <td>port</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>TCP/IP Port number.</td>
        </tr>
        <tr>
            <td>outboundProxyServerNetAddress</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>Outbound proxy server IP address or hostname.</td>
        </tr>
        <tr>
            <td>stunServerNetAddress</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>STUN server IP address or hostname.</td>
        </tr>
        <tr>
            <td>macAddress</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>MAC Address. Must be a valid MAC address.</td>
        </tr>
        <tr>
            <td>serialNumber</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>Serial number.</td>
        </tr>
        <tr>
            <td>description</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>Description of device.</td>
        </tr>
        <tr>
            <td>physicalLocation</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>Physical geographic location of the device, used in conjunction with the Physical Location user service.</td>
        </tr>
        <tr>
            <td>transportProtocol</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>Transport protocol. One of {'UDP'|'TCP'|'Unspecified'}.</td>
        </tr>
        <tr>
            <td>deviceCredentials</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td> Container for access device credentials information.</td>
        </tr>
        <tr>
            <td>deviceCredentials.enabled</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Enable access device credentials.</td>
        </tr>
        <tr>
            <td>deviceCredentials.username</td>
            <td style="text-align: center;">varies</td>
            <td>n/a</td>
            <td>Access device userId. Required only when enabled is set to true.</td>
        </tr>
        <tr>
            <td>password</td>
            <td style="text-align: center;">varies</td>
            <td>n/a</td>
            <td>Access device password. Will be validated against device access password complexity rules. Required only when enabled is set to true.</td>
        </tr>
        <tr>
            <td>sacGroupName</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>
                <b>Not Implemented</b><br />
                Classic Server ID of an existing Site-level Session Admission Control group to which the new device should be added.
            </td>
        </tr>
        <tr>
            <td>customTags</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>
                <b>Not Implemented</b><br />
                A set of custom tags (with values) to be added to the new device.
            </td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>
                <b>Not Implemented</b><br />
                Container for network-element specific properties.
            </td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>
                <b>Not Implemented</b><br />
                Container for BroadWorks-specific properties.
            </td>
        </tr>
        <tr>
            <td>extensions.broadworks.mobilityManager</td>
            <td style="text-align: center;">no</td>
            <td></td>
            <td>
                <b>Not Implemented</b><br />
                Container for BroadWorks Mobility Manager propreties.
            </td>
        </tr>
        <tr>
            <td>extensions.broadworks.mobilityManager.provisioningURL</td>
            <td style="text-align: center;">varies</td>
            <td>n/a</td>
            <td>Required if "type" corresponds to a BroadWorks device type where "Mobility Manager Device" is true..</td>
        </tr>
        <tr>
            <td>extensions.broadworks.mobilityManager.provisioningUserName</td>
            <td style="text-align: center;">varies</td>
            <td>n/a</td>
            <td>Required if "type" corresponds to a BroadWorks device type where "Mobility Manager Device" is true..</td>
        </tr>
        <tr>
            <td>extensions.broadworks.mobilityManager.provisioningPassword</td>
            <td style="text-align: center;">varies</td>
            <td>n/a</td>
            <td>Required if "type" corresponds to a BroadWorks device type where "Mobility Manager Device" is true.</td>
        </tr>
        <tr>
            <td>extensions.broadworks.mobilityManager.defaultOriginatingServiceKey</td>
            <td style="text-align: center;">varies</td>
            <td>n/a</td>
            <td>Not valid if "type" corresponds to a BroadWorks device type where "Mobility Manager Device" is true.</td>
        </tr>
        <tr>
            <td>extensions.broadworks.mobilityManager.defaultTerminatingServiceKey</td>
            <td style="text-align: center;">varies</td>
            <td>n/a</td>
            <td>Not valid if "type" corresponds to a BroadWorks device type where "Mobility Manager Device" is true.</td>
        </tr>
    </tbody>
</table>

### Response Properties - 201 Created

Besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td>A Classic Server ID (server-generated) of the existing Customer.</td>
       </tr>
       <tr>
            <td>siteId</td>
            <td>A Classic Server ID (server-generated) of the existing Site.</td>
       </tr>
       <tr>
            <td>deviceId</td>
            <td>
                A Classic Server ID (server-generated) of the created Site Device. The format of this is subject to change. <br />
                It is not guaranteed to match what is given as input ("deviceName") and also it is not guaranteed to match the created BroadWorks Device Name.
            </td>
       </tr>
       <tr>
            <td>extensions.broadworks.serviceProviderId</td>
            <td>The ID of the BroadWorks Service Provider/ Enterprise in which the device was created.</td>
       </tr>
       <tr>
            <td>extensions.broadworks.groupId</td>
            <td>The ID of the BroadWorks Group in which the device was created.</td>
       </tr>
        <tr>
            <td>extensions.broadworks.deviceName</td>
            <td>The BroadWorks Device Name if the created device.</td>
       </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "deviceName": "Example Com AD3001",
                "type": "Adtran TA908",
                "protocol": "SIP 2.0",
                "hostname": "10.0.0.5",
                "port": 8080,
                "outboundProxyServerNetAddress": "proxy1.example.com",
                "stunServerNetAddress": "192.168.100.100",
                "macAddress": "AABBCC112233",
                "serialNumber": "A101-263",
                "description": "Device for Trunk 3001",
                "physicalLocation": "202 Main Street Nowhere, FR",
                "transportProtocol": "TCP",
                "deviceCredentials": {
                    "enabled": true,
                    "username": "4165551212",
                    "password": "4D0fj$&zJ"
                }
            }

    + Schema

            {
               "title": "Create a new VoIP Site Device request body properties",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "deviceName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "type": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "protocol": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 20
                  },
                  "hostname": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "port": {
                     "type": "integer",
                     "minimum": 1025,
                     "maximum": 65535
                  },
                  "outboundProxyServerNetAddress": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "stunServerNetAddress": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "macAddress": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 12
                  },
                  "serialNumber": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "description": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "physicalLocation": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 1024
                  },
                  "transportProtocol": {
                     "enum": [
                        "UDP",
                        "TCP",
                        "Unspecified"
                     ]
                  },
                  "deviceCredentials": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enabled": {
                           "type": "boolean"
                        },
                        "username": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 161
                        },
                        "password": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 60
                        }
                     },
                     "required": [
                        "enabled"
                     ]
                  },
                  "sacGroup": {},
                  "customTags": {},
                  "extensions": {}
               },
               "required": [
                  "deviceName",
                  "type"
               ]
            }

+ Response 201 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120
            Location: http://classicserver.example.com/api/customers/ExampleCom/sites/ExampleCom/devices/Example%20Com%20AD3001

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/ExampleCom/sites/ExampleCom/devices/Example%20Com%20AD3001"
                    }
                },
                "customerId": "ExampleCom",
                "siteId": "ExampleCom",
                "deviceId": "Example Com AD3001",
                "extensions": {
                    "broadworks": {
                        "deviceName": "Example Com AD3001",
                        "serviceProviderId": "ExampleCom",
                        "groupId": "ExampleCom"
                    }
                }
            }

    + Schema

            {
               "title": "Create a new VoIP Site Device response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1
                  },
                  "deviceId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "properties": {
                              "serviceProviderId": {
                                 "type": "string",
                                 "minLength": 1
                              },
                              "groupId": {
                                 "type": "string",
                                 "minLength": 1
                              },
                              "deviceName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 40
                              }
                           },
                           "required": [
                              "serviceProviderId",
                              "groupId",
                              "deviceName"
                           ]
                        }
                     }
                  }
               },
               "required": [
                  "_links",
                  "customerId",
                  "siteId",
                  "deviceId"
               ]
            }

<!-- --------------------- VoIP Site Trunk Groups --------------------- -->

# Group VoIP Site Trunk Groups
Supported network elements:

* BroadWorks Application Server

Keys:

* customerId
* siteId
* trunkGroupName

Extension Keys:

* (none)

## VoIP Trunk Groups Collection [/api/customers/{customerId}/sites/{siteId}/trunk-groups{?mode}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

### Create a VoIP Trunk Group [POST]
Create a new VoIP Trunk Group.<br />
Process name: Create VoIP Trunk Group (VoIP Entity Service)<br />
Rollback-enabled: No; the rollback is dependent on VoIP User Add rollback, which is not implemented.
If the trunk group add fails before the pilot user is created, the changes will be rolled back. Otherwise, no changes
will be rolled back.

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>prevalidate-and-create</td>
            <td>Controls execution mode.<br />
                Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
                <b>NOTE: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the new VoIP Trunk Group is to be created.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site in which the new VoIP Trunk Group is to be created.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "VoIP Trunk Group create request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            }
        },
        "required": [
            "customerId",
            "siteId"
        ]
    }

### JSON Schema for URI Query Parameters

    {
        "title": "VoIP Trunk Group create request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
    <tr>
        <td>name</td>
        <td>yes</td>
        <td>n/a</td>
        <td>Suggested Trunk Group Name. In the default configuration, this will be used to generate the name for the underlying BroadWorks trunk group.</td>
    </tr>
        <tr><td>accessDevice</td><td>yes</td><td>n/a</td><td>Details of the Trunk Group's device.</td></tr>
            <tr>
                <td>accessDevice.deviceManagementRoutine</td>
                <td>no</td>
                <td>"existing"</td>
                <td>Allowed values: {"create", "existing"}. Use "create" to cause a new device to be created.
                    Use "existing" if the specified device already exists.</td>
            </tr>
            <tr>
                <td>accessDevice.level</td>
                <td>yes</td>
                <td>n/a</td>
                <td>Device level. Allowed values: {"Site"}.</td>
            </tr>
            <tr>
                <td>accessDevice.deviceType</td>
                <td>no</td>
                <td>n/a</td>
                <td>Device type.
                    Required when deviceManagementRoutine is "create".
                    Required to be a valid Device Type defined in the BroadWorks system (not validated).
                </td>
            </tr>
            <tr>
                <td>accessDevice.deviceName</td>
                <td>yes</td>
                <td>n/a</td>
                <td>Device name.</td>
            </tr>
            <tr>
                <td>accessDevice.hostname</td>
                <td>no</td>
                <td>n/a</td>
                <td>Device IP address or hostname</td>
            </tr>
    <tr><td>pilotUser</td><td>yes</td><td>n/a</td><td>Required to contain the properties of a POST /api/users request with the exception of the following properties: accessDevice, trunkGroup and userType which are disallowed in this request.
    </td></tr>
    <tr><td>department</td><td>no</td><td>n/a</td><td>Department name (only Site-level departments are supported, initially).</td></tr>
    <tr><td>capacityManagement</td><td>yes</td><td>n/a</td><td>Capacity Management settings</td></tr>
    <tr><td>capacityManagement. maxActiveCalls</td><td>yes</td><td>n/a</td><td>Maximum Active Calls settings</td></tr>
    <tr><td>capacityManagement. maxActiveCalls. total</td><td>yes</td><td>n/a</td><td>Maximum Active Calls / Total Calls</td></tr>
    <tr><td>capacityManagement. maxActiveCalls. incoming</td><td>no</td><td>n/a</td><td>Maximum Active Calls / Incoming Calls</td></tr>
    <tr><td>capacityManagement. maxActiveCalls. outgoing</td><td>no</td><td>n/a</td><td>Maximum Active Calls / Outgoing Calls</td></tr>
    <tr><td>capacityManagement. burstingMaxActiveCalls</td><td>yes</td><td>n/a</td><td>Bursting Maximum Active Calls settings</td></tr>
    <tr><td>capacityManagement. burstingMaxActiveCalls. enabled</td><td>yes</td><td>n/a</td><td>Bursting Capacity on/off</td></tr>
    <tr><td>capacityManagement. burstingMaxActiveCalls. total</td><td>(see notes)</td><td>n/a</td><td>Bursting Maximum Active Calls / Total Calls. Required if "capacityManagement. burstingMaxActiveCalls. enabled" is true.</td></tr>
    <tr><td>capacityManagement. burstingMaxActiveCalls. incoming</td><td>no</td><td>n/a</td><td>Bursting Maximum Active Calls / Incoming Calls</td></tr>
    <tr><td>capacityManagement. burstingMaxActiveCalls. outgoing</td><td>no</td><td>n/a</td><td>Bursting Maximum Active Calls / Outgoing Calls</td></tr>
    <tr><td>capacityManagement. incomingCapacityExceeded</td><td>yes</td><td>n/a</td><td>Incoming Capacity Exceeded settings</td></tr>
    <tr><td>capacityManagement. incomingCapacityExceeded. action</td><td>no</td><td>n/a</td><td>Incoming Capacity Exceeded Action - one of {'Forward'|'Reroute'}</td></tr>
    <tr><td>capacityManagement. incomingCapacityExceeded. forwardAddress</td><td>(see notes)</td><td>n/a</td><td>Forward to Phone Number / SIP-URI.
        Must be a valid phone number or SIP URI.
        Required if "capacityManagement. incomingCapacityExceeded. action" is "Forward".
    </td></tr>
    <tr><td>capacityManagement. incomingCapacityExceeded. rerouteTrunkGroup</td><td>(see notes)</td><td>n/a</td><td>Details of target VoIP Trunk Group.
        Required if "capacityManagement. incomingCapacityExceeded. action" is "Reroute".</td></tr>
    <tr><td>capacityManagement. incomingCapacityExceeded. rerouteTrunkGroup. siteId</td><td>(see notes)</td><td>n/a</td><td>siteId of Site containing the reroute target VoIP Trunk Group.
        Required if "capacityManagement. incomingCapacityExceeded. action" is "Reroute".</td></tr>
    <tr><td>capacityManagement. incomingCapacityExceeded. rerouteTrunkGroup. trunkGroupName</td><td>(see notes)</td><td>n/a</td><td>Name of the reroute target VoIP Trunk Group.
        Required if "capacityManagement. incomingCapacityExceeded. action" is "Reroute".</td></tr>
    <tr><td>capacityManagement. incomingCapacityExceeded. initialCalls</td><td>yes</td><td>n/a</td><td>Capacity Exceeded Initial Value</td></tr>
    <tr><td>capacityManagement. incomingCapacityExceeded. offsetCalls</td><td>yes</td><td>n/a</td><td>Capacity Exceeded Offset Value</td></tr>
    <tr><td>unreachableDestination</td><td>yes</td><td>n/a</td><td>Unreachable Destination settings</td></tr>
    <tr><td>unreachableDestination. timeout</td><td>yes</td><td>n/a</td><td>Unreachable Destination Timeout (seconds)</td></tr>
    <tr><td>unreachableDestination. action</td><td>no</td><td>n/a</td><td>Unreachable Destination Action - one of {'Forward'|'Reroute'}</td></tr>
    <tr><td>unreachableDestination. forwardAddress</td><td>(see notes)</td><td>n/a</td><td>Forward to Phone Number / SIP-URI.
        Must be a valid phone number or SIP URI.
        Required if "unreachableDestination. action" is "Forward".
    </td></tr>
    <tr><td>unreachableDestination. rerouteTrunkGroup</td><td>(see notes)</td><td>n/a</td><td>Details of target VoIP Trunk Group.
        Required if "unreachableDestination. action" is "Reroute".</td></tr>
    <tr><td>unreachableDestination. rerouteTrunkGroup. siteId</td><td>(see notes)</td><td>n/a</td><td>siteId of Site containing the reroute target VoIP Trunk Group.
        Required if "unreachableDestination. action" is "Reroute".</td></tr>
    <tr><td>unreachableDestination. rerouteTrunkGroup. trunkGroupName</td><td>(see notes)</td><td>n/a</td><td>Name of the reroute target VoIP Trunk Group.
        Required if "unreachableDestination. action" is "Reroute".</td></tr>
    <tr><td>authentication</td><td>yes</td><td>n/a</td><td>SIP authentication settings</td></tr>
    <tr><td>authentication. enabled</td><td>yes</td><td>n/a</td><td>Enable Authentication</td></tr>
    <tr><td>authentication. username</td><td>(see notes)</td><td>n/a</td><td>Authentication User Name. Required if "authentication. enabled" is true.</td></tr>
    <tr><td>authentication. password</td><td>(see notes)</td><td>n/a</td><td>Authentication password. Required if "authentication. enabled" is true.<br />
    If present, the password will be validated against the sipPassword rules configured in the server.
    </td></tr>
    <tr><td>hostedUsers</td><td>no</td><td>n/a</td><td>Not implemented - will be ignored if present in request.</td></tr>
    <tr><td>identity</td><td>yes</td><td>n/a</td><td>Identity settings</td></tr>
    <tr><td>identity. trunkGroupIdentity</td><td>yes</td><td>n/a</td><td>Trunk Group Identity settings</td></tr>
    <tr><td>identity. trunkGroupIdentity. identity</td><td>no</td><td>n/a</td><td>Trunk Group Identity, including @domain. Required to be a valid SIP URI.</td></tr>
    <tr><td>identity. trunkGroupIdentity. allowTerminationToTrunkGroupIdentity</td><td>yes</td><td>n/a</td><td>Allow calls directly to trunk group with Trunk Identity</td></tr>
    <tr><td>identity. trunkGroupIdentity. includeTrunkGroupIdentity</td><td>yes</td><td>n/a</td><td>Include Trunk Identity for Calls to Trunk Group</td></tr>
    <tr><td>identity. trunkGroupIdentity. includeTrunkGroupIdentityForNetworkCalls</td><td>yes</td><td>n/a</td><td>Include Trunk Identity for Calls from Trunk Group</td></tr>
    <tr><td>identity. otgDtgIdentity</td><td>yes</td><td>n/a</td><td>OTG/DTG Identity settings</td></tr>
    <tr><td>identity. otgDtgIdentity. identity</td><td>no</td><td>n/a</td><td>OTG/DTG Identity</td></tr>
    <tr><td>identity. otgDtgIdentity. allowTerminationToDtgIdentity</td><td>yes</td><td>n/a</td><td>Allow calls directly to trunk group with DTG Identity</td></tr>
    <tr><td>identity. otgDtgIdentity. includeDtgIdentity</td><td>yes</td><td>n/a</td><td>Include DTG Identity for Calls to Trunk Group</td></tr>
    <tr><td>identity. otgDtgIdentity. includeOtgIdentityForNetworkCalls</td><td>yes</td><td>n/a</td><td>Include OTG Identity for Calls from Trunk Group</td></tr>
    <tr><td>identity. enableNetworkAddressIdentity</td><td>yes</td><td>n/a</td><td>Enable Network Address Identity</td></tr>
    <tr><td>allowUnscreenedCalls</td><td>yes</td><td>n/a</td><td>Allow Unscreened Calls</td></tr>
    <tr><td>allowUnscreenedEmergencyCalls</td><td>yes</td><td>n/a</td><td>Allow Unscreened Emergency Calls</td></tr>
    <tr><td>pilotUserCallingLineIdentityPolicy</td><td>yes</td><td>n/a</td><td>Pilot User Calling Line Asserted Identity Usage Policy - one of {'All Originating Calls'|'Unscreened Originating Calls'|'No Calls'}</td></tr>
    <tr><td>pilotUserChargeNumberPolicy</td><td>yes</td><td>n/a</td><td>Pilot User Charge Number Usage Policy - one of {'All Originating Calls'|'Unscreened Originating Calls'|'No Calls'}</td></tr>
    <tr><td>callForwardingAlways</td><td>no</td><td>n/a</td><td>Call Forwarding Always settings</td></tr>
    <tr><td>callForwardingAlways. action</td><td>no</td><td>n/a</td><td>Call Forwarding Always Action - one of {'Forward'|'Reroute'}</td></tr>
    <tr><td>callForwardingAlways. forwardAddress</td><td>(see notes)</td><td>n/a</td><td>Forward to Phone Number / SIP-URI.
        Must be a valid phone number or SIP URI.
        Required if "callForwardingAlways. action" is "Forward".
    </td></tr>
    <tr><td>callForwardingAlways. rerouteTrunkGroup</td><td>(see notes)</td><td>n/a</td><td>Details of target VoIP Trunk Group. Required if "callForwardingAlways. action" is "Reroute".</td></tr>
    <tr><td>callForwardingAlways. rerouteTrunkGroup. siteId</td><td>(see notes)</td><td>n/a</td><td>siteId of Site containing the reroute target VoIP Trunk Group. Required if "callForwardingAlways. action" is "Reroute".</td></tr>
    <tr><td>callForwardingAlways. rerouteTrunkGroup. trunkGroupName</td><td>(see notes)</td><td>n/a</td><td>Name of the reroute target VoIP Trunk Group. Required if "callForwardingAlways. action" is "Reroute".</td></tr>
    <tr><td>peeringDomain</td><td>yes</td><td>n/a</td><td>Peering Domain settings</td></tr>
    <tr><td>peeringDomain. domainName</td><td>no</td><td>n/a</td><td>Peering Domain</td></tr>
    <tr><td>peeringDomain. routeToPeeringDomain</td><td>yes</td><td>n/a</td><td>Route To Peering Domain</td></tr>
    <tr><td>trunkGroupPrefix</td><td>yes</td><td>n/a</td><td>Trunk Group Prefix settings</td></tr>
    <tr><td>trunkGroupPrefix. enabled</td><td>yes</td><td>n/a</td><td>Enable Trunk Group Prefix.</td></tr>
    <tr><td>trunkGroupPrefix. prefix</td><td>(see notes)</td><td>n/a</td><td>Trunk Group Prefix. Required when "trunkGroupPrefix. enabled" is true.</td></tr>
    <tr><td>advancedReroute</td><td>yes</td><td>n/a</td><td>Stateful Trunk Group Rerouting settings</td></tr>
    <tr><td>advancedReroute. enabled</td><td>yes</td><td>n/a</td><td>Enable Stateful Trunk Group Rerouting</td></tr>
    <tr><td>advancedReroute. sendContinuousOptionsMessage</td><td>yes</td><td>n/a</td><td>Send Continuous Options Message</td></tr>
    <tr><td>advancedReroute. continuousOptionsSendingInterval</td><td>yes</td><td>n/a</td><td>Send Continuous Options Message Every (seconds)</td></tr>
    <tr><td>advancedReroute. failureOptionsSendingInterval</td><td>yes</td><td>n/a</td><td>Send Failure Options Message Every (seconds)</td></tr>
    <tr><td>advancedReroute. failureThresholdCounter</td><td>yes</td><td>n/a</td><td>Failure Threshold Counter</td></tr>
    <tr><td>advancedReroute. successThresholdCounter</td><td>yes</td><td>n/a</td><td>Success Threshold Counter</td></tr>
    <tr><td>advancedReroute. inviteFailureThresholdCounter</td><td>yes</td><td>n/a</td><td>Invite Failure Threshold Counter</td></tr>
    <tr><td>advancedReroute. inviteFailureThresholdWindow</td><td>yes</td><td>n/a</td><td>Invite Failure Threshold Window</td></tr>
    <tr><td>pilotUserCallingLineAssertedIdentityPolicy</td><td>yes</td><td>n/a</td><td>Pilot User Calling Line Asserted Identity Policy settings</td></tr>
    <tr><td>pilotUserCallingLineAssertedIdentityPolicy. useTrunkGroupCallingLineAssertedIdentityPolicy</td><td>yes</td><td>n/a</td><td>If true, use Trunk Group's Pilot User Calling Line Asserted Identity Policy. Otherwise, use the Customer's policy.</td></tr>
    <tr><td>pilotUserCallingLineAssertedIdentityPolicy.  callingLineAssertedIdentityPolicy</td><td>yes</td><td>n/a</td><td>Use this Trunk Group Policy - one of {'All Originating Calls'|'Unscreened Originating Calls'}</td></tr>
    <tr>
        <td>extensions</td>
        <td>no</td>
        <td>n/a</td>
        <td>Container for network-element specific properties</td>
    </tr>
    <tr>
        <td>extensions.broadworks</td>
        <td>no</td>
        <td>n/a</td>
        <td>
            Container for BroadWorks-specific properties.</td></tr>
                    <tr>
                        <td>extensions.broadworks.resourceId</td>
                        <td>no</td>
                        <td>n/a</td>
                        <td>The name for the new BroadWorks trunk group.<br />
                        If present it overwrites the generated value from the name.
                        </td>
                    </tr>
    </tbody>
</table>

### Response Properties - 201 Created

For the Trunk Group Add process besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.<br />
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Description</th>
    <th>Mandatory</th>
    </thead>
    <tbody>
        <tr>
            <td>trunkGroupId</td>
            <td>Classic Server VoIP Id of the new BroadWorks Trunk Group.</td>
            <td>Yes</td>
        </tr>
        <tr>
            <td>customerId</td>
            <td>Classic Server VoIP Id of the Customer in which the new VoIP Trunk Group was created.</td>
            <td>Yes</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td>Classic Server VoIP Id of the Site in which the new VoIP Trunk Group was created.</td>
            <td>Yes</td>
        </tr>
       <tr>
            <td>extensions. broadworks. resourceId</td>
            <td>BroadWorks ID of the new Trunk Group.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>_embedded. ls:pilot-users</td>
            <td>HAL representation of the created Pilot User (a VoIP User resource representation).</td>
            <td>Yes</td>
       </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "name": "ExampleCom Trunk 3001",
                "department": "Sales",
                "accessDevice": {
                    "deviceManagementRoutine": "create",
                    "level": "Site",
                    "deviceType": "AudioCodes MP-102",
                    "deviceName": "ExampleCom_AD3001",
                    "hostname": "192.168.0.2"
                },
                "capacityManagement": {
                    "maxActiveCalls": {
                        "total": 10,
                        "incoming": 4,
                        "outgoing": 3
                    },
                    "burstingMaxActiveCalls": {
                        "enabled": false,
                        "total": 12,
                        "incoming": 7,
                        "outgoing": 9
                    },
                    "incomingCapacityExceeded": {
                        "action": "Forward",
                        "forwardAddress": "3015551212",
                        "rerouteTrunkGroup": {
                            "siteId": "ExampleCom",
                            "trunkGroupName": "ExampleCom Trunk 1212"
                        },
                        "initialCalls": 2,
                        "offsetCalls": 3
                    }
                },
                "unreachableDestination": {
                    "timeout": 10,
                    "action": "Reroute",
                    "forwardAddress": "3015551212",
                    "rerouteTrunkGroup": {
                        "siteId": "ExampleCom",
                        "trunkGroupName": "ExampleCom Trunk 1212"
                    }
                },
                "authentication": {
                    "enabled": true,
                    "username": "2405553001@example.com",
                    "password": "230A4u$#%f"
                },
                "identity": {
                    "trunkGroupIdentity": {
                        "identity": "2405553001@example.com",
                        "allowTerminationToTrunkGroupIdentity": false,
                        "includeTrunkGroupIdentity": false,
                        "includeTrunkGroupIdentityForNetworkCalls": false
                    },
                    "otgDtgIdentity": {
                        "identity": "2405553001",
                        "allowTerminationToDtgIdentity": false,
                        "includeDtgIdentity": false,
                        "includeOtgIdentityForNetworkCalls": false
                    },
                    "enableNetworkAddressIdentity": false
                },
                "allowUnscreenedCalls": true,
                "allowUnscreenedEmergencyCalls": false,
                "pilotUserCallingLineIdentityPolicy": "No Calls",
                "pilotUserChargeNumberPolicy": "No Calls",
                "callForwardingAlways": {
                    "action": "Forward",
                    "forwardAddress": "3015551212",
                    "rerouteTrunkGroup": {
                        "siteId": "ExampleCom",
                        "trunkGroupName": "ExampleCom Trunk 1212"
                    }
                },
                "peeringDomain": {
                    "domainName": "example.com",
                    "routeToPeeringDomain": false
                },
                "trunkGroupPrefix": {
                    "enabled": false,
                    "prefix": "1234"
                },
                "advancedReroute": {
                    "enabled": false,
                    "sendContinuousOptionsMessage": false,
                    "continuousOptionsSendingInterval": 30,
                    "failureOptionsSendingInterval": 10,
                    "failureThresholdCounter": 1,
                    "successThresholdCounter": 1,
                    "inviteFailureThresholdCounter": 1,
                    "inviteFailureThresholdWindow": 30
                },
                "pilotUserCallingLineAssertedIdentityPolicy": {
                    "useTrunkGroupCallingLineAssertedIdentityPolicy": false,
                    "callingLineAssertedIdentityPolicy": "Unscreened Originating Calls"
                },
                "pilotUser": {
                    "name": "2405553001@example.com",
                    "phoneNumber": "+1-2405553001",
                    "tnRoutine": "auto",
                    "CLID": "+1-2405553001",
                    "extension": "3001",
                    "lastName": "Smith",
                    "firstName": "John",
                    "callingLineIdLastName": "Smith",
                    "callingLineIdFirstName": "John",
                    "email": "jsmith@example.com",
                    "timeZone": "America\/New_York",
                    "language": "English",
                    "servicePacks": {
                        "base": "Standard",
                        "add-on": [
                            "Executive"
                        ]
                    },
                    "role": "Executive",
                    "services": {
                        "Authentication": {
                            "username": "2405553001@example.com",
                            "password": "230A4u$#%f"
                        },
                        "Charge Number": {
                            "phoneNumber": "+1-2405553001",
                            "tnRoutine": "",
                            "useChargeNumberForEnhancedTranslations": false,
                            "sendChargeNumberToNetwork": true
                        },
                        "Third-Party Voice Mail Support": {
                            "isActive": true,
                            "busyRedirectToVoiceMail": true,
                            "noAnswerRedirectToVoiceMail": true,
                            "serverSelection": "User Specific Mail Server",
                            "userServer": "3015557000",
                            "noAnswerNumberOfRings": 4,
                            "alwaysRedirectToVoiceMail": false,
                            "outOfPrimaryZoneRedirectToVoiceMail": false
                        },
                        "Call Forwarding No Answer": {
                            "isActive": true,
                            "forwardToPhoneNumber": "+1-2405553101",
                            "numberOfRings": 4
                        },
                        "Call Forwarding Not Reachable": {
                            "isActive": true,
                            "forwardToPhoneNumber": "+1-2405553101"
                        }
                    }
                },
                "extensions": {
                    "broadworks": {
                        "resourceId": "ExampleCom Trunk 3001"
                    }
                }
            }

    + Schema

            {
               "title": "VoIP Trunk Group create request body properties",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "name": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "accessDevice": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "deviceManagementRoutine": {
                           "enum": [
                              "create",
                              "existing"
                           ]
                        },
                        "level": {
                           "enum": [
                              "Site"
                           ]
                        },
                        "deviceType": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "deviceName": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "hostname": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        }
                     },
                     "required": [
                        "level",
                        "deviceName"
                     ]
                  },
                  "pilotUser": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "customerId": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "siteId": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 161,
                           "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                        },
                        "phoneNumber": {
                           "type": "string",
                           "pattern": "^\\+\\d+-\\d+$",
                           "minLength": 1,
                           "maxLength": 23
                        },
                        "tnRoutine": {
                           "enum": [
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        },
                        "extension": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "CLID": {
                           "type": "string",
                           "pattern": "^\\+\\d+-\\d+$",
                           "minLength": 1,
                           "maxLength": 23
                        },
                        "lastName": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "firstName": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineIdLastName": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30,
                           "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                        },
                        "callingLineIdFirstName": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30,
                           "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                        },
                        "email": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80,
                           "format": "email"
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "role": {},
                        "servicePacks": {
                           "type": "object",
                           "additionalProperties": false,
                           "description": "Service Packs that will be assigned to User",
                           "properties": {
                              "base": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 80
                              },
                              "add-on": {
                                 "type": "array",
                                 "items": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 80
                                 }
                              }
                           }
                        },
                        "services": {
                           "type": "object",
                           "properties": {
                              "Authentication": {
                                 "type": "object",
                                 "additionalProperties": false,
                                 "properties": {
                                    "username": {
                                       "type": "string",
                                       "minLength": 1,
                                       "maxLength": 80
                                    },
                                    "password": {
                                       "type": "string",
                                       "minLength": 1,
                                       "maxLength": 60
                                    }
                                 }
                              },
                              "Charge Number": {
                                 "type": "object",
                                 "additionalProperties": false,
                                 "properties": {
                                    "phoneNumber": {
                                       "type": [
                                          "string",
                                          "null"
                                       ],
                                       "pattern": "^\\+\\d+-\\d+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    "useChargeNumberForEnhancedTranslations": {
                                       "type": "boolean"
                                    },
                                    "sendChargeNumberToNetwork": {
                                       "type": "boolean"
                                    },
                                    "tnRoutine": {
                                       "enum": [
                                          "",
                                          "port-no-temp",
                                          "auto"
                                       ]
                                    }
                                 }
                              },
                              "Third-Party Voice Mail Support": {
                                 "type": "object",
                                 "additionalProperties": false,
                                 "properties": {
                                    "isActive": {
                                       "type": "boolean"
                                    },
                                    "busyRedirectToVoiceMail": {
                                       "type": "boolean"
                                    },
                                    "noAnswerRedirectToVoiceMail": {
                                       "type": "boolean"
                                    },
                                    "noAnswerNumberOfRings": {
                                       "enum": [
                                          0,
                                          2,
                                          3,
                                          4,
                                          5,
                                          6,
                                          7,
                                          8,
                                          9,
                                          10,
                                          11,
                                          12,
                                          13,
                                          14,
                                          15,
                                          16,
                                          17,
                                          18,
                                          19,
                                          20
                                       ]
                                    },
                                    "alwaysRedirectToVoiceMail": {
                                       "type": "boolean"
                                    },
                                    "outOfPrimaryZoneRedirectToVoiceMail": {
                                       "type": "boolean"
                                    },
                                    "serverSelection": {
                                       "enum": [
                                          "Group Mail Server",
                                          "User Specific Mail Server"
                                       ]
                                    },
                                    "userServer": {
                                       "anyOf": [
                                          {
                                             "id": "E.164 DN",
                                             "type": [
                                                "string",
                                                "null"
                                             ],
                                             "description": "A formatted TN.",
                                             "pattern": "^\\+\\d+-\\d+$",
                                             "minLength": 1,
                                             "maxLength": 23
                                          },
                                          {
                                             "id": "non-E.164 DN",
                                             "type": "string",
                                             "description": "A non-E.164 formatted TN.",
                                             "pattern": "^[\\d\\-]+$",
                                             "minLength": 1,
                                             "maxLength": 23
                                          },
                                          {
                                             "id": "SIP URI",
                                             "type": "string",
                                             "description": "SIP URI",
                                             "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                             "minLength": 1,
                                             "maxLength": 161
                                          }
                                       ]
                                    },
                                    "mailboxIdType": {
                                       "enum": [
                                          "User Or Group Phone Number",
                                          "URL"
                                       ]
                                    },
                                    "mailboxURL": {
                                       "type": [
                                          "string",
                                          "null"
                                       ],
                                       "description": "SIP URI",
                                       "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 161
                                    }
                                 }
                              },
                              "Call Forwarding No Answer": {
                                 "type": "object",
                                 "additionalProperties": false,
                                 "properties": {
                                    "isActive": {
                                       "type": "boolean"
                                    },
                                    "forwardToPhoneNumber": {
                                       "anyOf": [
                                          {
                                             "id": "E.164 DN",
                                             "type": [
                                                "string",
                                                "null"
                                             ],
                                             "description": "A formatted TN.",
                                             "pattern": "^\\+\\d+-\\d+$",
                                             "minLength": 1,
                                             "maxLength": 23
                                          },
                                          {
                                             "id": "non-E.164 DN",
                                             "type": "string",
                                             "description": "A non-E.164 formatted TN.",
                                             "pattern": "^[\\d\\-]+$",
                                             "minLength": 1,
                                             "maxLength": 23
                                          },
                                          {
                                             "id": "SIP URI",
                                             "type": "string",
                                             "description": "SIP URI",
                                             "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                             "minLength": 1,
                                             "maxLength": 161
                                          }
                                       ]
                                    },
                                    "numberOfRings": {
                                       "enum": [
                                          0,
                                          2,
                                          3,
                                          4,
                                          5,
                                          6,
                                          7,
                                          8,
                                          9,
                                          10,
                                          11,
                                          12,
                                          13,
                                          14,
                                          15,
                                          16,
                                          17,
                                          18,
                                          19,
                                          20
                                       ]
                                    }
                                 }
                              },
                              "Call Forwarding Not Reachable": {
                                 "type": "object",
                                 "additionalProperties": false,
                                 "properties": {
                                    "isActive": {
                                       "type": "boolean"
                                    },
                                    "forwardToPhoneNumber": {
                                       "anyOf": [
                                          {
                                             "id": "E.164 DN",
                                             "type": [
                                                "string",
                                                "null"
                                             ],
                                             "description": "A formatted TN.",
                                             "pattern": "^\\+\\d+-\\d+$",
                                             "minLength": 1,
                                             "maxLength": 23
                                          },
                                          {
                                             "id": "non-E.164 DN",
                                             "type": "string",
                                             "description": "A non-E.164 formatted TN.",
                                             "pattern": "^[\\d\\-]+$",
                                             "minLength": 1,
                                             "maxLength": 23
                                          },
                                          {
                                             "id": "SIP URI",
                                             "type": "string",
                                             "description": "SIP URI",
                                             "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                             "minLength": 1,
                                             "maxLength": 161
                                          }
                                       ]
                                    }
                                 }
                              }
                           }
                        },
                        "extensions": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "broadworks": {
                                 "type": "object",
                                 "additionalProperties": false,
                                 "properties": {
                                    "serviceProviderId": {
                                       "type": "string",
                                       "minLength": 1,
                                       "maxLength": 30
                                    },
                                    "groupId": {
                                       "type": "string",
                                       "minLength": 1,
                                       "maxLength": 30
                                    }
                                 }
                              }
                           }
                        }
                     }
                  },
                  "department": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 50
                  },
                  "capacityManagement": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "maxActiveCalls": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "total": {
                                 "type": "integer",
                                 "minimum": 1
                              },
                              "incoming": {
                                 "type": "integer",
                                 "minimum": 1,
                                 "maximum": 999999
                              },
                              "outgoing": {
                                 "type": "integer",
                                 "minimum": 1,
                                 "maximum": 999999
                              }
                           },
                           "required": [
                              "total"
                           ]
                        },
                        "burstingMaxActiveCalls": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "enabled": {
                                 "type": "boolean"
                              },
                              "total": {
                                 "type": "integer",
                                 "minimum": 0,
                                 "maximum": 999999
                              },
                              "incoming": {
                                 "type": "integer",
                                 "minimum": 0,
                                 "maximum": 999999
                              },
                              "outgoing": {
                                 "type": "integer",
                                 "minimum": 0,
                                 "maximum": 999999
                              }
                           },
                           "required": [
                              "enabled"
                           ]
                        },
                        "incomingCapacityExceeded": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "action": {
                                 "enum": [
                                    "Forward",
                                    "Reroute"
                                 ]
                              },
                              "forwardAddress": {
                                 "anyOf": [
                                    {
                                       "id": "E.164 DN",
                                       "type": [
                                          "string",
                                          "null"
                                       ],
                                       "description": "A formatted TN.",
                                       "pattern": "^\\+\\d+-\\d+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "non-E.164 DN",
                                       "type": "string",
                                       "description": "A non-E.164 formatted TN.",
                                       "pattern": "^[\\d\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "SIP URI",
                                       "type": "string",
                                       "description": "SIP URI",
                                       "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 161
                                    }
                                 ]
                              },
                              "rerouteTrunkGroup": {
                                 "type": "object",
                                 "additionalProperties": false,
                                 "properties": {
                                    "siteId": {
                                       "type": "string",
                                       "minLength": 1,
                                       "maxLength": 30
                                    },
                                    "trunkGroupName": {
                                       "type": "string",
                                       "minLength": 1,
                                       "maxLength": 30
                                    }
                                 }
                              },
                              "initialCalls": {
                                 "type": "integer",
                                 "minimum": 0
                              },
                              "offsetCalls": {
                                 "type": "integer",
                                 "minimum": 0
                              }
                           },
                           "required": [
                              "initialCalls",
                              "offsetCalls"
                           ]
                        }
                     },
                     "required": [
                        "maxActiveCalls",
                        "burstingMaxActiveCalls",
                        "incomingCapacityExceeded"
                     ]
                  },
                  "unreachableDestination": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "timeout": {
                           "type": "integer",
                           "minimum": 0,
                           "maximum": 15
                        },
                        "action": {
                           "enum": [
                              "Forward",
                              "Reroute"
                           ]
                        },
                        "forwardAddress": {
                           "anyOf": [
                              {
                                 "id": "E.164 DN",
                                 "type": [
                                    "string",
                                    "null"
                                 ],
                                 "description": "A formatted TN.",
                                 "pattern": "^\\+\\d+-\\d+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              {
                                 "id": "non-E.164 DN",
                                 "type": "string",
                                 "description": "A non-E.164 formatted TN.",
                                 "pattern": "^[\\d\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              {
                                 "id": "SIP URI",
                                 "type": "string",
                                 "description": "SIP URI",
                                 "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           ]
                        },
                        "rerouteTrunkGroup": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "siteId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "trunkGroupName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              }
                           }
                        }
                     },
                     "required": [
                        "timeout"
                     ]
                  },
                  "authentication": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enabled": {
                           "type": "boolean"
                        },
                        "username": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "password": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 60
                        }
                     },
                     "required": [
                        "enabled"
                     ]
                  },
                  "hostedUsers": {
                     "type": "array"
                  },
                  "identity": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "trunkGroupIdentity": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "identity": {
                                 "type": "string",
                                 "description": "SIP URI",
                                 "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 161
                              },
                              "allowTerminationToTrunkGroupIdentity": {
                                 "type": "boolean"
                              },
                              "includeTrunkGroupIdentity": {
                                 "type": "boolean"
                              },
                              "includeTrunkGroupIdentityForNetworkCalls": {
                                 "type": "boolean"
                              }
                           },
                           "required": [
                              "allowTerminationToTrunkGroupIdentity",
                              "includeTrunkGroupIdentity",
                              "includeTrunkGroupIdentityForNetworkCalls"
                           ]
                        },
                        "otgDtgIdentity": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "identity": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 80
                              },
                              "allowTerminationToDtgIdentity": {
                                 "type": "boolean"
                              },
                              "includeDtgIdentity": {
                                 "type": "boolean"
                              },
                              "includeOtgIdentityForNetworkCalls": {
                                 "type": "boolean"
                              }
                           },
                           "required": [
                              "allowTerminationToDtgIdentity",
                              "includeDtgIdentity",
                              "includeOtgIdentityForNetworkCalls"
                           ]
                        },
                        "enableNetworkAddressIdentity": {
                           "type": "boolean"
                        }
                     },
                     "required": [
                        "trunkGroupIdentity",
                        "otgDtgIdentity",
                        "enableNetworkAddressIdentity"
                     ]
                  },
                  "allowUnscreenedCalls": {
                     "type": "boolean"
                  },
                  "allowUnscreenedEmergencyCalls": {
                     "type": "boolean"
                  },
                  "pilotUserCallingLineIdentityPolicy": {
                     "enum": [
                        "All Originating Calls",
                        "Unscreened Originating Calls",
                        "No Calls"
                     ]
                  },
                  "pilotUserChargeNumberPolicy": {
                     "enum": [
                        "All Originating Calls",
                        "Unscreened Originating Calls",
                        "No Calls"
                     ]
                  },
                  "callForwardingAlways": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "action": {
                           "enum": [
                              "Forward",
                              "Reroute"
                           ]
                        },
                        "forwardAddress": {
                           "anyOf": [
                              {
                                 "id": "E.164 DN",
                                 "type": [
                                    "string",
                                    "null"
                                 ],
                                 "description": "A formatted TN.",
                                 "pattern": "^\\+\\d+-\\d+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              {
                                 "id": "non-E.164 DN",
                                 "type": "string",
                                 "description": "A non-E.164 formatted TN.",
                                 "pattern": "^[\\d\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              {
                                 "id": "SIP URI",
                                 "type": "string",
                                 "description": "SIP URI",
                                 "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           ]
                        },
                        "rerouteTrunkGroup": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "siteId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "trunkGroupName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              }
                           }
                        }
                     }
                  },
                  "peeringDomain": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "domainName": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "routeToPeeringDomain": {
                           "type": "boolean"
                        }
                     },
                     "required": [
                        "routeToPeeringDomain"
                     ]
                  },
                  "trunkGroupPrefix": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enabled": {
                           "type": "boolean"
                        },
                        "prefix": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 15
                        }
                     },
                     "required": [
                        "enabled"
                     ]
                  },
                  "advancedReroute": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enabled": {
                           "type": "boolean"
                        },
                        "sendContinuousOptionsMessage": {
                           "type": "boolean"
                        },
                        "continuousOptionsSendingInterval": {
                           "type": "integer",
                           "minimum": 30,
                           "maximum": 86400
                        },
                        "failureOptionsSendingInterval": {
                           "type": "integer",
                           "minimum": 10,
                           "maximum": 86400
                        },
                        "failureThresholdCounter": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 60
                        },
                        "successThresholdCounter": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 60
                        },
                        "inviteFailureThresholdCounter": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 60
                        },
                        "inviteFailureThresholdWindow": {
                           "type": "integer",
                           "minimum": 30,
                           "maximum": 240
                        }
                     },
                     "required": [
                        "enabled",
                        "sendContinuousOptionsMessage",
                        "continuousOptionsSendingInterval",
                        "failureOptionsSendingInterval",
                        "failureThresholdCounter",
                        "successThresholdCounter",
                        "inviteFailureThresholdCounter",
                        "inviteFailureThresholdWindow"
                     ]
                  },
                  "pilotUserCallingLineAssertedIdentityPolicy": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "useTrunkGroupCallingLineAssertedIdentityPolicy": {
                           "type": "boolean"
                        },
                        "callingLineAssertedIdentityPolicy": {
                           "enum": [
                              "All Originating Calls",
                              "Unscreened Originating Calls"
                           ]
                        }
                     },
                     "required": [
                        "useTrunkGroupCallingLineAssertedIdentityPolicy",
                        "callingLineAssertedIdentityPolicy"
                     ]
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              }
                           }
                        }
                     }
                  }
               },
               "required": [
                  "name",
                  "accessDevice",
                  "pilotUser",
                  "capacityManagement",
                  "unreachableDestination",
                  "authentication",
                  "identity",
                  "allowUnscreenedCalls",
                  "allowUnscreenedEmergencyCalls",
                  "pilotUserCallingLineIdentityPolicy",
                  "pilotUserChargeNumberPolicy",
                  "peeringDomain",
                  "trunkGroupPrefix",
                  "advancedReroute",
                  "pilotUserCallingLineAssertedIdentityPolicy"
               ]
            }

+ Response 201 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120
            Location: http://classicserver.example.com/api/customers/ExampleCom/sites/ExampleCom/trunk-groups/ExampleCom%20Trunk%203001

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/ExampleCom/sites/ExampleCom/trunk-groups/ExampleCom%20Trunk%203001"
                    }
                },
                "_embedded": {
                    "ls:pilot-users": [
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/users/2405553001%40example.com"
                                }
                            },
                            "phoneNumber": "+1-2405553001",
                            "extension": "3001",
                            "CLID": "+1-2405553001",
                            "email": "jsmith@example.com",
                            "userId": "2405553001@example.com",
                            "firstName": "John",
                            "lastName": "Smith",
                            "callingLineIdLastName": "Smith",
                            "callingLineIdFirstName": "John",
                            "language": "English",
                            "timeZone": "America\/New_York",
                            "services": {
                                "Authentication": {
                                    "username": "2405553001@example.com",
                                    "password": "230A4u$#%f"
                                },
                                "Charge Number": {
                                    "phoneNumber": "+1-2405553001",
                                    "tnRoutine": "",
                                    "useChargeNumberForEnhancedTranslations": false,
                                    "sendChargeNumberToNetwork": true
                                },
                                "Third-Party Voice Mail Support": {
                                    "isActive": true,
                                    "busyRedirectToVoiceMail": true,
                                    "noAnswerRedirectToVoiceMail": true,
                                    "serverSelection": "User Specific Mail Server",
                                    "userServer": "3012297000",
                                    "noAnswerNumberOfRings": 4,
                                    "alwaysRedirectToVoiceMail": false,
                                    "outOfPrimaryZoneRedirectToVoiceMail": false,
                                    "mailboxIdType": "User Or Group Phone Number",
                                    "mailboxURL": null
                                },
                                "Call Forwarding No Answer": {
                                    "isActive": true,
                                    "forwardToPhoneNumber": "+1-2405553101",
                                    "numberOfRings": 4
                                },
                                "Call Forwarding Not Reachable": {
                                    "isActive": true,
                                    "forwardToPhoneNumber": "+1-2405553101"
                                }
                            },
                            "customerId": "ExampleCom",
                            "siteId": "ExampleCom"
                        }
                    ]
                },
                "customerId": "ExampleCom",
                "siteId": "ExampleCom",
                "trunkGroupId": "ExampleCom Trunk 3001",
                "extensions": {
                    "broadworks": {
                        "resourceId": "ExampleCom Trunk 3001"
                    }
                }
            }

    + Schema

            {
               "title": "VoIP Trunk Group create response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "trunkGroupId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  },
                  "_embedded": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "ls:pilot-users": {
                           "type": "array",
                           "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                 "_links": {
                                    "type": "object",
                                    "properties": {
                                       "self": {
                                          "type": "object",
                                          "properties": {
                                             "href": {
                                                "type": "string"
                                             }
                                          },
                                          "required": [
                                             "href"
                                          ]
                                       }
                                    },
                                    "required": [
                                       "self"
                                    ]
                                 },
                                 "customerId": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "siteId": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "userId": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 161,
                                    "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                                 },
                                 "phoneNumber": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 23,
                                    "pattern": "^\\+\\d+-\\d+$"
                                 },
                                 "extension": {
                                    "type": [
                                       "string",
                                       "null"
                                    ],
                                    "minLength": 2,
                                    "maxLength": 20,
                                    "pattern": "^[0-9]+$"
                                 },
                                 "CLID": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 23,
                                    "pattern": "^\\+\\d+-\\d+$"
                                 },
                                 "lastName": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "firstName": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "callingLineIdLastName": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30,
                                    "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                                 },
                                 "callingLineIdFirstName": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30,
                                    "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                                 },
                                 "email": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 80,
                                    "format": "email"
                                 },
                                 "timeZone": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 127
                                 },
                                 "language": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 40
                                 },
                                 "role": {},
                                 "servicePacks": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "description": "Service Packs that will be assigned to User",
                                    "properties": {
                                       "base": {
                                          "type": "string",
                                          "minLength": 1,
                                          "maxLength": 80
                                       },
                                       "add-on": {
                                          "type": "array",
                                          "items": {
                                             "type": "string",
                                             "minLength": 1,
                                             "maxLength": 80
                                          }
                                       }
                                    }
                                 },
                                 "portalPassword": {
                                    "type": "string"
                                 },
                                 "extensions": {
                                   "type": "object",
                                   "additionalProperties": false,
                                   "properties": {
                                      "broadworks": {
                                         "type": "object",
                                         "additionalProperties": false,
                                         "properties": {
                                            "resourceId": {
                                               "type": "string"
                                            }
                                         }
                                      }
                                   }
                                 },
                                 "services": {
                                    "type": "object",
                                    "properties": {
                                       "Authentication": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                             "username": {
                                                "type": "string",
                                                "minLength": 1,
                                                "maxLength": 80
                                             },
                                             "password": {
                                                "type": "string",
                                                "minLength": 1,
                                                "maxLength": 60
                                             }
                                          }
                                       },
                                       "Charge Number": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                             "phoneNumber": {
                                                "type": [
                                                   "string",
                                                   "null"
                                                ],
                                                "minLength": 1,
                                                "maxLength": 23,
                                                "pattern": "^\\+\\d+-\\d+$"
                                             },
                                             "useChargeNumberForEnhancedTranslations": {
                                                "type": "boolean"
                                             },
                                             "sendChargeNumberToNetwork": {
                                                "type": "boolean"
                                             },
                                             "tnRoutine": {
                                                "enum": [
                                                   "",
                                                   "port-no-temp",
                                                   "auto"
                                                ]
                                             }
                                          }
                                       },
                                       "Third-Party Voice Mail Support": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                             "isActive": {
                                                "type": "boolean"
                                             },
                                             "busyRedirectToVoiceMail": {
                                                "type": "boolean"
                                             },
                                             "noAnswerRedirectToVoiceMail": {
                                                "type": "boolean"
                                             },
                                             "noAnswerNumberOfRings": {
                                                "enum": [
                                                   0,
                                                   2,
                                                   3,
                                                   4,
                                                   5,
                                                   6,
                                                   7,
                                                   8,
                                                   9,
                                                   10,
                                                   11,
                                                   12,
                                                   13,
                                                   14,
                                                   15,
                                                   16,
                                                   17,
                                                   18,
                                                   19,
                                                   20
                                                ]
                                             },
                                             "alwaysRedirectToVoiceMail": {
                                                "type": "boolean"
                                             },
                                             "outOfPrimaryZoneRedirectToVoiceMail": {
                                                "type": "boolean"
                                             },
                                             "serverSelection": {
                                                "enum": [
                                                   "Group Mail Server",
                                                   "User Specific Mail Server"
                                                ]
                                             },
                                             "userServer": {
                                                "anyOf": [
                                                   {
                                                      "id": "E.164 DN",
                                                      "type": [
                                                         "string",
                                                         "null"
                                                      ],
                                                      "description": "A formatted TN.",
                                                      "pattern": "^\\+\\d+-\\d+$",
                                                      "minLength": 1,
                                                      "maxLength": 23
                                                   },
                                                   {
                                                      "id": "non-E.164 DN",
                                                      "type": "string",
                                                      "description": "A non-E.164 formatted TN.",
                                                      "pattern": "^[\\d\\-]+$",
                                                      "minLength": 1,
                                                      "maxLength": 23
                                                   },
                                                   {
                                                      "id": "SIP URI",
                                                      "type": "string",
                                                      "description": "SIP URI",
                                                      "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                                      "minLength": 1,
                                                      "maxLength": 161
                                                   }
                                                ]
                                             },
                                             "mailboxIdType": {
                                                "enum": [
                                                   "User Or Group Phone Number",
                                                   "URL"
                                                ]
                                             },
                                             "mailboxURL": {
                                                "type": [
                                                   "string",
                                                   "null"
                                                ],
                                                "description": "SIP URI",
                                                "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                                "minLength": 1,
                                                "maxLength": 161
                                             }
                                          }
                                       },
                                       "Call Forwarding No Answer": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                             "isActive": {
                                                "type": "boolean"
                                             },
                                             "forwardToPhoneNumber": {
                                                "anyOf": [
                                                   {
                                                      "id": "E.164 DN",
                                                      "type": [
                                                         "string",
                                                         "null"
                                                      ],
                                                      "description": "A formatted TN.",
                                                      "pattern": "^\\+\\d+-\\d+$",
                                                      "minLength": 1,
                                                      "maxLength": 23
                                                   },
                                                   {
                                                      "id": "non-E.164 DN",
                                                      "type": "string",
                                                      "description": "A non-E.164 formatted TN.",
                                                      "pattern": "^[\\d\\-]+$",
                                                      "minLength": 1,
                                                      "maxLength": 23
                                                   },
                                                   {
                                                      "id": "SIP URI",
                                                      "type": "string",
                                                      "description": "SIP URI",
                                                      "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                                      "minLength": 1,
                                                      "maxLength": 161
                                                   }
                                                ]
                                             },
                                             "numberOfRings": {
                                                "enum": [
                                                   0,
                                                   2,
                                                   3,
                                                   4,
                                                   5,
                                                   6,
                                                   7,
                                                   8,
                                                   9,
                                                   10,
                                                   11,
                                                   12,
                                                   13,
                                                   14,
                                                   15,
                                                   16,
                                                   17,
                                                   18,
                                                   19,
                                                   20
                                                ]
                                             }
                                          }
                                       },
                                       "Call Forwarding Not Reachable": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                             "isActive": {
                                                "type": "boolean"
                                             },
                                             "forwardToPhoneNumber": {
                                                "anyOf": [
                                                   {
                                                      "id": "E.164 DN",
                                                      "type": [
                                                         "string",
                                                         "null"
                                                      ],
                                                      "description": "A formatted TN.",
                                                      "pattern": "^\\+\\d+-\\d+$",
                                                      "minLength": 1,
                                                      "maxLength": 23
                                                   },
                                                   {
                                                      "id": "non-E.164 DN",
                                                      "type": "string",
                                                      "description": "A non-E.164 formatted TN.",
                                                      "pattern": "^[\\d\\-]+$",
                                                      "minLength": 1,
                                                      "maxLength": 23
                                                   },
                                                   {
                                                      "id": "SIP URI",
                                                      "type": "string",
                                                      "description": "SIP URI",
                                                      "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                                      "minLength": 1,
                                                      "maxLength": 161
                                                   }
                                                ]
                                             }
                                          }
                                       }
                                    }
                                 }
                              },
                              "required": [
                                 "_links",
                                 "customerId",
                                 "siteId",
                                 "userId"
                              ]
                           }
                        }
                     },
                     "required": [
                        "ls:pilot-users"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "customerId",
                  "siteId",
                  "trunkGroupId",
                  "extensions",
                  "_embedded"
               ]
            }

<!-- ----------------------------------- VoIP Users ------------------------------ -->

# Group VoIP Users
Supported network elements:

* BroadWorks Application Server

Keys:

* userId

Extension Keys:

* (none)

## VoIP Users Collection [/api/users{?mode}]

+ Parameters
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

### Create a VoIP User [POST]
Create a new VoIP User.

There are two ways to create a User in LWS-REST:<br />
1) Default/Legacy - through LWS-REST BroadWorks Entity and Utility services<br />
Rollback-enabled: No

2) Alternative - through LWS-SOAP<br />
Process name: Create User via LWS-SOAP (VoIP Entity)<br />
Rollback-enabled: Yes.

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>prevalidate-and-create</td>
            <td>Controls execution mode.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Create Site request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Classic Server customerId (server-generated) of the Customer in which the new VoIP User is to be created.
            In a default configuration (where a VoIP User is composed of BroadWorks entities only),
            this property can be omitted if extensions.broadworks.serviceProviderId is populated.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Classic Server siteId (server-generated) of the Site in which the new VoIP User is to be created.
            In a default configuration (where a VoIP User is composed of BroadWorks entities only),
            this property can be omitted if extensions.broadworks.groupId is populated.</td>
        </tr>
        <tr>
            <td>name</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>(varies)</td>
            <td>The clients suggested name for the resource. <br />
            It is used for constructing the BroadWorks User ID.<br />
            <b>Note: If both "name" and "extensions.broadworks.resourceId" are omitted then the User ID will be auto-generated.</b><br />
            The following list describes the differences in User ID generation between the two ways of adding a User in LWS-REST:
                <ul>
                <li>Default/Legacy - Generated as [phoneNumber]@[Site default domain]</li>
                <li>Alternative - Generated following config pattern.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>department</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>User department.<br />
            The following list describes the differences in validation between the two ways of adding a User in LWS-REST:
             <ul>
                <li>Default/Legacy - Not Implemented</li>
                <li>Alternative - Supported</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>userType</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td></td>
            <td>Identifies the user type, which is one of "trunking", "ATA", "businessLine", "hostedPbx", "systemDevice", "noDevice".<br />
            The following list describes the differences in validation between the two ways of adding a User in LWS-REST:
                <ul>
                <li>Default/Legacy - Initially only "trunking" and "businessLine" are supported, and other values will result in an 501 NOT_IMPLEMENTED error.</li>
                <li>Alternative - All values are supported with the exception of "systemDevice" value, which will result in a 501 NOT_IMPLEMENTED error.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>accessDevice</td>
            <td style="text-align: center; font-weight:bold">(varies)</td>
            <td></td>
            <td>Required when userType is "businessLine" or "hostedPbx" (ignored otherwise).</td></tr>
                 <tr>
                    <td>accessDevice.deviceManagementRoutine</td>
                    <td style="text-align: center; font-weight:bold">(varies)</td>
                    <td>existing</td>
                    <td>
                         Device adding routine.<br />
                         <i>Note: This property applies only for userType "ATA", otherwise it is ignored.</i>
                <ul>
                    <li>Default/Legacy - Ignored</li>
                    <li>Alternative -Supported</li>
                </ul>
                    </td>
                </tr>
                <tr>
                    <td>accessDevice.name</td>
                    <td style="text-align: center; font-weight:bold">(varies)</td>
                    <td></td>
                    <td>Access device name.<br />
                    When userType is "businessLine" this property is required and must contain the name of an existing Site-level device (group-level device in BroadWorks).<br />
                    When userType is "ATA" and accessDevice.deviceManagementRoutine has "existing" value (or it is omitted) this property is required and must match an existing Site-level device (group-level device in BroadWorks).<br />
                    When userType is "hostedPbx", if present this property must be a valid deviceName that doesn't match an existing device in BroadWorks.<br />
                    If this property is omitted, it will be auto generated in the following cases:<br />
                    &bull; userType is "hostedPbx"<br />
                    &bull; userType is "ATA" and accessDevice. deviceManagementRoutine is "create"
                    </td>
                </tr>
                <tr>
                    <td>accessDevice.type</td>
                    <td style="text-align: center; font-weight:bold">(varies)</td>
                    <td></td>
                    <td>
                        Access device type.<br />
                        This property is required when userType is "hostedPbx" or userType is "ATA" and accessDevice.deviceManagementRoutine is "create".<br />
                        <i>Applicable only for userType "hostedPbx" and "ATA", otherwise it is ignored.</i>
                        </td>
                </tr>
                <tr>
                    <td>accessDevice.model</td>
                    <td style="text-align: center; font-weight:bold">no</td>
                    <td></td>
                    <td>
                        Device Model<br />
                        <i>Applicable only for userType "hostedPbx", otherwise it is ignored.</i>
                    </td>
                </tr>
                <tr>
                    <td>accessDevice.macAddress</td>
                    <td style="text-align: center; font-weight:bold">no</td>
                    <td></td>
                    <td>
                        MAC address of the device.<br />
                        This property is required when userType is "hostedPbx" or userType is "ATA" and accessDevice.deviceManagementRoutine is "create".<br />
                        <i>Applicable only for userType "hostedPbx" and "ATA", otherwise it is ignored.</i>
                    </td>
                </tr>
                <tr>
                    <td>accessDevice.linePort</td>
                    <td style="text-align: center; font-weight:bold">no</td>
                    <td></td>
                    <td>
                        LinePort of the user using the device.<br />
                        If omitted, it will be auto-generated for userType "hostedPbx", "buinessLine" or "ATA".<br />
                        <i>Applicable only for userType "hostedPbx" and "ATA", otherwise it is ignored.</i>
                    </td>
                </tr>
        <tr>
            <td>trunkGroup</td>
            <td style="text-align: center">no</td>
            <td></td>
            <td>Ignored when userType is not "trunking".<br />
                Note that if this entire object is omitted, the user will be created as a trunking user with no assigned trunk group. For the underlying BroadWorks user,
                omitting this property corresponds to selecting device choice "Trunking" but leaving the Trunking settings blank or "None", on the User > Profile > Addresses page in the CommPortal.<br />
                Note that at this time, the Classic Server does not manage the "Alternate Trunk Identity" or "Enterprise Trunk" settings in the "Trunking" section of that page.</td</tr>
                <tr>
                    <td>trunkGroup.name</td>
                    <td style="text-align: center; font-weight:bold">no</td>
                    <td></td>
                    <td>If present, must contain the name of an existing VoIP Trunk Group in the Site (trunk group in the BroadWorks group).<br />
                        If omitted (when userType is "trunking"), the trunking user will be created with no assigned trunk group. For the underlying BroadWorks user,
                        omitting this property corresponds to selecting device choice "Trunking" but leaving the Trunking / Trunk Group set to "None", on the User > Profile > Addresses page in the CommPortal.</td>
                </tr>
                <tr>
                    <td>trunkGroup.linePort</td>
                    <td style="text-align: center; font-weight:bold">no</td>
                    <td></td>
                    <td>The following list describes the differences in validation between the two ways of adding a User in LWS-REST:
                     <ul>
                    <li>Default/Legacy - Ignored</li>
                    <li>Alternative - Supported</li>
                </ul>
                    </td>
                </tr>
        <tr>
            <td>phoneNumber</td>
            <td style="text-align: center">(varies)</td>
            <td></td>
            <td>Phone Number.<br />Will be assigned on Customer and/or Group if necessary.<br />
            Must be E.164 formatted, e.g. +1-2005553001 (the dash is required, after the country code).<br />
            A value is required for certain TN routines; see documentation for tnRoutine for details.<br />
        </tr>
        <tr>
            <td>tnRoutine</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Phone Number (TN) assignment routine.<br />
            Supported values and impact on other required properties:
                <ul>
                    <li><b>"" (empty string)</b> - TN must already be available for use; no assignment will be performed.</li>
                    <li><b>port-no-temp</b> - TN does not exist in the system, and will be assigned automatically at both the Customer and Site levels.</li>
                    <li><b>auto</b> - TN may or may not already exist in the system, and will be assigned automatically only as needed. The following list describes the differences in validation between the two ways of adding a User in LWS-REST:
                 <ul>
                    <li>Default/Legacy - Supported</li>
                    <li>Alternative - Not Implemented</li>
                </ul></li>
                    <li><b>(default when tnRoutine is empty or omitted)</b> - TN must already be available for use; no assignment will be performed.</li>
                    <li><b>no-number</b> - User will have no TN (extension-only user); phoneNumber must <i>not</i> be present.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>extension</td>
            <td style="text-align: center">(varies)</td>
            <td>(varies)</td>
            <td>Extension. Will be autopopulated if omitted, taking digits off the end of the phone number. The number of
            digits used is equal to the group's default extension length as configured in BroadWorks.<br />
            Set to <code>null</code> to create a VoIP User with no extension (note that some Classic Server systems may be configured
            to disallow empty extensions).<br />
            A value is required for certain TN routines; see documentation for tnRoutine for details.<br /></td>
        </tr>
        <tr>
            <td>CLID</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>(varies)</td>
            <td>Calling Line ID Phone Number.<br />Must match phoneNumber or be otherwise available for assignment as a CLID TN.<br />
            Must be E.164 formatted, e.g. +1-2005553001 (the dash is required, after the country code).<br />
            If omitted, phoneNumber will be used.</td>
        </tr>
        <tr>
            <td>lastName</td>
            <td style="text-align: center;">(varies)</td>
            <td>(varies)</td>
            <td>Last Name. <br />
            The following list describes the differences in validation between the two ways of adding a User in LWS-REST:
                <ul>
                    <li>Default/Legacy - Not required. If omitted, will be autopopulated with the 4th through the last digits of phoneNumber, after stripping the country code.</li>
                    <li>Alternative - Required</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>firstName</td>
            <td style="text-align: center; ">(varies)</td>
            <td>(varies)</td>
            <td>First Name. <br />
            The following list describes the differences in validation between the two ways of adding a User in LWS-REST:
              <ul>
                    <li>Default/Legacy - Not required. If omitted, will be autopopulated with the 1st 3 digits of phoneNumber, after stripping the country code.</li>
                    <li>Alternative - Required</li>
                </ul>   
            </td>
        </tr>
        <tr>
            <td>callingLineIdLastName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>(varies)</td>
            <td>Calling Line ID Last Name. If omitted, will be autopopulated with lastName, with disallowed characters (percent, plus, backslash, double-quote, and extended ASCII characters (>= ASCII 128)) stripped as needed).</td>
        </tr>
        <tr>
            <td>callingLineIdFirstName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>(varies)</td>
            <td>Calling Line ID First Name. If omitted, will be autopopulated with firstName, with disallowed characters (percent, plus, backslash, double-quote, and extended ASCII characters (>= ASCII 128)) stripped as needed).</td>
        </tr>
        <tr>
            <td>email</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>E-Mail address</td>
        </tr>
        <tr>
            <td>timeZone</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Site's time zone</td>
            <td>Time Zone expressed as a Zone Name from the
            <a href="https://www.iana.org/time-zones">IANA Time Zone Database</a>, e.g. "America/New_York".<br />
            If omitted, the Site's time zone will be use=d.</td>
        </tr>
        <tr>
            <td>language</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Network element's default time zone</td>
            <td>Language<br />
            If omitted, the network element's default language (e.g. the BroadWorks system language) will be use=d.</td>
        </tr>
        <tr>
            <td>servicePacks.base</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>The name of the base service pack to be assigned to the user.</b></td>
        </tr>
        <tr>
            <td>servicePacks.add-on</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>List of names of additional service packs to be assigned to the new VoIP User.
            </td>
        </tr>
        <tr>
            <td style="font-style:italic">role</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td style="font-style:italic">Not Implemented (reserved for future use). This property will be ignored if present in a request.</td>
        </tr>
        <tr>
            <td>services</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>The set of services to assign to the new VoIP User, with optional pre-configuration
            settings for some services.<br />
            Each service name must match a valid (assignable) user service on the network element. Each
            service will be assigned to the user a la carte.  If there are global default settings (defined
            in the configuration) for any assigned service, these will be applied.<br />
            If the service supports configuration, configuration settings can be provided, and these will
            override any globally configured defaults for that service. The services that support
            configuration, and the supported settings for each, are detailed later in this table.<br />
            To assign a service without doing any configuration, set the value to an empty object, e.g.
            <code>"services" : { "Remote Office" : { } }</code>.<br />
            </td>
        </tr>
        <tr>
            <td>services.'Authentication'.*</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Configuration settings for the Authentication user service. The table below describes the supported settings.
                <i>Note: the default values can be overridden by the server configuration, and may not match the values shown below.</i></td></tr>
            <tr>
                <td>services.'Authentication'.*.username</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>Username portion of userId</td>
                <td></td>
            </tr>
            <tr>
                <td>services.'Authentication'.*.password</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>(see notes)</td>
                <td>If omitted, the password will be auto-generated based on the sipPassword rules configured in the server.<br />
                If present, the password will be validated against the sipPassword rules configured in the server.
                </td>
            </tr>
        <tr>
            <td>services.'Charge Number'.*</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td><b>Note: In the alternative process trying to configure this service will result in a 501 NOT_IMPLEMENTED response.</b><br />
            Configuration settings for the Charge Number user service. The table below describes the supported settings.
                <i>Note: the default values can be overridden by the server configuration, and may not match the values shown below.</i></td></tr>
            <tr>
                <td>services.'Charge Number'.*.phoneNumber</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td><i>(see notes)</i></td>
                <td>When omitted, the Charge Number TN will be assigned according to the following rules:
                <ol>
                <li>If the user has a phone number, this will be used.
                <li>Otherwise, if the Site has a Calling Line ID phone number, this will be used.
                <li>Otherwise, the Charge Number TN will be left empty.
                </ol>
                <br />
                Set to null to override automatic Charge Number TN allocation and force the Charge Number phone number to be empty.</td>
            </tr>
            <tr>
                <tdservices.'Charge Number'.*.>tnRoutine</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td><i>empty</i></td>
                <td>See notes for tnRoutine, above. <b>Note: the "no-number" routine is not allowed here.</b></td>
            </tr>
            <tr>
                <td>services.'Charge Number'.*.useChargeNumberForEnhancedTranslations</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>false</td>
                <td></td>
            </tr>
            <tr>
                <td>services.'Charge Number'.*.sendChargeNumberToNetwork</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>true</td>
                <td></td>
            </tr>
        <tr>
            <td>services.'Call Forwarding No Answer'.*</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td><b>Note: In the alternative process trying to configure this service will result in a 501 NOT_IMPLEMENTED response.</b><br />
            Configuration settings for the Call Forwarding No Answer user service. The table below describes the supported settings.
            <i>Note: the default values can be overridden by the server configuration, and may not match the values shown below.</i></td></tr>
            <tr>
                <td>services.'Call Forwarding No Answer'.*.isActive</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>true</td>
                <td>When true, forwardToPhoneNumber is required.</td>
            </tr>
            <tr>
                <td>services.'Call Forwarding No Answer'.*.forwardToPhoneNumber</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>null</td>
                <td>Set to null when an empty value is desired.</td>
            </tr>
            <tr>
                <td>services.'Call Forwarding No Answer'.*.numberOfRings</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>3</td>
                <td>Set to 0 for "None".<br />
                <i>Note that this value will override services.'Third-Party Voice Mail Support'.noAnswerNumberOfRings if both are present.</td>
            </tr>
        <tr>
            <td>services.'Call Forwarding Not Reachable'.*</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td><b>Note: In the alternative process trying to configure this service will result in a 501 NOT_IMPLEMENTED response.</b><br />
            Configuration settings for the Call Forwarding Not Reachable user service. The table below describes the supported settings.
                <i>Note: the default values can be overridden by the server configuration, and may not match the values shown below.</i></td></tr>
            <tr>
                <td>services.'Call Forwarding Not Reachable'.*.isActive</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>true</td>
                <td>When true, forwardToPhoneNumber is required.</td>
            </tr>
            <tr>
                <td>services.'Call Forwarding Not Reachable'.*.forwardToPhoneNumber</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>null</td>
                <td>Set to null when an empty value is desired.</td>
            </tr>
        <tr>
            <td>services.'Third-Party Voice Mail Support'.*</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td><b>Note: In the alternative process trying to configure this service will result in a 501 NOT_IMPLEMENTED response.</b><br />
            Configuration settings for the Third-Party Voice Mail Support user service. The table below describes the supported settings.
                <i>Note: the default values can be overridden by the server configuration, and may not match the values shown below.</i></td></tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.isActive</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>true</td>
                <td></td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.busyRedirectToVoiceMail</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>true    </td>
                <td></td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.noAnswerRedirectToVoiceMail</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>true</td>
                <td></td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.serverSelection</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>'Group Mail Server'</td>
                <td>Allowed values: {'Group Mail Server'|'User Specific Mail Server'}</td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.userServer</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>null</td>
                <td>Set to null when an empty value is desired.</td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.mailboxIdType</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>'User Or Group Phone Number'</td>
                <td>Allowed values: {'User Or Group Phone Number'|'URL'}</td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.other</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>tbd</td>
                <td>tbd</td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.noAnswerNumberOfRings</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>3</td>
                <td>Set to 0 for "None".<br />
            <i>Note that this value will be overridden by services.'Call Forwarding No Answer'.numberOfRings if both are present.</i>
            </td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.mailboxURL</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>null</td>
                <td>Set to null when an empty value is desired.</td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.alwaysRedirectToVoiceMail</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>false</td>
                <td></td>
            </tr>
            <tr>
                <td>services.'Third-Party Voice Mail Support'.*.outOfPrimaryZoneRedirectToVoiceMail</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>false</td>
                <td></td>
            </tr>
        <tr>
            <td>services.'BroadWorks Mobility'.*</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td><b>Note: In the default (legacy) process trying to configure this service will result in a 501 NOT_IMPLEMENTED response.</b><br />
                Configuration settings for the BroadWorks Mobility user service. The table below describes the supported settings.</td></tr>
            <tr>
                <td>services.'BroadWorks Mobility'.*.isActive</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td>The default value is retrieved from config. Property: broadworks/userServices/service[name=â€œBroadWorks Mobilityâ€]/settings/isActive</td>
                <td>Turning on/off the service.</td>
            </tr>
            <tr>
                <td>services.'BroadWorks Mobility'.*.mobilePhoneNumber</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td></td>
                <td>Mobile phone number</td>
            </tr>
            <tr>
                <td>services.'BroadWorks Mobility'.*.mobileDevicePassword</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td></td>
                <td>The password for the mobile number, to be used for an eligibility check.</td>
            </tr>
            <tr>
                <td>mobileNetworkName</td>
                <td style="text-align: center; font-weight:bold">no</td>
                <td></td>
                <td>Name of a BroadWorks Mobility Mobile Network.<br />
                Note: Used only if the "mobilePhoneNumber" is present in the request. If the "mobileNetworkName" is omitted from the request the config value, if not empty, is used.</td>
            </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Optional section for network-element-specific properties</td>
        </tr>
        <tr>
            <td>extensions. broadworks</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Optional section for BroadWorks-specific properties</td>
        </tr>
        <tr>
            <td>extensions. broadworks. serviceProviderId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>ID of the BroadWorks service provider or enterprse in which the underlying BroadWorks user is to be created.
            In a default configuration (where a VoIP User is composed of BroadWorks entities only),
            this property can be used instead of customerId (eliminating the need to know the server-generated customerId
            prior to placing this request).</td>
        </tr>
        <tr>
            <td>extensions. broadworks. groupId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>ID of the BroadWorks group in which the underlying BroadWorks user is to be created.
            In a default configuration (where a VoIP User is composed of BroadWorks entities only),
            this property can be used instead of siteId (eliminating the need to know the server-generated siteId
            prior to placing this request).</td>
        </tr>
        <tr>
            <td>extensions. broadworks. resourceId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>The ID to be set on the new User. <br />
            <b>Note: If provided it overrides the value generated from the "name" property.</b><br />
            <b>If both "name" and "extensions.broadworks.resourceId" are omitted then the User ID will be auto-generated
            as described in the "name" property description.</b>
            </td>
        </tr>
        <tr>
            <td>smsPhoneNumber</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>User sms phone number.<br />
            <b>Note:</b> The new SMS TN property has no meaning in BroadWorks, 
            it is separate from the BroadWorks Mobility phone number and also separate 
            from the mobile phone number on the user profile in BroadWorks. 
            However there is no restriction that it must be different from these phone numbers.<br />
            The following list describes the differences in validation between the two ways of adding a User in LWS-REST:
                <ul>
                    <li>Default/Legacy - Not Supported</li>
                    <li>Alternative - Supported</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>

### Response Properties - 201 Created

For the alternative User Add process besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.<br />
Note: The default (legacy) request response contains all the properties sent in the request body and also the normal HAL `_links` properties.
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Description</th>
    <th>Mandatory</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td>The Classic Server VoIP Id of the BroadWorks User.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>extensions. broadworks. resourceId</td>
            <td>The BroadWorks ID of the new user.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>extension</td>
            <td>Extension of the user.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>portalPassword</td>
            <td>Web password for user.</td>
            <td>Yes (Only for the alternative process)</td>
       </tr>
       <tr>
            <td>passcode</td>
            <td>Voice Portal passcode for user.</td>
            <td>Yes (Only for the alternative process)</td>
       </tr>
       <tr>
            <td>firstName</td>
            <td>User's first name.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>lastName</td>
            <td>User's last name.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>publicUserIdentities</td>
            <td>User's public identities entries.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>services Authentication. username</td>
            <td>User's username for Authentication service.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>services. Authentication. password</td>
            <td>User's password for Authentication service.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>accessDevice. deviceCredentials. username</td>
            <td>User's device username credential.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>accessDevice. deviceCredentials. password</td>
            <td>User's device password credential.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>accessDevice. name</td>
            <td>User's device name.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>accessDevice. linePort</td>
            <td>User's device lineport.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>uniqueId</td>
            <td>Unique asset value.</td>
            <td>Yes (Only for the alternative process)</td>
       </tr>
       <tr>
            <td>_warnings</td>
            <td>Placeholder for warnings returned by the external API (LWS-SOAP)</td>
            <td>no</td>
       </tr>
       <tr>
            <td>_warnings[].code</td>
            <td>
                Warning codes.<br />
                <b>Note</b>: When the request is using Alternate process then this field will have
                WARN_DEVICE_CREDENTIAL_UPDATE_FAILED value in the case when the device credentials were not set, otherwise this property is not present.
            </td>
            <td>no</td>
       </tr>
       <tr>
            <td>_warnings[].summary</td>
            <td>Any warnings received from LWS-SOAP.</td>
            <td>yes</td>
       </tr>
       <tr>
            <td>_warnings[].details</td>
            <td>Any warnings received from LWS-SOAP.</td>
            <td>yes</td>
       </tr>
    </tbody>
</table>

For the "hostedPbx", "businessLine" and "ATA" user type the response has an `_embedded.ls:site-devices` property that contains a
HAL representation of the created device with the following properties described in the table below.<br />
<b>Note</b>: `_embedded.ls:site-devices` property is present in the response only when using "Alternate" process of POST /api/users{?mode}.
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Description</th>
    <th>Mandatory</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td>Customer ID.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>siteId</td>
            <td>Site ID.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>deviceId</td>
            <td>Device ID.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>deviceCredentials</td>
            <td>Container for device credentials.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>deviceCredentials.username</td>
            <td>Auto generated device authentication username.</td>
            <td>no</td>
       </tr>
        <tr>
            <td>deviceCredentials.username</td>
            <td>Auto generated device authentication passwprd.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>linePort</td>
            <td>Lineport.</td>
            <td>no</td>
       </tr>
       <tr>
            <td>extensions. broadworks. resourceId</td>
            <td>BroadWorks device name.</td>
            <td>Yes</td>
       </tr>
    </tbody>
</table>

### User Type
The accessDevice and trunkGroup values vary depending on the type of user being added (userType). See examples below.

+ Request (application/json)
    + Body

            {
                "customerId": "a-server-generated-ID",
                "siteId": "another-server-generated-ID",
                "name": "2005553001@example.com",
                "userType": "businessLine",
                "phoneNumber": "+1-2005553001",
                "tnRoutine": "auto",
                "CLID": "+1-2005553001",
                "extension": "3001",
                "lastName": "Smith",
                "firstName": "John",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "email": "jsmith@example.com",
                "timeZone": "America\/New_York",
                "language": "English",
                "accessDevice": {
                    "name": "exampleComIad001"
                },
                "servicePacks": {
                    "base": "Standard",
                    "add-on": [
                        "Executive"
                    ]
                },
                "role": "Executive",
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    },
                    "Charge Number": {
                        "phoneNumber": "+1-2005554321",
                        "tnRoutine": "",
                        "useChargeNumberForEnhancedTranslations": false,
                        "sendChargeNumberToNetwork": true
                    },
                    "Third-Party Voice Mail Support": {
                        "isActive": true,
                        "busyRedirectToVoiceMail": true,
                        "noAnswerRedirectToVoiceMail": true,
                        "serverSelection": "User Specific Mail Server",
                        "userServer": "4165557000",
                        "mailboxIdType": "URL",
                        "mailboxURL": "2005553001@sip.example.com",
                        "noAnswerNumberOfRings": 4,
                        "alwaysRedirectToVoiceMail": false,
                        "outOfPrimaryZoneRedirectToVoiceMail": false
                    },
                    "Call Forwarding No Answer": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101",
                        "numberOfRings": 4
                    },
                    "Call Forwarding Not Reachable": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101"
                    },
                    "BroadWorks Mobility": {
                        "isActive": false,
                        "mobilePhoneNumber": "+1-2005553101",
                        "mobileDevicePassword": "Fg%3fg56",
                        "mobileNetworkName": "Example"
                    },
                    "Remote Office": {}
                },
                "extensions": {
                    "broadworks": {
                        "serviceProviderId": "Example Com",
                        "groupId": "Example Com - North",
                        "resourceId": "2005553001@example.com"
                    }
                }
            }

    + Schema

            {
               "id": "voipUsersBody",
               "type": "object",
               "additionalProperties": false,
               "title": "Schema for the legacy(default) User Add request body",
               "properties": {
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "name": {
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "phoneNumber": {
                     "type": "string",
                     "pattern": "^\\+\\d+-\\d+$",
                     "minLength": 1,
                     "maxLength": 23
                  },
                  "tnRoutine": {
                     "enum": [
                        "",
                        "port-no-temp",
                        "auto",
                        "no-number"
                     ]
                  },
                  "extension": {
                     "type": [
                        "string",
                        "null"
                     ],
                     "minLength": 2,
                     "maxLength": 20,
                     "pattern": "^[0-9]+$"
                  },
                  "CLID": {
                     "type": "string",
                     "pattern": "^\\+\\d+-\\d+$",
                     "minLength": 1,
                     "maxLength": 23
                  },
                  "lastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "firstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "callingLineIdLastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30,
                     "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                  },
                  "callingLineIdFirstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30,
                     "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                  },
                  "email": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "format": "email"
                  },
                  "timeZone": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 127
                  },
                  "language": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "role": {},
                  "userType": {
                     "enum": [
                        "trunking",
                        "ATA",
                        "businessLine",
                        "hostedPbx",
                        "systemDevice",
                        "noDevice"
                     ]
                  },
                  "accessDevice": {
                     "type": "object",
                     "additionalProperties": false,
                     "description": "Details of the user's device, for Business Line, IP Centrex, and System Device users.",
                     "properties": {
                        "deviceManagementRoutine": {},
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "type": {},
                        "model": {},
                        "macAddress": {},
                        "linePort": {}
                     }
                  },
                  "trunkGroup": {
                     "type": "object",
                     "additionalProperties": false,
                     "description": "Details of the user's trunk group(s), for Trunking users.",
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "linePort": {}
                     }
                  },
                  "servicePacks": {
                     "type": "object",
                     "additionalProperties": false,
                     "description": "Service Packs that will be assigned to User",
                     "properties": {
                        "base": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "add-on": {
                           "type": "array",
                           "items": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 80
                           }
                        }
                     }
                  },
                  "services": {
                     "type": "object",
                     "properties": {
                        "Authentication": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "username": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 80
                              },
                              "password": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 60
                              }
                           }
                        },
                        "Charge Number": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "phoneNumber": {
                                 "type": [
                                    "string",
                                    "null"
                                 ],
                                 "pattern": "^\\+\\d+-\\d+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              "useChargeNumberForEnhancedTranslations": {
                                 "type": "boolean"
                              },
                              "sendChargeNumberToNetwork": {
                                 "type": "boolean"
                              },
                              "tnRoutine": {
                                 "enum": [
                                    "",
                                    "port-no-temp",
                                    "auto"
                                 ]
                              }
                           }
                        },
                        "Third-Party Voice Mail Support": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "isActive": {
                                 "type": "boolean"
                              },
                              "busyRedirectToVoiceMail": {
                                 "type": "boolean"
                              },
                              "noAnswerRedirectToVoiceMail": {
                                 "type": "boolean"
                              },
                              "noAnswerNumberOfRings": {
                                 "enum": [
                                    0,
                                    2,
                                    3,
                                    4,
                                    5,
                                    6,
                                    7,
                                    8,
                                    9,
                                    10,
                                    11,
                                    12,
                                    13,
                                    14,
                                    15,
                                    16,
                                    17,
                                    18,
                                    19,
                                    20
                                 ]
                              },
                              "alwaysRedirectToVoiceMail": {
                                 "type": "boolean"
                              },
                              "outOfPrimaryZoneRedirectToVoiceMail": {
                                 "type": "boolean"
                              },
                              "serverSelection": {
                                 "enum": [
                                    "Group Mail Server",
                                    "User Specific Mail Server"
                                 ]
                              },
                              "userServer": {
                                 "anyOf": [
                                    {
                                       "id": "E.164 DN",
                                       "type": [
                                          "string",
                                          "null"
                                       ],
                                       "description": "A formatted TN.",
                                       "pattern": "^\\+\\d+-\\d+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "non-E.164 DN",
                                       "type": "string",
                                       "description": "A non-E.164 formatted TN.",
                                       "pattern": "^[\\d\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "SIP URI",
                                       "type": "string",
                                       "description": "SIP URI",
                                       "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 161
                                    }
                                 ]
                              },
                              "mailboxIdType": {
                                 "enum": [
                                    "User Or Group Phone Number",
                                    "URL"
                                 ]
                              },
                              "mailboxURL": {
                                 "type": [
                                    "string",
                                    "null"
                                 ],
                                 "description": "SIP URI",
                                 "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           }
                        },
                        "Call Forwarding No Answer": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "isActive": {
                                 "type": "boolean"
                              },
                              "forwardToPhoneNumber": {
                                 "anyOf": [
                                    {
                                       "id": "E.164 DN",
                                       "type": [
                                          "string",
                                          "null"
                                       ],
                                       "description": "A formatted TN.",
                                       "pattern": "^\\+\\d+-\\d+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "non-E.164 DN",
                                       "type": "string",
                                       "description": "A non-E.164 formatted TN.",
                                       "pattern": "^[\\d\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "SIP URI",
                                       "type": "string",
                                       "description": "SIP URI",
                                       "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 161
                                    }
                                 ]
                              },
                              "numberOfRings": {
                                 "enum": [
                                    0,
                                    2,
                                    3,
                                    4,
                                    5,
                                    6,
                                    7,
                                    8,
                                    9,
                                    10,
                                    11,
                                    12,
                                    13,
                                    14,
                                    15,
                                    16,
                                    17,
                                    18,
                                    19,
                                    20
                                 ]
                              }
                           }
                        },
                        "Call Forwarding Not Reachable": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "isActive": {
                                 "type": "boolean"
                              },
                              "forwardToPhoneNumber": {
                                 "anyOf": [
                                    {
                                       "id": "E.164 DN",
                                       "type": [
                                          "string",
                                          "null"
                                       ],
                                       "description": "A formatted TN.",
                                       "pattern": "^\\+\\d+-\\d+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "non-E.164 DN",
                                       "type": "string",
                                       "description": "A non-E.164 formatted TN.",
                                       "pattern": "^[\\d\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "SIP URI",
                                       "type": "string",
                                       "description": "SIP URI",
                                       "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 161
                                    }
                                 ]
                              }
                           }
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "serviceProviderId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "groupId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           }
                        }
                     }
                  }
               },
               "required": [
                  "userType"
               ]
            }
            
+ Request Example: ATA User Add with device creation, auto-generated device name (application/json)
    + Body

            {
                "customerId": "a-server-generated-ID",
                "siteId": "another-server-generated-ID",
                "name": "2005553001@example.com",
                "userType": "ATA",
                "phoneNumber": "+1-2005553001",
                "tnRoutine": "port-no-temp",
                "CLID": "+1-2005553001",
                "extension": "3001",
                "lastName": "Smith",
                "firstName": "John",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "email": "jsmith@example.com",
                "timeZone": "America\/New_York",
                "language": "English",
                "accessDevice": {
                    "deviceManagementRoutine": "create",
                    "type": "Polycom Soundpoint IP 500",
                    "macAddress": "AABBCC112234"
                },
                "servicePacks": {
                    "base": "Standard",
                    "add-on": [
                        "Executive"
                    ]
                },
                "role": "Executive",
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    }
                }
            }
            
+ Request Example: ATA User Add with device creation (application/json)
    + Body

            {
                "customerId": "a-server-generated-ID",
                "siteId": "another-server-generated-ID",
                "name": "2005553001@example.com",
                "userType": "ATA",
                "phoneNumber": "+1-2005553001",
                "tnRoutine": "port-no-temp",
                "CLID": "+1-2005553001",
                "extension": "3001",
                "lastName": "Smith",
                "firstName": "John",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "email": "jsmith@example.com",
                "timeZone": "America\/New_York",
                "language": "English",
                "accessDevice": {
                    "deviceManagementRoutine": "create",
                    "type": "Polycom Soundpoint IP 500",
                    "macAddress": "AABBCC112234"
                },
                "servicePacks": {
                    "base": "Standard",
                    "add-on": [
                        "Executive"
                    ]
                },
                "role": "Executive",
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    }
                }
            }
            
+ Request Example: ATA User Add using existing device (application/json)
    + Body

            {
                "customerId": "a-server-generated-ID",
                "siteId": "another-server-generated-ID",
                "name": "2005553001@example.com",
                "userType": "ATA",
                "phoneNumber": "+1-2005553001",
                "tnRoutine": "port-no-temp",
                "CLID": "+1-2005553001",
                "extension": "3001",
                "lastName": "Smith",
                "firstName": "John",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "email": "jsmith@example.com",
                "timeZone": "America\/New_York",
                "language": "English",
                "accessDevice": {
                    "deviceManagementRoutine": "existing",
                    "name": "ATA device"
                },
                "servicePacks": {
                    "base": "Standard",
                    "add-on": [
                        "Executive"
                    ]
                },
                "role": "Executive",
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    }
                }
            }
            
+ Request Example: Business Line User Add (application/json)
    + Body

            {
                "customerId": "a-server-generated-ID",
                "siteId": "another-server-generated-ID",
                "name": "2005553001@example.com",
                "userType": "businessLine",
                "phoneNumber": "+1-2005553001",
                "tnRoutine": "port-no-temp",
                "CLID": "+1-2005553001",
                "extension": "3001",
                "lastName": "Smith",
                "firstName": "John",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "email": "jsmith@example.com",
                "timeZone": "America\/New_York",
                "language": "English",
                "accessDevice": {
                    "name": "exampleComIad001"
                },
                "servicePacks": {
                    "base": "Standard",
                    "add-on": [
                        "Executive"
                    ]
                },
                "role": "Executive",
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    }
                }
            }
            
+ Request Example: HostedPbx User Add (application/json)
    + Body

            {
                "customerId": "a-server-generated-ID",
                "siteId": "another-server-generated-ID",
                "name": "2005553001@example.com",
                "userType": "hostedPbx",
                "phoneNumber": "+1-2005553001",
                "tnRoutine": "port-no-temp",
                "CLID": "+1-2005553001",
                "extension": "3001",
                "lastName": "Smith",
                "firstName": "John",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "email": "jsmith@example.com",
                "timeZone": "America\/New_York",
                "language": "English",
                "accessDevice": {
                    "name": "exampleComIad001",
                    "type": "Example",
                    "model": "Example",
                    "macAddress": "0A1B2C3D4E5F",
                    "linePort": "exampleComIad001@example.com"
                },
                "servicePacks": {
                    "base": "Standard",
                    "add-on": [
                        "Executive"
                    ]
                },
                "role": "Executive",
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    }
                }
            }
            
+ Request Example: Trunking User Add (application/json)
    + Body

            {
                "customerId": "a-server-generated-ID",
                "siteId": "another-server-generated-ID",
                "name": "2005553001@example.com",
                "userType": "trunking",
                "phoneNumber": "+1-2005553001",
                "tnRoutine": "port-no-temp",
                "CLID": "+1-2005553001",
                "extension": "3001",
                "lastName": "Smith",
                "firstName": "John",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "email": "jsmith@example.com",
                "timeZone": "America\/New_York",
                "language": "English",
                "trunkGroup": {
                    "name": "exampleTrunk"
                },
                "servicePacks": {
                    "base": "Standard",
                    "add-on": [
                        "Executive"
                    ]
                },
                "role": "Executive",
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    }
                }
            }
            
+ Request Example: Trunking User Add with no assigned Trunk Group (application/json)
    + Body

            {
                "customerId": "a-server-generated-ID",
                "siteId": "another-server-generated-ID",
                "name": "2005553001@example.com",
                "userType": "trunking",
                "phoneNumber": "+1-2005553001",
                "tnRoutine": "auto",
                "CLID": "+1-2005553001",
                "extension": "3001",
                "lastName": "Smith",
                "firstName": "John",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "email": "jsmith@example.com",
                "timeZone": "America\/New_York",
                "language": "English",
                "trunkGroup": {},
                "servicePacks": {
                    "base": "Standard",
                    "add-on": [
                        "Executive"
                    ]
                },
                "role": "Executive",
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    }
                }
            }
            
+ Request Example: Alternative process - Trunking User Add with no assigned Trunk Group (application/json)
    + Body

            {
                "customerId": "a-server-generated-ID",
                "siteId": "another-server-generated-ID",
                "name": "2005553001@example.com",
                "userType": "trunking",
                "phoneNumber": "+1-2005553001",
                "tnRoutine": "auto",
                "CLID": "+1-2005553001",
                "extension": "3001",
                "lastName": "Smith",
                "firstName": "John",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "email": "jsmith@example.com",
                "timeZone": "America\/New_York",
                "language": "English",
                "servicePacks": {
                    "base": "Standard",
                    "add-on": [
                        "Executive"
                    ]
                },
                "role": "Executive",
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    }
                }
            }

+ Response 201 (application/hal+json)
    + Headers

            Location: http://classicserver.example.com/api/users/2005553001%40example.com
            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/users/2005553001%40example.com"
                    }
                },
                "customerId": "Example Com",
                "siteId": "Example Com - North",
                "phoneNumber": "+1-2005553001",
                "extension": "3001",
                "CLID": "+1-2005553001",
                "userId": "2005553001@example.com",
                "portalPassword": "s8F!9ggo",
                "firstName": "John",
                "lastName": "Smith",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "timeZone": "America\/New_York",
                "language": "English",
                "uniqueId": "138008094312048295",
                "_embedded": {
                    "ls:site-devices": [
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Com%20-%20North/devices/exampleComIad001"
                                }
                            },
                            "customerId": "Example Com",
                            "siteId": "Example Com - North",
                            "deviceId": "exampleComIad001",
                            "extensions": {
                                "broadworks": {
                                    "resourceId": "exampleComIad001"
                                }
                            },
                            "deviceCredentials": {
                                "username": "16502342235",
                                "password": "{3qT8L"
                            }
                        }
                    ]
                },
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    },
                    "Charge Number": {
                        "phoneNumber": "+1-2005554321",
                        "useChargeNumberForEnhancedTranslations": false,
                        "sendChargeNumberToNetwork": true
                    },
                    "Third-Party Voice Mail Support": {
                        "isActive": true,
                        "busyRedirectToVoiceMail": true,
                        "noAnswerRedirectToVoiceMail": true,
                        "serverSelection": "User Specific Mail Server",
                        "userServer": "4165557000",
                        "mailboxIdType": "URL",
                        "mailboxURL": "2005553001@sip.example.com",
                        "noAnswerNumberOfRings": 4,
                        "alwaysRedirectToVoiceMail": false,
                        "outOfPrimaryZoneRedirectToVoiceMail": false
                    },
                    "Call Forwarding No Answer": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101",
                        "numberOfRings": 4
                    },
                    "Call Forwarding Not Reachable": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101"
                    },
                    "Remote Office": {}
                },
                "extensions": {
                    "broadworks": {
                        "resourceId": "2005553001@example.com"
                    }
                }
            }

    + Schema

            {
               "title": "Create User response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "userId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "phoneNumber": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 23,
                     "pattern": "^\\+\\d+-\\d+$"
                  },
                  "extension": {
                     "type": "string",
                     "minLength": 2,
                     "maxLength": 20,
                     "pattern": "^[0-9]+$"
                  },
                  "CLID": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 23,
                     "pattern": "^\\+\\d+-\\d+$"
                  },
                  "lastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "firstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "callingLineIdLastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30,
                     "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                  },
                  "callingLineIdFirstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30,
                     "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                  },
                  "email": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "format": "email"
                  },
                  "timeZone": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 127
                  },
                  "language": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "services": {
                     "type": "object",
                     "properties": {
                        "Authentication": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "username": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 80
                              },
                              "password": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 60
                              }
                           }
                        },
                        "Charge Number": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "phoneNumber": {
                                 "type": [
                                    "string",
                                    "null"
                                 ],
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^\\+\\d+-\\d+$"
                              },
                              "tnRoutine": {
                                 "enum": [
                                    "",
                                    "port-no-temp",
                                    "auto"
                                 ]
                              },
                              "useChargeNumberForEnhancedTranslations": {
                                 "type": "boolean"
                              },
                              "sendChargeNumberToNetwork": {
                                 "type": "boolean"
                              }
                           }
                        },
                        "Third-Party Voice Mail Support": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "isActive": {
                                 "type": "boolean"
                              },
                              "busyRedirectToVoiceMail": {
                                 "type": "boolean"
                              },
                              "noAnswerRedirectToVoiceMail": {
                                 "type": "boolean"
                              },
                              "noAnswerNumberOfRings": {
                                 "enum": [
                                    0,
                                    2,
                                    3,
                                    4,
                                    5,
                                    6,
                                    7,
                                    8,
                                    9,
                                    10,
                                    11,
                                    12,
                                    13,
                                    14,
                                    15,
                                    16,
                                    17,
                                    18,
                                    19,
                                    20
                                 ]
                              },
                              "alwaysRedirectToVoiceMail": {
                                 "type": "boolean"
                              },
                              "outOfPrimaryZoneRedirectToVoiceMail": {
                                 "type": "boolean"
                              },
                              "serverSelection": {
                                 "enum": [
                                    "Group Mail Server",
                                    "User Specific Mail Server"
                                 ]
                              },
                              "userServer": {
                                 "anyOf": [
                                    {
                                       "id": "E.164 DN",
                                       "type": [
                                          "string",
                                          "null"
                                       ],
                                       "description": "A formatted TN.",
                                       "pattern": "^\\+\\d+-\\d+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "non-E.164 DN",
                                       "type": "string",
                                       "description": "A non-E.164 formatted TN.",
                                       "pattern": "^[\\d\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "SIP URI",
                                       "type": "string",
                                       "description": "SIP URI",
                                       "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 161
                                    }
                                 ]
                              },
                              "mailboxIdType": {
                                 "enum": [
                                    "User Or Group Phone Number",
                                    "URL"
                                 ]
                              },
                              "mailboxURL": {
                                 "type": [
                                    "string",
                                    "null"
                                 ],
                                 "description": "SIP URI",
                                 "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           }
                        },
                        "Call Forwarding No Answer": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "isActive": {
                                 "type": "boolean"
                              },
                              "forwardToPhoneNumber": {
                                 "anyOf": [
                                    {
                                       "id": "E.164 DN",
                                       "type": [
                                          "string",
                                          "null"
                                       ],
                                       "description": "A formatted TN.",
                                       "pattern": "^\\+\\d+-\\d+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "non-E.164 DN",
                                       "type": "string",
                                       "description": "A non-E.164 formatted TN.",
                                       "pattern": "^[\\d\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "SIP URI",
                                       "type": "string",
                                       "description": "SIP URI",
                                       "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 161
                                    }
                                 ]
                              },
                              "numberOfRings": {
                                 "enum": [
                                    0,
                                    2,
                                    3,
                                    4,
                                    5,
                                    6,
                                    7,
                                    8,
                                    9,
                                    10,
                                    11,
                                    12,
                                    13,
                                    14,
                                    15,
                                    16,
                                    17,
                                    18,
                                    19,
                                    20
                                 ]
                              }
                           }
                        },
                        "Call Forwarding Not Reachable": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "isActive": {
                                 "type": "boolean"
                              },
                              "forwardToPhoneNumber": {
                                 "anyOf": [
                                    {
                                       "id": "E.164 DN",
                                       "type": [
                                          "string",
                                          "null"
                                       ],
                                       "description": "A formatted TN.",
                                       "pattern": "^\\+\\d+-\\d+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "non-E.164 DN",
                                       "type": "string",
                                       "description": "A non-E.164 formatted TN.",
                                       "pattern": "^[\\d\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 23
                                    },
                                    {
                                       "id": "SIP URI",
                                       "type": "string",
                                       "description": "SIP URI",
                                       "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                       "minLength": 1,
                                       "maxLength": 161
                                    }
                                 ]
                              }
                           }
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     }
                  }
               },
               "required": [
                  "_links",
                  "userId"
               ]
            }

+ Response 424 (application/json)

        {
            "errorCode": "EXTERNAL_API_ERROR",
            "externalErrorCode": "4250",
            "externalErrorSummary": "[Warning 4250] 1 phone number(s) not added.  Verify that the number(s) are not already assigned.",
            "externalErrorDetail": "[Warning 4250] 1 phone number(s) not added.  Verify that the number(s) are not already assigned."
        }

+ Response 404 (application/json)

        {
            "errorCode": "NOT_FOUND",
            "externalErrorCode": "4152",
            "externalErrorSummary": "[Error 4152] Group not found: LeoNVB:LeoExample",
            "externalErrorDetail": "[Error 4152] Group not found: LeoNVB:LeoExample"
        }

+ Response 404 (application/json)

        {
            "errorCode": "NOT_FOUND",
            "summary": "The requested resource does not exist",
            "detail": "Group [LeoNVB:LeoExample] not found in Broadworks."
        }

+ Response 500 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "INTERNAL_ERROR",
                "summary": "Internal error creating voip-user",
                "detail": "The server encountered an error creating the resource. Please contact your administrator for assistance."
            }

+ Response 400 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "FORMAT_ERROR",
                "summary": "Input validation failure",
                "detail": "Request validation failed: phoneNumber does not match pattern^\\+[0-9]+-[0-9]+$: was processing value \"+1-\""
            }

### Create a VoIP User - Alternative [POST]
This section contains request and response JSON schemas for alternative process when user is created via LWS-SOAP.

+ Request (application/json)
    + Body

            {
                "customerId": "a-server-generated-ID",
                "siteId": "another-server-generated-ID",
                "name": "2005553001@example.com",
                "userType": "businessLine",
                "phoneNumber": "+1-2005553001",
                "tnRoutine": "auto",
                "CLID": "+1-2005553001",
                "extension": "3001",
                "lastName": "Smith",
                "firstName": "John",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "email": "jsmith@example.com",
                "timeZone": "America\/New_York",
                "language": "English",
                "accessDevice": {
                    "name": "exampleComIad001"
                },
                "smsPhoneNumber": "+1-2345679789",
                "servicePacks": {
                    "base": "Standard",
                    "add-on": [
                        "Executive"
                    ]
                },
                "role": "Executive",
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    },
                    "Charge Number": {
                        "phoneNumber": "+1-2005554321",
                        "tnRoutine": "",
                        "useChargeNumberForEnhancedTranslations": false,
                        "sendChargeNumberToNetwork": true
                    },
                    "Third-Party Voice Mail Support": {
                        "isActive": true,
                        "busyRedirectToVoiceMail": true,
                        "noAnswerRedirectToVoiceMail": true,
                        "serverSelection": "User Specific Mail Server",
                        "userServer": "4165557000",
                        "mailboxIdType": "URL",
                        "mailboxURL": "2005553001@sip.example.com",
                        "noAnswerNumberOfRings": 4,
                        "alwaysRedirectToVoiceMail": false,
                        "outOfPrimaryZoneRedirectToVoiceMail": false
                    },
                    "Call Forwarding No Answer": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101",
                        "numberOfRings": 4
                    },
                    "Call Forwarding Not Reachable": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101"
                    },
                    "BroadWorks Mobility": {
                        "isActive": false,
                        "mobilePhoneNumber": "+1-2005553101",
                        "mobileDevicePassword": "Fg%3fg56",
                        "mobileNetworkName": "Example"
                    },
                    "Remote Office": {}
                },
                "extensions": {
                    "broadworks": {
                        "serviceProviderId": "Example Com",
                        "groupId": "Example Com - North",
                        "resourceId": "2005553001@example.com"
                    }
                }
            }

    + Schema

            {
               "title": "Create User Alternate process request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "name": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "phoneNumber": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 23,
                     "pattern": "^\\+\\d+-\\d+$"
                  },
                  "smsPhoneNumber": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "tnRoutine": {
                     "enum": [
                        "",
                        "port-no-temp",
                        "auto",
                        "no-number"
                     ]
                  },
                  "extension": {
                     "type": [
                        "string",
                        "null"
                     ],
                     "minLength": 2,
                     "maxLength": 20,
                     "pattern": "^[0-9]+$"
                  },
                  "CLID": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 23,
                     "pattern": "^\\+\\d+-\\d+$"
                  },
                  "lastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "firstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "callingLineIdLastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30,
                     "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                  },
                  "callingLineIdFirstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30,
                     "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                  },
                  "email": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "format": "email"
                  },
                  "timeZone": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 127
                  },
                  "language": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "role": {},
                  "userType": {
                     "enum": [
                        "ATA",
                        "trunking",
                        "businessLine",
                        "hostedPbx",
                        "systemDevice",
                        "noDevice"
                     ]
                  },
                  "accessDevice": {
                     "type": "object",
                     "additionalProperties": false,
                     "description": "Details of the user's device, for Business Line, IP Centrex, and System Device users.",
                     "properties": {
                        "deviceManagementRoutine": {
                           "enum": [
                              "create",
                              "existing"
                           ]
                        },
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "type": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "model": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 256
                        },
                        "macAddress": {
                           "type": "string",
                           "minLength": 12,
                           "maxLength": 12,
                           "pattern": "^[0-9A-Fa-f]{12}$"
                        },
                        "linePort": {
                           "type": "string",
                           "pattern": "^(\\+|[\\w\\-\\.\\!~\\*\\'\\(\\)])[\\w\\-\\.\\!~\\*\\'\\(\\)]{0,79}(@[a-zA-Z\\d\\.\\-]{1,80})?$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     },
                     "required": [
                        "name"
                     ]
                  },
                  "trunkGroup": {
                     "type": "object",
                     "additionalProperties": false,
                     "description": "Details of the user's trunk group(s), for Trunking users.",
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "linePort": {
                           "type": "string",
                           "pattern": "^(\\+|[\\w\\-\\.\\!~\\*\\'\\(\\)])[\\w\\-\\.\\!~\\*\\'\\(\\)]{0,79}(@[a-zA-Z\\d\\.\\-]{1,80})?$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "servicePacks": {
                     "type": "object",
                     "additionalProperties": false,
                     "description": "Service Packs that will be assigned to User",
                     "properties": {
                        "base": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "add-on": {
                           "type": "array",
                           "items": {
                              "type": "string",
                              "minLength": 1,
                              "maxLength": 80
                           }
                        }
                     }
                  },
                  "services": {
                     "type": "object",
                     "properties": {
                        "Authentication": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "username": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 80
                              },
                              "password": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 60
                              }
                           }
                        },
                        "BroadWorks Mobility": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "isActive": {
                                 "type": "boolean"
                              },
                              "mobilePhoneNumber": {
                                 "type": [
                                    "string",
                                    "null"
                                 ],
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^\\+\\d+-\\d+$"
                              },
                              "mobileDevicePassword": {
                                 "type": "string",
                                 "minLength": 1
                              },
                              "mobileNetworkName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 80
                              }
                           }
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "serviceProviderId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "groupId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           }
                        }
                     }
                  }
               },
               "required": [
                  "lastName",
                  "firstName",
                  "userType"
               ]
            }

+ Response 201 (application/hal+json)
    + Headers

            Location: http://classicserver.example.com/api/users/2005553001%40example.com
            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/users/2005553001%40example.com"
                    }
                },
                "customerId": "Example Com",
                "siteId": "Example Com - North",
                "phoneNumber": "+1-2005553001",
                "extension": "3001",
                "CLID": "+1-2005553001",
                "userId": "2005553001@example.com",
                "portalPassword": "s8F!9ggo",
                "firstName": "John",
                "lastName": "Smith",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "timeZone": "America\/New_York",
                "language": "English",
                "uniqueId": "138008094312048295",
                "_embedded": {
                    "ls:site-devices": [
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Com%20-%20North/devices/exampleComIad001"
                                }
                            },
                            "customerId": "Example Com",
                            "siteId": "Example Com - North",
                            "deviceId": "exampleComIad001",
                            "extensions": {
                                "broadworks": {
                                    "resourceId": "exampleComIad001"
                                }
                            },
                            "deviceCredentials": {
                                "username": "16502342235",
                                "password": "{3qT8L"
                            }
                        }
                    ]
                },
                "services": {
                    "Authentication": {
                        "username": "2005553001@sip.example.com",
                        "password": "230A4u$#%f"
                    },
                    "Charge Number": {
                        "phoneNumber": "+1-2005554321",
                        "useChargeNumberForEnhancedTranslations": false,
                        "sendChargeNumberToNetwork": true
                    },
                    "Third-Party Voice Mail Support": {
                        "isActive": true,
                        "busyRedirectToVoiceMail": true,
                        "noAnswerRedirectToVoiceMail": true,
                        "serverSelection": "User Specific Mail Server",
                        "userServer": "4165557000",
                        "mailboxIdType": "URL",
                        "mailboxURL": "2005553001@sip.example.com",
                        "noAnswerNumberOfRings": 4,
                        "alwaysRedirectToVoiceMail": false,
                        "outOfPrimaryZoneRedirectToVoiceMail": false
                    },
                    "Call Forwarding No Answer": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101",
                        "numberOfRings": 4
                    },
                    "Call Forwarding Not Reachable": {
                        "isActive": true,
                        "forwardToPhoneNumber": "+1-2005553101"
                    },
                    "Remote Office": {}
                },
                "extensions": {
                    "broadworks": {
                        "resourceId": "2005553001@example.com"
                    }
                }
            }

    + Schema

            {
               "title": "Create User alternate response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "userId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "extension": {
                     "type": "string",
                     "minLength": 2,
                     "maxLength": 20,
                     "pattern": "^[0-9]+$"
                  },
                  "lastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "firstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "portalPassword": {
                     "type": "string",
                     "minLength": 1
                  },
                  "passcode": {
                     "type": "string",
                     "minLength": 1
                  },
                  "publicUserIdentities": {
                     "type": "array"
                  },
                  "accessDevice": {
                     "type": "object",
                     "additionalProperties": false,
                     "description": "Details of the user's device, for Business Line, IP Centrex, and System Device users.",
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "linePort": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 161
                        },
                        "deviceCredentials": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "username": {
                                 "type": "string",
                                 "minLength": 1
                              },
                              "password": {
                                 "type": "string",
                                 "minLength": 1
                              }
                           }
                        }
                     }
                  },
                  "services": {
                     "type": "object",
                     "properties": {
                        "Authentication": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "username": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 80
                              },
                              "password": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 60
                              }
                           }
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  },
                  "uniqueId": {
                     "type": "string",
                     "minLength": 18,
                     "maxLength": 18,
                     "pattern": "^\\d+$"
                  },
                  "_embedded": {
                     "type": "object",
                     "properties": {
                        "ls:site-devices": {
                           "type": "array",
                           "items": {
                              "type": "object",
                              "properties": {
                                 "_links": {
                                    "type": "object",
                                    "properties": {
                                       "self": {
                                          "type": "object",
                                          "properties": {
                                             "href": {
                                                "type": "string"
                                             }
                                          },
                                          "required": [
                                             "href"
                                          ]
                                       }
                                    },
                                    "required": [
                                       "self"
                                    ]
                                 },
                                 "customerId": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "siteId": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "deviceId": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 30
                                 },
                                 "linePort": {
                                    "type": "string",
                                    "minLength": 1,
                                    "maxLength": 161
                                 },
                                 "extensions": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                       "broadworks": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                             "resourceId": {
                                                "type": "string",
                                                "minLength": 1,
                                                "maxLength": 40
                                             }
                                          },
                                          "required": [
                                             "resourceId"
                                          ]
                                       }
                                    }
                                 }
                              },
                              "required": [
                                 "_links",
                                 "customerId",
                                 "siteId",
                                 "deviceId"
                              ]
                           }
                        }
                     }
                  },
                  "_warnings": {
                     "type": "array",
                     "items": {
                        "type": "object",
                        "properties": {
                           "code": {
                              "type": "string"
                           },
                           "summary": {
                              "type": "string"
                           },
                           "details": {
                              "type": "string"
                           }
                        }
                     }
                  }
               },
               "required": [
                  "_links",
                  "userId",
                  "extensions"
               ]
            }

## VoIP User [/api/users/{userId}]

+ Parameters
    + userId: `userExample` (string, required)

### Modify a VoIP User [PUT /api/users/{userId}{?eFaxOnly}]
Modify a VoIP User.<br />
Rollback-enabled: No.

Processes backing the Modify VoIP User request:
<table border=1>
    <thead>
    <th>Process Name</th>
    <th>Process Type</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>Modify User(VoIP Entity)</td>
            <td>Base process</td>
            <td>This process is used when the alternate processes are not enabled.<br />
            In the initial implementation the process will always return a 501 Not Implemented response.
            </td>
        </tr>
        <tr>
            <td>Modify User via LWS SOAP (VoIP Entity)</td>
            <td>Alternate process</td>
            <td>This process is enabled by default when the alternate processes are enabled.<br />
            In current implementation the VoIP User is updated using LWS-SOAP UserModifyRequest API call.
            </td>
        </tr>
        <tr>
            <td>eFax Integrated Modify User via LWS-SOAP (VoIP Entity)</td>
            <td>Alternate process</td>
            <td>To enable this process the alternate processes need to be enabled and the "Modify User via LWS SOAP (VoIP Entity)" 
            process needs to be disabled.<br />
            This alternate process is used in the Wit eFax solution component.<br /> 
            This process will update the primary user, check if the primary user has the Fax Messaging 
            assigned and will update the Wit eFax accountâ€™s email address and/or first name and/or last name
            if they were changed for the primary user.
            It will also update the secondary BroadWorks userâ€™s first name and/or last name if they were changed.
            All other fields remain unchanged.<br />
            <b>Note</b>: If the Fax Messaging service is assigned via Service Pack, additional actions will not be triggered.
            </td>
        </tr>
    </tbody>
</table>

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server userId (server-generated) of the user to be deleted.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Modify User request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "userId"
        ]
    }

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>eFaxOnly</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Flag to indicate that action is executed on eFax only.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
       "title": "Modify User URI Query parameters schema",
       "properties": {
         "eFaxOnly": {
           "title": "Only eFax",
           "description": "Flag to indicate that action is executed on eFax only",
           "enum": [
             "true",
             "false"
           ]
         }
       }
     }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>phoneNumber</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Phone Number.<br />
            Must be E.164 formatted, e.g. +1-2005553001 (the dash is required, after the country code).<br />
            A value is required for certain TN routines; see documentation for tnRoutine for details.<br />
        </tr>
        <tr>
            <td>tnRoutine</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>""(empty string)</td>
            <td>Phone Number (TN) assignment routine.<br />
            Supported values and impact on other required properties:
                <ul>
                    <li><b>""(empty string)</b> - TN must already be available for use; no assignment will be performed.</li>
                    <li><b>port-no-temp</b> - TN does not exist in the system, and will be assigned automatically at both the Customer and Site levels.</li>
                    <li><b>auto</b> - TN may or may not already exist in the system, and will be assigned automatically only as needed. <b>Not Implemented</b></li>
                    <li><b>no-number</b> - User will have no TN (extension-only user); phoneNumber must <i>not</i> be present. <b>Not Implemented</b></li>
                </ul>
        </tr>
        <tr>
            <td>extension</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Extension. </td>
        </tr>
        <tr>
            <td>lastName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Last Name.</td>
        </tr>
        <tr>
            <td>firstName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>First Name.</td>
        </tr>
        <tr>
            <td>department</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>User department.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>language</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Language.</td>
        </tr>
        <tr>
            <td>email</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>E-Mail address</td>
        </tr>
        <tr>
            <td>CLID</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Calling Line ID Phone Number.<br />
            Must be E.164 formatted, e.g. +1-2005553001 (the dash is required, after the country code).
            </td>
        </tr>
        <tr>
            <td>callingLineIdLastName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Calling Line ID Last Name.<br />
                <b>Note:</b> The callingLineIdLastName will be updated with the lastName value if the lastName is present in the request and the callingLineIdLastName is not.
            </td>
        </tr>
        <tr>
            <td>callingLineIdFirstName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>no</td>
            <td>Calling Line ID First Name.<br />
                <b>Note:</b> The callingLineIdFirstName will be updated with the firstName value if the firstName is present in the request and the callingLineIdFirstName is not.
            </td>
        </tr>
        <tr>
            <td>timeZone</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Time Zone expressed as a Zone Name from the
            <a href="https://www.iana.org/time-zones">IANA Time Zone Database</a>, e.g. "America/New_York".
            </td>
        </tr>
        <tr>
            <td>nameDialingName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                <b>Not Implemented</b><br>
                Container for name dialing information.<br />
                Details of the nameDialingName properties:</td></tr>
                        <tr>
                            <td>nameDialingName.lastName</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Last name for the user's enhanced name dialing feature.<br><b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>nameDialingName.firstName</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>First name for the user's enhanced name dialing feature.<br><b>Not Implemented</b></td>
                        </tr>
        <tr>
            <td>address</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for Address information.</td></tr>
                        <tr>
                            <td>address.location</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Location.<br><b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>address.addressLine1</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Street address.</td>
                        </tr>
                        <tr>
                            <td>address.addressLine2</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Street address.</td>
                        </tr>
                        <tr>
                            <td>address.city</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>City</td>
                        </tr>
                        <tr>
                            <td>address.stateOrProvince</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>State or Province</td>
                        </tr>
                        <tr>
                            <td>zipOrPostalCode</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Zip or Postal Code</td>
                        </tr>
                        <tr>
                            <td>address.country</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Country</td>
                        </tr>
        <tr>
            <td>defaultAlias</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Default Alias.<br><b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>alias</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Array of aliases, up to 3 aliases.<br><b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>pagerPhoneNumber</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Pager Phone Number (informational).<br><b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>mobilePhoneNumber</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Mobile Phone Number (informational).<br><b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>yahooId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Yahoo ID.<br><b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>networkClassOfService</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Network class of service.<br><b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>officeZoneName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Office zone for location-based restrictions service. Only valid when "Location-Based Calling Restrictions" service is assigned.<br><b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>primaryZoneName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Primary zone for location-based restriction service. Only valid when "Location-Based Calling Restrictions" service is assigned.<br><b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>impId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>IM&P ID. Only valid when "Third-Party IM&P" service is assigned.<br><b>Not Implemented</b></td>
        </tr>
    </tbody>
</table>

### Response Properties - 200 OK
Besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.<br />
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Description</th>
    <th>Mandatory</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td>The Classic Server VoIP Id of the BroadWorks User.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>extensions. broadworks. resourceId</td>
            <td>The BroadWorks ID of the user.</td>
            <td>Yes</td>
       </tr>
    </tbody>
</table>

+ Parameters
    + userId: `userExample` (string, required)
    + eFaxOnly: `true` (enum[string], optional)
        + Members
            + `true`
            + `false`

+ Request (application/json)
    + Body

            {
                "extension": "2177",
                "phoneNumber": "+1-6502342177",
                "tnRoutine": "port-no-temp",
                "lastName": "Smith",
                "firstName": "John",
                "language": "English",
                "email": "jsmith@example.com",
                "CLID": "+1-6502342177",
                "callingLineIdLastName": "Smith",
                "callingLineIdFirstName": "John",
                "timeZone": "America\/New_York",
                "address": {
                    "addressLine1": "152 W 34th St",
                    "city": "New York",
                    "stateOrProvince": "NY",
                    "zipOrPostalCode": "10001",
                    "country": "USA"
                }
            }

    + Schema

            {
               "title": "Modify User request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "phoneNumber": {
                     "type": [
                        "string",
                        "null"
                     ],
                     "pattern": "^\\+\\d+-\\d+$",
                     "minLength": 1,
                     "maxLength": 23
                  },
                  "tnRoutine": {
                     "enum": [
                        "",
                        "port-no-temp",
                        "auto",
                        "no-number"
                     ]
                  },
                  "extension": {
                     "type": [
                        "string",
                        "null"
                     ],
                     "minLength": 2,
                     "maxLength": 20,
                     "pattern": "^[0-9]+$"
                  },
                  "CLID": {
                     "type": "string",
                     "pattern": "^\\+\\d+-\\d+$",
                     "minLength": 1,
                     "maxLength": 23
                  },
                  "lastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "firstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "callingLineIdLastName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30,
                     "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                  },
                  "callingLineIdFirstName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30,
                     "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                  },
                  "email": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "format": "email"
                  },
                  "timeZone": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 127
                  },
                  "language": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "address": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "addressLine1": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "addressLine2": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 80
                        },
                        "city": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "stateOrProvince": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "zipOrPostalCode": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "country": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        }
                     }
                  }
               }
            }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/users\/6502342177%40example.com"
                    }
                },
                "userId": "6502342177@example.com",
                "extensions": {
                    "broadworks": {
                        "resourceId": "6502342177@example.com"
                    }
                }
            }

    + Schema

            {
               "title": "Modify User response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "userId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     }
                  }
               },
               "required": [
                  "_links",
                  "userId"
               ]
            }

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": null,
                "externalErrorSummary": "User Modify Failed",
                "externalErrorDetail": "User Modify Failed. User not found: [6502342177%40example.com]"
            }

+ Response 502 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_SERVER_ERROR",
                "summary": "Unexpected response from remote API",
                "detail": "LWS-SOAP: Received unexpected response: 'SuccessResponse'"
            }

+ Response 400 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "FORMAT_ERROR",
                "summary": "Input validation failure",
                "detail": "body.phoneNumber does not match pattern^\\+\\d+-\\d+$: was processing value \"+1-\""
            }

### Delete a VoIP User [DELETE /api/users/{userId}{?keepMailbox}]
Delete a VoIP User.<br />
Rollback-enabled: No.<br />
Processes backing the Delete VoIP User request:
<table border=1>
    <thead>
    <th>Process Name</th>
    <th>Process Type</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>Delete User (VoIP Entity)</td>
            <td>Base process</td>
            <td>This process is used when the alternate processes are not enabled.<br />
            In the initial implementation the process will always return a 501 Not Implemented response.
            </td>
        </tr>
        <tr>
            <td>Delete User via LWS-SOAP (VoIP Entity)</td>
            <td>Alternate process</td>
            <td>This process is enabled by default when the alternate processes are enabled.<br />
            In current implementation the VoIP User is deleted using LWS-SOAP UserDeleteRequest API call.
            </td>
        </tr>
        <tr>
            <td>eFax Integrated Delete User (VoIP Entity)</td>
            <td>Alternate process</td>
            <td>To enable this process the alternate processes need to be enabled and the "Delete User via LWS-SOAP (VoIP Entity)" 
            process needs to be disabled.<br />
            This alternate process is used in the Wit eFax solution component.<br /> 
            Besides deleting the specified user, if the user has Fax Messaging a la carte service assigned, 
            it will also perform the additional actions of deleting the eFax User from BroadWorks system and the Wit eFax User from Wit system.<br />
            <b>Note</b>: If the Fax Messaging service is assigned via Service Pack, additional actions will not be triggered.
            </td>
        </tr>
    </tbody>
</table>

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>keepMailbox</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Flag that controls whether the Message Store user account is kept or deleted along with the BroadWorks user.<br />
            If the query parameter is not sent the value of the voip.lws.user.keepMailbox config parameter will be used.
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Delete User URI Query parameters schema",
        "properties": {
            "keepMailbox": {
                "enum": [
                    "true",
                    "false"
                ]
            }
        }
    }

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server userId (server-generated) of the user to be deleted.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Delete User request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "userId"
        ]
    }

+ Parameters
    + userId: `userExample` (string, required)
    + keepMailbox:  `true` (boolean, optional)

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4008",
                "externalErrorSummary": "Error: [Error 4008] User not found: JohnDoe",
                "externalErrorDetail": "User Delete Failed. Error: [Error 4008] User not found: JohnDoe"
            }

+ Response 501 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "NOT_IMPLEMENTED",
                "summary": "The requested functionality is not implemented.",
                "detail": "The 'Delete User' default functionality is not implemented."
            }

## User's Call Processing Policies [/api/users/{userId}/call-processing-policy]

+ Parameters
    + userId: `userExample` (string, required)

### Retrieve Call Processing Policies [GET]
Fetch a BroadWorks User's Call Processing Policies settings.
Refer to BroadWorks documentation for specifics of the properties under `extensions.broadworks`.

In addition to the standard error codes, this will return 404 Not Found if the user does not exist in BroadWorks.

**NOT IMPLEMENTED**

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/users\/4155551212%20example.com\/call-processing-policy"
                    }
                },
                "_embedded": {
                    "ls:users": [
                        {
                            "_links": {
                                "self": {
                                    "href": "http://classicserver.example.com/api/users\/4155551212%20example.com"
                                }
                            },
                            "userId": "4155551212@example.com"
                        }
                    ]
                },
                "extensions": {
                    "broadworks": {
                        "callingLineId": {
                            "useUserCLIDSetting": false,
                            "clidPolicy": "Use DN",
                            "emergencyClidPolicy": "Use DN",
                            "allowAlternateNumbersForRedirectingIdentity": true,
                            "useGroupName": false,
                            "allowConfigurableCLIDForRedirectingIdentity": true,
                            "blockCallingNameForExternalCalls": false
                        },
                        "media": {
                            "useUserMediaSetting": false,
                            "mediaPolicySelection": "No Restrictions",
                            "supportedMediaSetName": "Example"
                        },
                        "callLimits": {
                            "useUserCallLimitsSetting": false,
                            "useMaxSimultaneousCalls": false,
                            "maxSimultaneousCalls": 10,
                            "useMaxSimultaneousVideoCalls": false,
                            "maxSimultaneousVideoCalls": 5,
                            "useMaxCallTimeForAnsweredCalls": false,
                            "maxCallTimeForAnsweredCallsMinutes": 600,
                            "useMaxCallTimeForUnansweredCalls": false,
                            "maxCallTimeForUnansweredCallsMinutes": 2,
                            "useMaxConcurrentRedirectedCalls": false,
                            "maxConcurrentRedirectedCalls": 3,
                            "useMaxFindMeFollowMeDepth": false,
                            "maxFindMeFollowMeDepth": 3,
                            "maxRedirectionDepth": 10,
                            "useMaxConcurrentFindMeFollowMeInvocations": false,
                            "maxConcurrentFindMeFollowMeInvocations": 3
                        },
                        "incomingCallerId": {
                            "useUserDCLIDSetting": false,
                            "enableDialableCallerID": false
                        }
                    }
                }
            }

### Update Call Processing Policies [PUT]
Update a BroadWorks User's Call Processing Policies settings.
Refer to BroadWorks documentation for specifics of the properties under `extensions.broadworks`.

In addition to the standard error codes, this will return 404 Not Found if the user does not exist in BroadWorks.

**NOT IMPLEMENTED**

+ Request (application/json)
    + Body

            {
                "extensions": {
                    "broadworks": {
                        "callingLineId": {
                            "useUserCLIDSetting": false,
                            "clidPolicy": "Use DN",
                            "emergencyClidPolicy": "Use DN",
                            "allowAlternateNumbersForRedirectingIdentity": true,
                            "useGroupName": false,
                            "allowConfigurableCLIDForRedirectingIdentity": true,
                            "blockCallingNameForExternalCalls": false
                        },
                        "media": {
                            "useUserMediaSetting": false,
                            "mediaPolicySelection": "No Restrictions",
                            "supportedMediaSetName": "Example"
                        },
                        "callLimits": {
                            "useUserCallLimitsSetting": false,
                            "useMaxSimultaneousCalls": false,
                            "maxSimultaneousCalls": 10,
                            "useMaxSimultaneousVideoCalls": false,
                            "maxSimultaneousVideoCalls": 5,
                            "useMaxCallTimeForAnsweredCalls": false,
                            "maxCallTimeForAnsweredCallsMinutes": 600,
                            "useMaxCallTimeForUnansweredCalls": false,
                            "maxCallTimeForUnansweredCallsMinutes": 2,
                            "useMaxConcurrentRedirectedCalls": false,
                            "maxConcurrentRedirectedCalls": 3,
                            "useMaxFindMeFollowMeDepth": false,
                            "maxFindMeFollowMeDepth": 3,
                            "maxRedirectionDepth": 10,
                            "useMaxConcurrentFindMeFollowMeInvocations": false,
                            "maxConcurrentFindMeFollowMeInvocations": 3
                        },
                        "incomingCallerId": {
                            "useUserDCLIDSetting": false,
                            "enableDialableCallerID": false
                        }
                    }
                }
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

## Reset User's Device Credentials Action [/api/users/{userId}/resetDeviceCredentials]

+ Parameters
    + userId: `userExample` (string, required)

### Reset Credentials [POST]
Reset the device credentials on a VoIP User's primary device.

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server userId (server-generated) of the user.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Reset User Device Credentials request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "userId"
        ]
    }

+ Response 200 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/users\/JohnDoe\/resetDeviceCredentials"
                    }
                },
                "username": "12147483642",
                "password": "Mu+7*+"
            }

    + Schema

            {
               "title": "Reset User Device Credentials response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "username": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161
                  },
                  "password": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 60
                  }
               },
               "required": [
                  "_links",
                  "username",
                  "password"
               ]
            }

+ Response 404 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "NOT_FOUND",
                "externalErrorCode": "4008",
                "externalErrorSummary": "[Error 4008] User not found: JohnDoe",
                "externalErrorDetail": "[Error 4008] User not found: JohnDoe"
            }

+ Response 422 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "SEMANTIC_ERROR",
                "summary": "The server was unable to process your request",
                "detail": "User does not have primary device"
            }

+ Response 501 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "NOT_IMPLEMENTED",
                "summary": "The requested functionality is not implemented.",
                "detail": "Resetting device credentials for user without phone number is not supported."
            }

## Re-Invite User Action [/api/users/{userId}/reInvite]

+ Parameters
    + userId: `userExample` (string, required)

### Re-Invite User [POST]
Re-invite a user to activate their account in the SSO system.
Internally this call executes LWS-SOAP `UserNotifyRequest` request submitting `userId` value and `reInvite` flag.

**Note:** In the initial implementation LWS-REST does not check if the User exists in BroadWorks.
Even if user does not exists, success response is returned.

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server userId (server-generated) of the user.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Re-Invive User request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "userId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>email</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Email Address.</td>
        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "email": "example@example.com"
            }

    + Schema

            {
               "title": "Request Body Parameters Schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "email": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80,
                     "format": "email"
                  }
               }
            }

+ Response 204 (application/json)
    + Headers

            Transaction-Id: 1380080943120

## Swap User's Device Action [/api/users/{userId}/swapDevice]

+ Parameters
    + userId: `userExample` (string, required)

### Swap Device [POST]
Process name: Swap User Device via LWS SOAP (VoIP Entity)<br />
Rollback-enabled: No<br />
It will swap the user's device. In current implementation this request uses both BroadWorks Entity and LWS-SOAP API.
Additionally the user's old device may be deleted depending on inputs.

*Note*: Any shared call appearances on the old device will be lost (LWS-REST will not re-create the SCAs on the new device).<br />
*Note*: The target user must exist with a device assigned.

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server userId (server-generated) of the user.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Swap User Device request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "userId"
        ]
    }

### Request Properties
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>accessDevice</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>
                Container for the device to be assigned to the User.</td></tr>
                        <tr>
                            <td>accessDevice.deviceManagementRoutine</td>
                            <td>no</td>
                            <td>create</td>
                            <td>Allowed values: {"create", "existing"}.<br />
                                Use "create" to cause a new device to be created.
                                Use "existing" if the specified device already exists.
                            </td>
                        </tr>
                        <tr>
                            <td>accessDevice.name</td>
                            <td>see notes</td>
                            <td>n/a</td>
                            <td>Access device name.<br />
                                If omitted when the deviceManagementRoutine is "create" it will be auto-generated.<br />
                                Required, if the deviceManagementRoutine is "existing".
                            </td>
                        </tr>
                        <tr>
                            <td>accessDevice.type</td>
                            <td>see notes</td>
                            <td>n/a</td>
                            <td>Access device Type.<br />
                                <b>Note</b>: It will be ignored if the deviceManagementRoutine is "existing".<br />
                                Required, if the deviceManagementRoutine is "create".
                            </td>
                        </tr>
                        <tr>
                            <td>accessDevice.model</td>
                            <td>no</td>
                            <td>n/a</td>
                            <td>Access device Model.
                                Custom tag to be set to the device in BroadWorks.
                                Note: It will be ignored if the deviceManagementRoutine is "existing".
                            </td>
                        </tr>
                        <tr>
                            <td>accessDevice.keepDevice</td>
                            <td>no</td>
                            <td>false</td>
                            <td>Boolean which controls wheather to keep the user's current device.</td>
                        </tr>
    </tbody>
</table>

### Response Properties - 200 OK
For the "Swap User Device via LWS SOAP (VoIP Entity)" besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.
<table border=1>
    <thead>
        <th>Property</th>
        <th>Required?</th>
        <th>Default</th>
        <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td>yes</td>
            <td>n/a</td>
            <td>Classic Server VoIP User Id</td>
        </tr>
        <tr>
            <td>accessDevice.name</td>
            <td>yes</td>
            <td>n/a</td>
            <td>Access device name of the user's assigned device.<br />
                It is autogenerated if it was missing from inputs.
            </td>
        </tr>
        <tr>
            <td>accessDevice.linePort</td>
            <td>yes</td>
            <td>n/a</td>
            <td>The User's linePort. Will not be changed</td>
        </tr>
        <tr>
            <td>accessDevice.type</td>
            <td>no</td>
            <td>n/a</td>
            <td>Access device Type.<br />
                Present only if it was in the inputs.
            </td>
        </tr>
        <tr>
            <td>accessDevice.model</td>
            <td>no</td>
            <td>n/a</td>
            <td>Access device Model.<br />
                Present only if it was in the inputs.
            </td>
        </tr>
        <tr>
            <td>accessDevice.deviceCredentials.username</td>
            <td>yes</td>
            <td>n/a</td>
            <td>User's device username credential.</td>
        </tr>
        <tr>
            <td>accessDevice.deviceCredentials.password</td>
            <td>yes</td>
            <td>n/a</td>
            <td>User's device password credential.</td>
        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "accessDevice": {
                    "deviceManagementRoutine": "create",
                    "name": "Example Com AD3001",
                    "type": "Adtran TA908",
                    "model": "Adtran TA908 Example Model",
                    "keepDevice": false
                }
            }

    + Schema

            {
               "title": "Swap User Device request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "accessDevice": {
                     "type": "object",
                     "additionalProperties": false,
                     "description": "Details of the user's device",
                     "properties": {
                        "deviceManagementRoutine": {
                           "enum": [
                              "create",
                              "existing"
                           ]
                        },
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "type": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "model": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 256
                        },
                        "keepDevice": {
                           "type": "boolean"
                        }
                     }
                  }
               }
            }

+ Response 200 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/users\/JohnDoe\/swapDevice"
                    }
                },
                "userId": "5551239876@example.com",
                "accessDevice": {
                    "name": "Example Com AD3001",
                    "linePort": "lp5551239876@example.com",
                    "deviceCredentials": {
                        "username": "example",
                        "password": "eX@mp1e"
                    }
                }
            }

    + Schema

            {
               "title": "Swap User Device response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "userId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161
                  },
                  "accessDevice": {
                     "type": "object",
                     "additionalProperties": false,
                     "description": "Details of the user's device",
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "type": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "model": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 256
                        },
                        "linePort": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 161
                        },
                        "deviceCredentials": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "username": {
                                 "type": "string",
                                 "minLength": 1
                              },
                              "password": {
                                 "type": "string",
                                 "minLength": 1
                              }
                           }
                        }
                     },
                     "required": [
                        "name"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "userId"
               ]
            }

+ Response 404 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "NOT_FOUND",
                "externalErrorCode": "4008",
                "externalErrorSummary": "[Error 4008] User not found: JohnDoe",
                "externalErrorDetail": "[Error 4008] User not found: JohnDoe"
            }

+ Response 422 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "SEMANTIC_ERROR",
                "summary": "The server was unable to process your request",
                "detail": "The accessDevice.type is required when accessDevice.deviceManagementRoutine equals \u0442\u0410\u0428create'"
            }

<!-- ---------------------------- VoIP User Services -------------------------- -->

# Group VoIP User Services
Supported network elements:

* BroadWorks Application Server

Keys:

* userId

Extension Keys:

* (none)

## User's Assigned Services [/api/users/{userId}/services/assigned-services]

+ Parameters
    + userId: `userExample` (string, required)

### Update Assigned Services [PUT /api/users/{userId}/services/assigned-services{?eFaxOnly}]
Modify VoIP User's assigned services.<br />
Rollback-enabled: No.<br />
Processes backing the Modify VoIP User's assigned services request:
<table border=1>
    <thead>
    <th>Process Name</th>
    <th>Process Type</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>Set User Services (VoIP Entity)</td>
            <td>Base process</td>
            <td>This process is used when the alternate processes are not enabled.<br />
            In the initial implementation the process will always return a 501 Not Implemented response.
            </td>
        </tr>
        <tr>
            <td>Set User Services via LWS-SOAP (VoIP Entity)</td>
            <td>Alternate process</td>
            <td>This process is enabled by default when the alternate processes are enabled.<br />
            In current implementation the VoIP User's services/service packs assignment status are updated using LWS-SOAP API calls.
            </td>
        </tr>
        <tr>
            <td>eFax Integrated Set User Services (VoIP Entity)</td>
            <td>Alternate process</td>
            <td>To enable this process the alternate processes need to be enabled and the "Set User Services via LWS-SOAP (VoIP Entity)" 
            process needs to be disabled.<br />
            This alternate process is used in the Wit eFax solution component.<br /> 
            Besides updating services/service packs assignment status, if the Fax Messaging a la carte service was unassigned, 
            it will also perform the additional actions of deleting the eFax User from BroadWorks system and the Wit eFax User from Wit system.<br />
            <b>Note</b>: If the Fax Messaging service was unassigned via Service Pack unassignment, additional actions will not be triggered.
            </td>
        </tr>
    </tbody>
</table>

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server userId (server-generated) of the user.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Modify User assigned services request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        }
    }

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>eFaxOnly</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Flag to indicate that action is executed on eFax only.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
       "title": "Modify User assigned services URI Query parameters schema",
       "properties": {
         "eFaxOnly": {
           "title": "Only eFax",
           "description": "Flag to indicate that action is executed on eFax only",
           "enum": [
             "true",
             "false"
           ]
         }
       }
     }

### Request Properties
<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>services</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Array of user services.</td>
        </tr>
        <tr>
            <td>services[]</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td><b>Note</b>: The service name should be valid BroadWorks service name, available for assignment in the BroadWorks system that is configured for operations. <br />
            Classic Server does not do reverse mapping of BroadWorks service names (for example, "BroadTouch Business Communicator Desktop - Audio" is label and corresponding service name is "Client License 18"). See "BroadWorks Reverse License Mapping" document for details. <br />
            Classic Server will not pre-validate service name correctness. Providing invalid service name will result in LWS-SOAP request validation error.</td>
        </tr>
        <tr>
            <td>servicePacks</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Array of service packs.</td>
        </tr>
        <tr>
            <td>servicePacks[]</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td><b>Note</b>: The service pack name should be a valid service pack name in BroadWorks, available for assignment in the BroadWorks system that is configured for operations.
            </td>
        </tr>
    </tbody>
</table>

+ Parameters
    + userId: `userExample` (string, required)
    + eFaxOnly: `true` (enum[string], optional)
        + Members
            + `true`
            + `false`

+ Request (application/json)
    + Body

            {
                "services": [
                    "Authentication",
                    "Alternate Numbers"
                ],
                "servicePacks": [
                    "Executive"
                ]
            }

    + Schema

            {
               "title": "Modify User assigned services request body schema",
               "type": "object",
               "properties": {
                  "services": {
                     "type": "array",
                     "items": {
                        "type": "string",
                        "minLength": 1
                     }
                  },
                  "servicePacks": {
                     "type": "array",
                     "items": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 80
                     }
                  }
               },
               "required": [
                  "services",
                  "servicePacks"
               ]
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4008",
                "externalErrorSummary": "[Error 4008] User not found: JohnDoe",
                "externalErrorDetail": "[Error 4008] User not found: JohnDoe."
            }
            
+ Response 501 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "NOT_IMPLEMENTED",
                "summary": "The requested functionality is not implemented.",
                "detail": "The 'Set User Services' default functionality is not implemented."
            }            

## User's Alternate Numbers Service Settings [/api/users/{userId}/services/Alternate%20Numbers]

+ Parameters
    + userId: `userExample` (string, required)

### Modify Alternate Numbers Service Settings [PUT]
Update a BroadWorks User's Alternate Numbers service settings.<br />
In current implementation, services are updated on BroadWorks user using LWS-SOAP UserModifyRequest API call.

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server userId (server-generated) of the user whose Alternate Numbers service will be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "User Alternate Numbers Modify request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "userId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>distinctiveRing</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Distinctive ring setting.</td>
        </tr>
        <tr>
            <td>alternateNumbers</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Container for alternate numbers information. Alternate numbers is an array of entries. </td></tr>
                        <tr>
                            <td>alternateNumbers.id</td>
                            <td>yes</td>
                            <td></td>
                            <td>Alternate Number ID - number of Alt. Num entry in the list.
                                <br/>Allowed values: [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ].
                                <br/><b>Note:</b> The IDs must be provided in ascending order in the request, providing
                                the IDs in a random order will cause the request to fail.
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.tnRoutine</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                TN management routine for provided phone number.<br />
                                <b>Note: at this time only ""(empty string) is allowed.</b><br/>
                                Supported values and impact on other required properties:
                                <ul>
                                    <li><b>port-no-temp</b> - TN does not exist in the system; will attempt to assign at both the Customer and Site levels. Not Implemented</li>
                                    <li><b>auto</b> - TN may or may not already exist in the system; will be assigned automatically to either/both as needed. <b>Not Implemented</b></li>
                                    <li><b>"" (empty string) </b>- TN must already be available for use; no assignment will be</li>
                                    <li>Omitted tnRoutine parameter is same as "" (empty string) tnRoutine value.</li>
                                </ul>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td><b> performed.</td>
                                    </tr>
                                </tbody>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.phoneNumber</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate phone number.<br/>
                                Must be E.164 formatted, e.g. +1-2005553001 (the dash is required, after the country code).<br/>
                                Accepts also null value. Submitting null will erase phone number in the alternate number entry specified with "id".
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.extension</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate extension.<br/>
                                Accepts also null value. Submitting null will erase extension in the alternate number entry specified with "id".
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.ringPattern</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Ring pattern.<br/>Allowed values: [ null, "Normal", "Long-Long", "Short-Short-Long", "Short-Long-Short" ]. Null is equal to "Normal".<br/>
                                <b>Note:</b> Ring pattern does not have meaning when phone number and extension are both empty, and will be ignored in this case.
                            </td>
                        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "distinctiveRing": false,
                "alternateNumbers": [
                    {
                        "id": 1,
                        "phoneNumber": "+1-4125553000",
                        "extension": "3000",
                        "ringPattern": "Long-Long"
                    },
                    {
                        "id": 5,
                        "extension": "3005",
                        "ringPattern": "Long-Long"
                    }
                ]
            }

    + Schema

            {
               "title": "User Alternate Numbers Modify request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "distinctiveRing": {
                     "type": "boolean"
                  },
                  "alternateNumbers": {
                     "type": "array",
                     "maxItems": 10,
                     "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                           "id": {
                              "type": "integer",
                              "min": 1,
                              "max": 10
                           },
                           "tnRoutine": {
                              "enum": [
                                 "",
                                 "port-no-temp",
                                 "auto"
                              ]
                           },
                           "phoneNumber": {
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "minLength": 1,
                              "maxLength": 23,
                              "pattern": "^\\+\\d+-\\d+$"
                           },
                           "extension": {
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "minLength": 2,
                              "maxLength": 20,
                              "pattern": "^[0-9]+$"
                           },
                           "ringPattern": {
                              "enum": [
                                 null,
                                 "Normal",
                                 "Long-Long",
                                 "Short-Short-Long",
                                 "Short-Long-Short"
                              ]
                           }
                        },
                        "required": [
                           "id"
                        ]
                     }
                  }
               }
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": null,
                "externalErrorSummary": "Error modifying user: JohnDoe.",
                "externalErrorDetail": "User Modify Failed. Alternate Numbers pre-validation error:Error updating service: Alternate Numbers. User [JohnDoe] does not have Alternate Numbers service assigned."
            }

## User's Intercept User Service Settings [/api/users/{userId}/services/Intercept%20User]

+ Parameters
    + userId: `userExample` (string, required)

### Modify Intercept User Service Settings [PUT]
Update a BroadWorks User's Intercept User service settings. <br />
In current implementation, services are updated on BroadWorks user using LWS-SOAP UserModifyRequest API call.<br />
Process name: Modify User Intercept User (VoIP Entity)<br />
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server userId (server-generated) of the user whose Intercept User service will be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "User Intercept Modify request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "userId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>isActive</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>On/Off</td>
        </tr>
        <tr>
            <td>playNewPhoneNumber</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for playNewPhoneNumber settings. </td></tr>
                        <tr>
                            <td>playNewPhoneNumber.enabled</td>
                            <td>no</td>
                            <td>n/a</td>
                            <td>On/Off. Play new phone number</td>
                        </tr>
                        <tr>
                            <td>playNewPhoneNumber.phoneNumber</td>
                            <td>no</td>
                            <td>n/a</td>
                            <td>New phone number that will be played if playNewPhoneNumber.enabled is true</td>
                        </tr>
        <tr>
            <td>transferOnZeroToPhoneNumber</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for transferOnZeroToPhoneNumber settings. </td></tr>
                        <tr>
                            <td>transferOnZeroToPhoneNumber.enabled</td>
                            <td>no</td>
                            <td>n/a</td>
                            <td>On/Off. Transfer to transferOnZeroToPhoneNumber.phoneNumber</td>
                        </tr>
                        <tr>
                            <td>transferOnZeroToPhoneNumber.phoneNumber</td>
                            <td>no</td>
                            <td>n/a</td>
                            <td>Phone number to be transferred to when transferOnZeroToPhoneNumber.enabled is true</td>
                        </tr>
        <tr>
            <td>routeToVoiceMail</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>On/Off. Route to voice mail.</td>
        </tr>
        <tr>
            <td>announcementSelection</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Announcement Selection, "Default" or "Personal".<br />
            <b>Not Implemented.</b>
            </td>
        </tr>
        <tr>
            <td>audioFile</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for audio file settings.<br /><b>Not Implemented.</b></td></tr>
                        <tr>
                            <td>audioFile.description</td>
                            <td>yes</td>
                            <td>n/a</td>
                            <td>Description</td>
                        </tr>
                        <tr>
                            <td>audioFile.mediaType</td>
                            <td>yes</td>
                            <td>n/a</td>
                            <td>Audio file type</td>
                        </tr>
                        <tr>
                            <td>audioFile.sourceFileName</td>
                            <td>(varies)</td>
                            <td>n/a</td>
                            <td>Name of the audio file. Must not be present if "audioFile.content" is present.</td>
                        </tr>
                        <tr>
                            <td>audioFile.content</td>
                            <td>(varies)</td>
                            <td>n/a</td>
                            <td>File contents. Must not be present if "audioFile.sourceFileName" is present.</td>
                        </tr>
        <tr>
            <td>videoFile</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for video file settings.<br /><b>Not Implemented.</b></td</tr>
                        <tr>
                            <td>videoFile.description</td>
                            <td>yes</td>
                            <td>n/a</td>
                            <td>Description</td>
                        </tr>
                        <tr>
                            <td>videoFile.mediaType</td>
                            <td>yes</td>
                            <td>n/a</td>
                            <td>Video file type</td>
                        </tr>
                        <tr>
                            <td>videoFile.sourceFileName</td>
                            <td>(varies)</td>
                            <td>n/a</td>
                            <td>Name of the video file. Must not be present if "videoFile.content" is present.</td>
                        </tr>
                        <tr>
                            <td>videoFile.content</td>
                            <td>(varies)</td>
                            <td>n/a</td>
                            <td>File contents. Must not be present if "videoFile.sourceFileName" is present.</td>
                        </tr>
        <tr>
            <td>outboundReroutePhoneNumber</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for outboundReroutePhoneNumber settings.<br /><b>Not Implemented.</b></td></tr>
                        <tr>
                            <td>outboundReroutePhoneNumber.enabled</td>
                            <td>no</td>
                            <td>n/a</td>
                            <td>On/Off. Reroute outbound calls.</td>
                        </tr>
                        <tr>
                            <td>outboundReroutePhoneNumber.phoneNumber</td>
                            <td>no</td>
                            <td>n/a</td>
                            <td>Phone number to reroute to when outboundReroutePhoneNumber.enabled is true.</td>
                        </tr>
        <tr>
            <td>allowOutboundLocalCalls</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>On/Off.<br />
            <b>Not Implemented.</b>
            </td>
        </tr>
        <tr>
            <td>inboundCallMode</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The type of inbound calls to Intercept or allow.<br />
            <b>Not Implemented.</b>
            </td>
        </tr>
        <tr>
            <td>alternateBlockingAnnouncement</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>On/Off.<br />
            <b>Not Implemented.</b>
            </td>
        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "isActive": true,
                "playNewPhoneNumber": {
                    "enabled": true,
                    "phoneNumber": "+1-4433049876"
                },
                "transferOnZeroToPhoneNumber": {
                    "enabled": true,
                    "phoneNumber": "+1-4433049877"
                },
                "routeToVoiceMail": true
            }

    + Schema

            {
               "title": "User Intercept User Modify request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "isActive": {
                     "type": "boolean"
                  },
                  "playNewPhoneNumber": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enabled": {
                           "type": "boolean"
                        },
                        "phoneNumber": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 1,
                           "maxLength": 23,
                           "pattern": "^\\+\\d+-\\d+$"
                        }
                     }
                  },
                  "transferOnZeroToPhoneNumber": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enabled": {
                           "type": "boolean"
                        },
                        "phoneNumber": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 1,
                           "maxLength": 30
                        }
                     }
                  },
                  "routeToVoiceMail": {
                     "type": "boolean"
                  },
                  "announcementSelection": {
                     "enum": [
                        "Default",
                        "Personal"
                     ]
                  },
                  "audioFile": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "description": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 256
                        },
                        "mediaType": {
                           "enum": [
                              "WMA",
                              "WAV",
                              "3GP",
                              "MOV"
                           ]
                        },
                        "sourceFileName": {
                           "type": "string",
                           "minLength": 1
                        },
                        "content": {
                           "type": "string",
                           "minLength": 1
                        }
                     },
                     "required": [
                        "description",
                        "mediaType"
                     ]
                  },
                  "videoFile": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "description": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 256
                        },
                        "mediaType": {
                           "enum": [
                              "WMA",
                              "WAV",
                              "3GP",
                              "MOV"
                           ]
                        },
                        "sourceFileName": {
                           "type": "string",
                           "minLength": 1
                        },
                        "content": {
                           "type": "string",
                           "minLength": 1
                        }
                     },
                     "required": [
                        "description",
                        "mediaType"
                     ]
                  },
                  "outboundReroutePhoneNumber": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enabled": {
                           "type": "boolean"
                        },
                        "phoneNumber": {
                           "anyOf": [
                              {
                                 "id": "E.164 DN",
                                 "type": [
                                    "string",
                                    "null"
                                 ],
                                 "description": "A formatted TN.",
                                 "pattern": "^\\+\\d+-\\d+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              {
                                 "id": "non-E.164 DN",
                                 "type": "string",
                                 "description": "A non-E.164 formatted TN.",
                                 "pattern": "^[\\d\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              {
                                 "id": "SIP URI",
                                 "type": "string",
                                 "description": "SIP URI",
                                 "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           ]
                        }
                     }
                  },
                  "allowOutboundLocalCalls": {
                     "type": "boolean"
                  },
                  "inboundCallMode": {
                     "enum": [
                        "Intercept All",
                        "Allow All",
                        "Allow System Dns"
                     ]
                  },
                  "alternateBlockingAnnouncement": {
                     "type": "boolean"
                  }
               }
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": null,
                "externalErrorSummary": "Error modifying user: JohnDoe.",
                "externalErrorDetail": "User Modify Failed. Intercept User pre-validation error:Error updating service: Intercept User. User [JohnDoe] does not have Intercept User service assigned."
            }
            
            
## User's Fax Messaging Service Settings [/api/users/{userId}/services/Fax%20Messaging]

+ Parameters
    + userId: `userExample` (string, required)

### Retrieve Fax Messaging Service Settings [GET]
Retrieve a BroadWorks User's Fax Messaging service settings. <br />
Rollback-enabled: No

Processes backing the Retrieve User Fax Messaging request:
<table border=1>
    <thead>
    <th>Process Name</th>
    <th>Process Type</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>Retrieve User Fax Messaging (VoIP Entity)</td>
            <td>Base process</td>
            <td>This process is used when the alternate processes are not enabled.<br />
            In the initial implementation the process will always return a 501 Not Implemented response.
            </td>
        </tr>
        <tr>
            <td>eFax Integrated Retrieve User Fax Messaging (VoIP Entity)</td>
            <td>Alternate process</td>
            <td>This process is enabled by default when the alternate processes are enabled.<br />
            This alternate process is used in the Wit eFax solution component.
            </td>
        </tr>
    </tbody>
</table>

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server userId (server-generated) of the user whose Fax Messaging service will be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "User Retrieve Fax Messaging settings request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "userId"
        ]
    }

### Response Properties - 200 OK

<table border=1>
    <thead>
        <th>Parameter</th>
        <th>Required?</th>
        <th>Default</th>
        <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td>yes</td>
            <td>n/a</td>
            <td>The Classic Server ID of the User.</td>
        </tr>
        <tr>
            <td>isActive</td>
            <td>yes</td>
            <td>n/a</td>
            <td>On/Off.</td>
        </tr>
        <tr>
            <td>phoneNumber</td>
            <td>yes</td>
            <td>n/a</td>
            <td>Phone Number.</td>
        </tr>
        <tr>
            <td>extension</td>
            <td>no</td>
            <td>n/a</td>
            <td>Extension.<br/><b>None: Not Implemented</b></td>
        </tr>
        <tr>
            <td>alias</td>
            <td>no</td>
            <td>n/a</td>
            <td>List of aliases.<br/><b>None: Not Implemented</b></td>
        </tr>
    </tbody>
</table>

+ Response 200 (application/json)
    
    + Headers
    
            Transaction-Id: 1380080943120
    
    + Body
    
            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/users/142662607678932343%40example.com/services/Fax%20Messaging"
                    }
                },
                "userId": "142662607678932343@example.com",
                "isActive": true,
                "phoneNumber": "+1-2005553001"
            }

    + Schema

            {
               "title": "Response Body Parameters Schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "userId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "isActive": {
                     "type": "boolean"
                  },
                  "phoneNumber": {
                     "type": [
                        "string",
                        "null"
                     ],
                     "minLength": 1,
                     "maxLength": 23,
                     "pattern": "^\\+\\d+-\\d+$"
                  },
                  "extension": {
                     "type": [
                        "string",
                        "null"
                     ],
                     "minLength": 2,
                     "maxLength": 20,
                     "pattern": "^[0-9]+$"
                  },
                  "alias": {
                     "type": [
                        "array",
                        "null"
                     ],
                     "maxItems": 3,
                     "items": {
                        "type": "string",
                        "description": "SIP URI",
                        "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                        "minLength": 1,
                        "maxLength": 161
                     }
                  }
               },
               "required": [
                  "_links",
                  "userId",
                  "isActive",
                  "phoneNumber"
               ]
            }
        
+ Response 404 (application/json)
    
    + Headers

            Transaction-Id: 1380080943120    

    + Body
    
            {
                "errorCode": "NOT_FOUND",
                "summary": "The requested resource does not exist",
                "detail": "The 'Fax Messaging' service is not assigned to the User"
            }
        
        
+ Response 502 (application/json)
    
    + Headers

            Transaction-Id: 1380080943120    

    + Body
    
            {
                "errorCode": "EXTERNAL_API_INVALID_STATE",
                "summary": "External API resource is in an invalid state.",
                "detail": "The eFax user is in an invalid state (it does not have a phone number)."
            }
            
### Modify Fax Messaging Service Settings [PUT]
Modify BroadWorks User's Fax Messaging service settings. <br />
Rollback-enabled: Yes (only the alternate process)

Processes backing the Modify User Fax Messaging request:
<table border=1>
    <thead>
    <th>Process Name</th>
    <th>Process Type</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>Modify User Fax Messaging (VoIP Entity)</td>
            <td>Base process</td>
            <td>This process is used when the alternate processes are not enabled.<br />
            In the initial implementation the process will always return a 501 Not Implemented response.
            </td>
        </tr>
        <tr>
            <td>eFax Integrated Modify User Fax Messaging (VoIP Entity)</td>
            <td>Alternate process</td>
            <td>This process is enabled by default when the alternate processes are enabled.<br />
            This alternate process is used in the Wit eFax solution component.
            <br/><b>Note:</b> The request will error if the user already has eFax configured.
            </td>
        </tr>
    </tbody>
</table>

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server userId (server-generated) of the user whose Fax Messaging service will be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "User Modify Fax Messaging settings request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "userId"
        ]
    }

### Request Properties

<table border=1>
    <thead>
        <th>Parameter</th>
        <th>Required?</th>
        <th>Default</th>
        <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>isActive</td>
            <td>no</td>
            <td>n/a</td>
            <td>On/Off.<br/><b>None: Not Implemented</b></td>
        </tr>
        <tr>
            <td>phoneNumber</td>
            <td>no</td>
            <td>n/a</td>
            <td>Phone Number.<br/><b>None: Null value is not Implemented</b></td>
        </tr>
        <tr>
            <td>extension</td>
            <td>no</td>
            <td>n/a</td>
            <td>Extension.<br/><b>None: Not Implemented</b></td>
        </tr>
        <tr>
            <td>alias</td>
            <td>no</td>
            <td>n/a</td>
            <td>List of aliases.<br/><b>None: Not Implemented</b></td>
        </tr>
        <tr>
            <td>email</td>
            <td>no</td>
            <td>n/a</td>
            <td>eFax user email address</td>
        </tr>
    </tbody>
</table>

+ Request (application/json)
    
    + Body
    
        {
            "phoneNumber": "+1-2005553001",
            "email": "efaxemail@example.com"
        }

    + Schema

        {
           "title": "Request Body Parameters Schema",
           "type": "object",
           "additionalProperties": false,
           "properties": {
              "isActive": {
                 "type": "boolean"
              },
              "phoneNumber": {
                 "type": [
                    "string",
                    "null"
                 ],
                 "minLength": 1,
                 "maxLength": 23,
                 "pattern": "^\\+\\d+-\\d+$"
              },
              "extension": {
                 "type": [
                    "string",
                    "null"
                 ],
                 "minLength": 2,
                 "maxLength": 20,
                 "pattern": "^[0-9]+$"
              },
              "alias": {
                 "type": [
                    "array",
                    "null"
                 ],
                 "maxItems": 3,
                 "items": {
                    "type": "string",
                    "description": "SIP URI",
                    "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                    "minLength": 1,
                    "maxLength": 161
                 }
              },
              "email": {
                type: "string",
                minLength: 1,
                maxLength: 80,
                format: "email"
              }
           }
        }
        
+ Response 204
    
    + Headers

            Transaction-Id: 1380080943120    
        
+ Response 404 (application/json)
    
    + Headers

            Transaction-Id: 1380080943120    

    + Body
    
            {
                "errorCode": "NOT_FOUND",
                "summary": "The server was unable to process your request",
                "detail": "The 'Fax Messaging' service is not assigned to the User"
            }

## User's BroadTouch Business Communicator Desktop - S4B [/api/users/{userId}/services/BroadTouch%20Business%20Communicator%20Desktop%20-%20S4B]

+ Parameters
    + userId: `userExample` (string, required)

### Retrieve User's BroadTouch Business Communicator Desktop - S4B service settings [GET]
Retrieve User's BroadTouch Business Communicator Desktop - S4B service settings.<br />

Process name: Retrieve User's BroadTouch Business Communicator Desktop - S4B<br />

Rollback-enabled: No


+ Response 200 (application/json)

    + Body

        {
          "_links": {
            "self": {
              "href": "/api/users/testuser@example.com/services/BroadTouch%20Business%20Communicator%20Desktop%20-%20S4B"
            },
            "up": {
              "href": "/api/users/testuser@example.com/services"
            },
            "ls:user": {
              "href": "/api/users/testuser@example.com"
            }
          },
          "userId": "testuser@example.com",
          "enabled": true
        }

    + Schema

        {
          "title": "Retrieve User's BroadTouch Business Communicator Desktop - S4B service response",
          "description": "Schema for retrieve User's BroadTouch Business Communicator Desktop - S4B service settings response",
          "type": "object",
          "properties": {
            "_links": {
              "title": "HAL Links",
              "description": "HAL Links",
              "type": "object",
              "properties": {
                "self": {
                  "title": "Self link",
                  "description": "Self link",
                  "$ref": "/hal#/definitions/link"
                },
                "up": {
                  "title": "Up link",
                  "description": "Up link",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:user": {
                  "title": "Link to User",
                  "description": "Link to User",
                  "$ref": "/hal#/definitions/link"
                }
              },
              "required": [
                "self",
                "up",
                "ls:user"
              ]
            },
            "userId": {
              "description": "Generated User ID",
              "$ref": "/base#/definitions/GeneratedId"
            },
            "enabled": {
              "title": "UC One Add-In For S4B setting",
              "description": "UC One Add-In For S4B setting",
              "type": "boolean"
            }
          },
          "required": [
            "_links",
            "userId",
            "enabled"
          ]
        }

+ Response 404 (application/json)

    + Body

            {
              "errorCode": "NOT_FOUND",
              "summary": "The server was unable to process your request",
              "detail": "The 'BroadTouch Business Communicator Desktop - S4B' service is not assigned to the User"
            }

### Modify User's BroadTouch Business Communicator Desktop - S4B service settings [PUT]
Update a User's BroadTouch Business Communicator Desktop - S4B service settings. <br />

Process name: Modify User's BroadTouch Business Communicator Desktop - S4B<br />

Rollback-enabled: No

+ Request (application/json)
    + Body

            {
              "enabled": true
            }

    + Schema

            {
              "title": "Modify User's BroadTouch Business Communicator Desktop - S4B service request",
              "description": "Schema for modify User's BroadTouch Business Communicator Desktop - S4B service settings request",
              "type": "object",
              "properties": {
                "enabled": {
                  "title": "UC-One Add-in For S4B option flag",
                  "description": "UC-One For Add-in option flag",
                  "type": "boolean"
                }
              }
            }

+ Response 200 (application/json)

    + Body

        {
          "_links": {
            "self": {
              "href": "/api/users/testuser@example.com/services/BroadTouch%20Business%20Communicator%20Desktop%20-%20S4B"
            },
            "up": {
              "href": "/api/users/testuser@example.com/services"
            },
            "ls:user": {
              "href": "/api/users/testuser@example.com"
            }
          },
          "userId": "testuser@example.com"
        }

    + Schema

        {
          "title": "Modify User's BroadTouch Business Communicator Desktop - S4B service response",
          "description": "Schema for modify User's BroadTouch Business Communicator Desktop - S4B service settings response",
          "type": "object",
          "properties": {
            "_links": {
              "title": "HAL Links",
              "description": "HAL Links",
              "type": "object",
              "properties": {
                "self": {
                  "title": "Self link",
                  "description": "Self link",
                  "$ref": "/hal#/definitions/link"
                },
                "up": {
                  "title": "Up link",
                  "description": "Up link",
                  "$ref": "/hal#/definitions/link"
                },
                "ls:user": {
                  "title": "Link to User",
                  "description": "Link to User",
                  "$ref": "/hal#/definitions/link"
                }
              },
              "required": [
                "self",
                "up",
                "ls:user"
              ]
            },
            "userId": {
              "description": "Generated User ID",
              "$ref": "/base#/definitions/GeneratedId"
            }
          },
          "required": [
            "_links",
            "userId"
          ]
        }

+ Response 404 (application/json)

    + Body

            {
              "errorCode": "NOT_FOUND",
              "summary": "The server was unable to process your request",
              "detail": "The 'BroadTouch Business Communicator Desktop - S4B' service is not assigned to the User"
            }

<!-- ------------------- VoIP User BroadWorks Mobility Mobile Identity ------------------ -->

# Group VoIP User BroadWorks Mobility Mobile Identity
Supported network elements:

* LWS-SOAP
* BroadWorks Application Server

Keys:

* userId
* mobileIdentityId

Extension Keys:

* (none)

## User's BroadWorks Mobility Mobile Identities Collection [/api/users/{userId}/services/BroadWorks%20Mobility/mobile-identities]

+ Parameters
    + userId: `userExample` (string, required)

### Create a Mobile Identity [POST]
Create a BroadWorks Mobility Mobile Identity for the specified VoIP User.<br />
The underlying LWS-SOAP implementation supports only a single mobile identity per user.
If the user already has a mobile identity, this request will delete their primary mobile identity and replace it
with a new one for the phone number from the inputs, rather than adding an additional mobile identity to the user.
The Phone Number is automatically added (by LWS-SOAP) to the Enterprise and/or Group MSDN Pool, if needed,
before creating the mobile identity.<br />
Note: This request also enables / disables the BroadWorks Mobility Service for the user according to the "isActive" property from config section: broadworks/userServices/service[name=â€œBroadWorks Mobilityâ€]/settings.<br />
Process name: Create BroadWorks Mobility Mobile Identity via LWS-SOAP (VoIP Entity)<br />
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the User.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Create a BroadWorks Mobility Mobile Identity for the specified VoIP User URI template properties",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "userId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>name</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Suggested resource ID. <br />Must be a mobile phone number.</td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>BroadWorks mobile phone number.<br />
                            <b>Note</b>: If present, it overrides the the generated value from the "name" property.
                            </td>
                        </tr>
        <tr>
            <td>description</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Description of Mobile Identity.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>isPrimary</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Primary Mobile Identity.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>enableAlerting</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Enable Alerting.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>alertAgentCalls</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Alert for Agent Calls.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>alertClickToDialCalls</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Alert for Click To Dial Calls.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>alertGroupPagingCalls</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Alert for Group Paging Calls.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>useMobilityCallingLineID</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Use Mobility Calling Line ID.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>enableDiversionInhibitor</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Enable Diversion Inhibitor<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>requireAnswerConfirmation</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Require Answer Confirmation.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>broadworksCallControl</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Use BroadWorks-based Call Control Services.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>useSettingLevel</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Setting Level.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>deny</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td></td></tr>
                        <tr>
                            <td>deny.callOriginations</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Deny Call Originations.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>deny.callTerminations</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Deny Call Terminations.<br />
                            <b>Not Implemented</b></td>
                        </tr>
        <tr>
            <td>devicesToRing</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Devices to Ring.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>include</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for inclusion properties.<br />
                <b>Not Implemented</b><br />
                Details of the inslusion properties:</td></tr>
                        <tr>
                            <td>include.sharedCallAppearance</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Include Shared Call Appearance.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>include.broadworksAnywhere</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Include BroadWorks Anywhere.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>include.executiveAssistant</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Include Executive Assistant.<br />
                            <b>Not Implemented</b></td>
                        </tr>
        <tr>
            <td>mobileNumberAlerted</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Mobile Identity Alerted container.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>enableCallAnchoring</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Enable Call Anchoring.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>timeSchedule</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for Time Schedule properties.<br />
                <b>Not Implemented</b></td></tr>
                        <tr>
                            <td>timeSchedule.scheduleKey</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>
                                Container for a Schedule Key properties.<br />
                                <b>Not Implemented</b></td></tr>
                                        <tr>
                                            <td>timeSchedule.scheduleKey.scheduleName</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Time Schedule Name.<br />
                                            <b>Not Implemented</b></td>
                                        </tr>
                                        <tr>
                                            <td>timeSchedule.scheduleKey.scheduleType</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Time Schedule Type.<br />
                                            <b>Not Implemented</b></td>
                                        </tr>
                        <tr>
                            <td>timeSchedule.scheduleLevel</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Time Schedule Level.<br />
                            <b>Not Implemented</b></td>
                        </tr>
        <tr>
            <td>holidaySchedule</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for Holiday Schedule properties.<br />
                <b>Not Implemented</b></td></tr>
                        <tr>
                            <td>holidaySchedule.scheduleKey</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>
                                Container for a Schedule Key properties.<br />
                                <b>Not Implemented</b></td></tr>
                                        <tr>
                                            <td>holidaySchedule.scheduleKey.scheduleName</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Holiday Schedule Name.<br />
                                            <b>Not Implemented</b></td>
                                        </tr>
                                        <tr>
                                            <td>holidaySchedule.scheduleKey.scheduleType</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Holiday Schedule Type.<br />
                                            <b>Not Implemented</b></td>
                                        </tr>
                        <tr>
                            <td>holidaySchedule.scheduleLevel</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Holiday Schedule Level.<br />
                            <b>Not Implemented</b></td>
                        </tr>
        <tr>
            <td>mobileDevicePassword</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The password for the mobile number, to be used for an eligibility check.<br />
            This property is not used in BroadWorks - it's only here for external orchestration systems to observe it.</td>
        </tr>
        <tr>
            <td>mobileNetworkName</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Name of a BroadWorks Mobility Mobile Network.<br />
            <b>Note:</b> If the "mobileNetworkName" is omitted from the request the config value broadworks / userServices / service (where name is "BroadWorks Mobility") / settings / mobileNetworkName, if not empty, is used.</td>
        </tr>
    </tbody>
</table>

### Response Properties - 201 Created
For the Create BroadWorks Mobility Mobile Identity via LWS-SOAP process besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Mandatory</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Classic Server ID of the User.</td>
        </tr>
        <tr>
            <td>mobileIdentityId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Classic Server ID of the Mobile Identity.</td>
        </tr>
        <tr>
            <td>mobileNetworkName</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>BroadWorks Mobility Mobile Network.</td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>
                Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>BroadWorks mobile phone number.</td>
                        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "name": "+1-9876543210",
                "mobileDevicePassword": "Example Password",
                "mobileNetworkName": "Example Network Name",
                "extensions": {
                    "broadworks": {
                        "resourceId": "+1-9876543210"
                    }
                }
            }

    + Schema

            {
               "title": "Create a BroadWorks Mobility Mobile Identity for the specified VoIP User request body properties",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "name": {
                     "id": "E.164 DN",
                     "type": "string",
                     "description": "A formatted TN.",
                     "pattern": "^\\+\\d+-\\d+$",
                     "minLength": 1,
                     "maxLength": 23
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "id": "E.164 DN",
                                 "type": "string",
                                 "description": "A formatted TN.",
                                 "pattern": "^\\+\\d+-\\d+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              }
                           }
                        }
                     }
                  },
                  "mobileDevicePassword": {
                     "type": "string",
                     "minLength": 1
                  },
                  "mobileNetworkName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "description": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "isPrimary": {
                     "type": "boolean"
                  },
                  "enableAlerting": {
                     "type": "boolean"
                  },
                  "alertAgentCalls": {
                     "type": "boolean"
                  },
                  "alertClickToDialCalls": {
                     "type": "boolean"
                  },
                  "alertGroupPagingCalls": {
                     "type": "boolean"
                  },
                  "useMobilityCallingLineID": {
                     "type": "boolean"
                  },
                  "enableDiversionInhibitor": {
                     "type": "boolean"
                  },
                  "requireAnswerConfirmation": {
                     "type": "boolean"
                  },
                  "broadworksCallControl": {
                     "type": "boolean"
                  },
                  "useSettingLevel": {
                     "enum": [
                        "Group",
                        "User"
                     ]
                  },
                  "deny": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "callOriginations": {
                           "type": "boolean"
                        },
                        "callTerminations": {
                           "type": "boolean"
                        }
                     }
                  },
                  "devicesToRing": {
                     "enum": [
                        "Fixed",
                        "Mobile",
                        "Both"
                     ]
                  },
                  "include": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "sharedCallAppearance": {
                           "type": "boolean"
                        },
                        "broadworksAnywhere": {
                           "type": "boolean"
                        },
                        "executiveAssistant": {
                           "type": "boolean"
                        }
                     }
                  },
                  "mobileNumberAlerted": {
                     "type": "array",
                     "items": {
                        "id": "E.164 DN",
                        "type": "string",
                        "description": "A formatted TN.",
                        "pattern": "^\\+\\d+-\\d+$",
                        "minLength": 1,
                        "maxLength": 23
                     }
                  },
                  "timeSchedule": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "scheduleKey": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "scheduleName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 40
                              },
                              "scheduleType": {
                                 "enum": [
                                    "Holiday",
                                    "Time"
                                 ]
                              }
                           }
                        },
                        "scheduleLevel": {
                           "enum": [
                              "Service Provider",
                              "Group",
                              "User"
                           ]
                        }
                     }
                  },
                  "holidaySchedule": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "scheduleKey": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "scheduleName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 40
                              },
                              "scheduleType": {
                                 "enum": [
                                    "Holiday",
                                    "Time"
                                 ]
                              }
                           }
                        },
                        "scheduleLevel": {
                           "enum": [
                              "Service Provider",
                              "Group",
                              "User"
                           ]
                        }
                     }
                  }
               },
               "required": [
                  "name"
               ]
            }

+ Response 201 (application/hal+json)
    + Headers

            Location: http://classicserver.example.com/api/users/2005553001%40example.com/BroadWorks%20Mobility/mobile-identities/%2B1-9876543210
            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http:\/\/classicserver.example.com\/api\/users\/2005553001%40example.com\/BroadWorks%20Mobility\/mobile-identities\/%2B1-9876543210"
                    }
                },
                "userId": "2005553001@example.com",
                "mobileIdentityId": "+1-9876543210",
                "mobileNetworkName": "Example Network Name",
                "extensions": {
                    "broadworks": {
                        "resourceId": "+1-9876543210"
                    }
                }
            }

    + Schema

            {
               "title": "Create a BroadWorks Mobility Mobile Identity for the specified VoIP User response properties",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "userId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "mobileIdentityId": {
                     "id": "E.164 DN",
                     "type": "string",
                     "description": "A formatted TN.",
                     "pattern": "^\\+\\d+-\\d+$",
                     "minLength": 1,
                     "maxLength": 23
                  },
                  "mobileNetworkName": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 80
                  },
                  "extensions": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "id": "E.164 DN",
                                 "type": "string",
                                 "description": "A formatted TN.",
                                 "pattern": "^\\+\\d+-\\d+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "userId",
                  "mobileIdentityId",
                  "mobileNetworkName",
                  "extensions"
               ]
            }

## User's BroadWorks Mobility Mobile Identity [/api/users/{userId}/services/BroadWorks%20Mobility/mobile-identities/{mobileIdentityId}]

+ Parameters
    + userId: `userExample` (string, required)
    + mobileIdentityId: `mobileIdentityExample` (string, required)

### Delete a Mobile Identity [DELETE]
Delete the specified BroadWorks Mobility Mobile Identity of the specified VoIP User.<br />
Initial implementation will not check if the requested Mobile Identity exists.<br />
The underlying LWS-SOAP request supports only a single mobile identity per user.
Thus this request will always delete the user's primary mobile identity, whether or not it matches the
phone number from the inputs. The Phone Number is automatically removed (by LWS-SOAP) from the
Enterprise and/or Group MSDN Pools.<br />
Process name: Delete BroadWorks Mobility Mobile Identity via LWS-SOAP (VoIP Entity)<br />
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>userId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the User.</td>
        </tr>
        <tr>
            <td>mobileIdentityId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID of the Mobile Identity.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Delete the specified User BroadWorks Mobility Mobile Identity URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "userId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            },
            "mobileIdentityId": {
                "id": "E.164 DN",
                "type": "string",
                "description": "A formatted TN.",
                "pattern": "^\\+\\d+-\\d+$",
                "minLength": 1,
                "maxLength": 23
            }
        },
        "required": [
            "userId",
            "mobileIdentityId"
        ]
    }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": null,
                "externalErrorSummary": "Error modifying user: example@exmapledomain.com.",
                "externalErrorDetail": "User Modify Failed. BroadWorks Mobility pre-validation error:Error updating service: BroadWorks Mobility. User [example@exmapledomain.com] does not have BroadWorks Mobility service assigned."
            }

<!-- ----------------------- VoIP Site Auto Attendant --------------------- -->

# Group VoIP Site Auto Attendant
Supported network elements:

* LWS-SOAP
* BroadWorks Application Server

Keys:

* autoAttendantId

Extension Keys:

* (none)

## VoIP Auto Attendants Collection [/api/auto-attendants{?mode}]

+ Parameters
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

### Create a VoIP Auto Attendant [POST]
Create a new VoIP Auto Attendant.<br />
Process name: Create Auto Attendant (VoIP Entity)<br />
Rollback-enabled: No

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Controls execution mode.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Create Site Auto Attendant request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the new VoIP Auto Attendant is to be created.
            In a default configuration (where a VoIP Auto Attendant is composed of BroadWorks entities only),
            this property can be omitted if extensions.broadworks.serviceProviderId is populated.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site in which the new VoIP Auto Attendant is to be created.
            In a default configuration (where a VoIP Auto Attendant is composed of BroadWorks entities only),
            this property can be omitted if extensions.broadworks.groupId is populated.</td>
        </tr>
        <tr>
            <td>name</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The clients suggested name for the resource. <br />
            It is used for constructing the BroadWorks Auto Attendant ID.<br />
            <b>Note: If both "name" and "extensions.broadworks.resourceId" are omitted then the userId of the virtual user will be auto-generated.</b>
            </td>
        </tr>
        <tr>
            <td>profile</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Container for Profile information.</td></tr>
                        <tr>
                            <td>profile.name</td>
                            <td style="text-align: center;">yes</td>
                            <td>n/a</td>
                            <td>Name</td>
                        </tr>
                        <tr>
                            <td>profile.callingLineId</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>
                                Container for Calling Line ID information.<br />
                                <b>Not Implemented</b></td></tr>
                                        <tr>
                                            <td>profile.callingLineId.firstName</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID First Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.lastName</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID Last Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.phoneNumber</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID Phone Number.</td>
                                        </tr>
                        <tr>
                            <td>profile.phoneNumber</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Phone Number.</td>
                        </tr>
                        <tr>
                            <td>tnRoutine</td>
                            <td style="text-align: center;">no</td>
                            <td>"" (empty string)</td>
                            <td>Phone Number (TN) assignment routine.<br />
                            Supported values and impact on other required properties:
                                  <ul>
                                    <li><b>port-no-temp</b> - TN does not exist in the system; will attempt to assign at both the Customer and Site levels. </li>
                                    <li><b>auto</b> - TN may or may not already exist in the system; will be assigned automatically to either/both as needed.</li>
                                    <li><b>"" (empty string) </b>- TN will not be assigned automatically</li>
                                 </ul>
                               </td>
                        </tr>
                        <tr>
                            <td>profile.extension</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Extension.</td>
                        </tr>
                        <tr>
                            <td>profile.password</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Password.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.department</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Department.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.language</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Language.</td>
                        </tr>
                        <tr>
                            <td>profile.timeZone</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Time Zone expressed as a Zone Name from the IANA Time Zone Database, e.g. "America/New_York".</td>
                        </tr>
                        <tr>
                            <td>profile.alias</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>List of possible SIP URIs aliases of the Virtual User.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.publicServiceIdentity</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Public User Identity SIP URI for the Virtual User.<br />
                            <b>Not Implemented</b></td>
                        </tr>
        <tr>
            <td>type</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Basic</td>
            <td>The type of the Auto Attendant. Allowed values: "Basic", "Standard".</td>
        </tr>
        <tr>
            <td>firstDigitTimeoutSeconds</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Time allowed for initial user input to Auto Attendant main menu.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>enableVideo</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>false</td>
            <td><b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>businessHours</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for business hours settings. <b>Not Implemented</b></td></tr>
                        <tr>
                            <td>businessHours.type</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>n/a</td>
                            <td>Schedule access level.</td>
                        </tr>
                        <tr>
                            <td>businessHours.name</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>n/a</td>
                            <td>Schedule name.</td>
                        </tr>
        <tr>
            <td>holidaySchedule</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for holiday schedule settings. <b>Not Implemented</b></td></tr>
                        <tr>
                            <td>holidaySchedule.type</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>n/a</td>
                            <td>Schedule access level.</td>
                        </tr>
                        <tr>
                            <td>holidaySchedule.name</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>n/a</td>
                            <td>Schedule name.</td>
                        </tr>
        <tr>
            <td>extensionDialingScope</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Group</td>
            <td>The scope of extension or name dialing.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>nameDialingScope</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Group</td>
            <td>The name of dialing scope.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>nameDialingEntries</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>LastName + FirstName</td>
            <td>The format callers should use when dialing by name.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>businessHoursMenu</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The configuration of the automated receptionist greeting prompt and dialing menu to be used during business hours.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>afterHoursMenu</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The configuration of the automated receptionist greeting prompt and dialing menu to be used after business hours.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>holidayMenu</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The configuration of the automated receptionist greeting prompt and dialing menu to be used during the holiday.<br />
            Note: This element is valid only for "Standard" Auto Attendands.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>networkClassOfService</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Network Class of Service name.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>services</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for list of services and their configuration settings to be assigned to the virtual user.<br />
            Note: Initial release does not support service configuration.<br />
            To assign a service without doing any configuration, set the value to an empty object, e.g.
            <code>"services" : { "Remote Office" : { } }</code>.<br />
            </td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.serviceProviderId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>ID of the BroadWorks service provider or enterprse in which the underlying BroadWorks Virtual User is to be created.
                            In a default configuration (where a VoIP Virtual User is composed of BroadWorks entities only),
                            this property can be used instead of customerId (eliminating the need to know the server-generated customerId
                            prior to placing this request).</td>
                        </tr>
                        <tr>
                            <td>extensions.broadworks.groupId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>ID of the BroadWorks group in which the underlying BroadWorks Virtual User is to be created.
                            In a default configuration (where a VoIP Virtual User is composed of BroadWorks entities only),
                            this property can be used instead of customerId (eliminating the need to know the server-generated customerId
                            prior to placing this request).
                            </td>
                        </tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>The ID to be set on the new virtual user. <br />
                            <b>Note: If provided it overrides the value generated from the "name" property.</b><br />
                            <b>If both "name" and "extensions.broadworks.resourceId" are omitted then the userId of the virtual user will be auto-generated.</b>
                            </td>
                        </tr>
    </tbody>
</table>

### Response Properties - 201 Created
Note: The Create Auto Attendant process will return a 502 response when LWS-SOAP is misconfigured ("enhancedLwsSoapResponsesEnable" config parameter is set to false).<br />
For the Create Auto Attendant process besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Mandatory</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>autoAttendantId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>The Classic Server ID of the new Auto Attendant user.</td>
        </tr>
        <tr>
            <td>profile</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>
                Container for Profile information.</td></tr>
                        <tr>
                            <td>profile.callingLineId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>
                                Container for Calling Line ID information.</td></tr>
                                        <tr>
                                            <td>profile.callingLineId.firstName</td>
                                            <td style="text-align: center; font-weight:bold">yes</td>
                                            <td>Calling Line ID First Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.lastName</td>
                                            <td style="text-align: center; font-weight:bold">yes</td>
                                            <td>Calling Line ID Last Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                        <tr>
                            <td>profile.extension</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Extension.</td>
                        </tr>
                        <tr>
                            <td>profile.publicServiceIdentity</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Public User Identity SIP URI for the Virtual User.</td>
                        </tr>
        <tr>
            <td>uniqueId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Unique asset value.</td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>
                Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>The ID set on the new virtual user.</td>
                        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "customerId": "Example Com",
                "siteId": "Example Com - North",
                "name": "5551239876@example.com",
                "extensions": {
                    "broadworks": {
                        "resourceId": "5551239876@example.com"
                    }
                },
                "profile": {
                    "name": "My Auto Attendant",
                    "phoneNumber": "+1-5551239876",
                    "extension": "9876",
                    "language": "English",
                    "timeZone": " America\/New_York"
                },
                "type": "Standard",
                "services": {
                    "Alternate Numbers": {},
                    "Basic Call Logs": {}
                }
            }

    + Schema

            {
               "title": "Create Site Auto Attendant request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "name": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "extensions": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "serviceProviderId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "groupId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           }
                        }
                     }
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "phoneNumber": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^\\+\\d+-\\d+$"
                              }
                           }
                        },
                        "phoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 23,
                           "pattern": "^\\+\\d+-\\d+$"
                        },
                        "tnRoutine": {
                           "enum": [
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        },
                        "extension": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "password": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 60
                        },
                        "department": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "alias": {
                           "type": "array",
                           "maxItems": 3,
                           "items": {
                              "type": "string",
                              "description": "SIP URI",
                              "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                              "minLength": 1,
                              "maxLength": 161
                           }
                        },
                        "publicServiceIdentity": {
                           "type": "string",
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     },
                     "required": [
                        "name"
                     ]
                  },
                  "networkClassOfService": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "services": {
                     "type": "object",
                     "patternproperties": {
                        "^.+$": {
                           "type": "object"
                        }
                     }
                  },
                  "type": {
                     "enum": [
                        "Basic",
                        "Standard"
                     ]
                  },
                  "firstDigitTimeoutSeconds": {
                     "type": "integer",
                     "minimum": 1,
                     "maximum": 60
                  },
                  "enableVideo": {
                     "type": "boolean"
                  },
                  "businessHours": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "type": {
                           "enum": [
                              "Service Provider",
                              "Group",
                              "User"
                           ]
                        },
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        }
                     },
                     "required": [
                        "type",
                        "name"
                     ]
                  },
                  "holidaySchedule": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "type": {
                           "enum": [
                              "Service Provider",
                              "Group",
                              "User"
                           ]
                        },
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        }
                     },
                     "required": [
                        "type",
                        "name"
                     ]
                  },
                  "extensionDialingScope": {
                     "enum": [
                        "Service Provider",
                        "Group",
                        "Department"
                     ]
                  },
                  "nameDialingScope": {
                     "enum": [
                        "Service Provider",
                        "Group",
                        "Department"
                     ]
                  },
                  "nameDialingEntries": {
                     "enum": [
                        "LastName + FirstName",
                        "LastName + FirstName or FirstName + LastName"
                     ]
                  },
                  "businessHoursMenu": {
                     "type": "object",
                     "additionalProperties": false
                  },
                  "afterHoursMenu": {
                     "type": "object",
                     "additionalProperties": false
                  },
                  "holidayMenu": {
                     "type": "object",
                     "additionalProperties": false
                  }
               },
               "required": [
                  "profile"
               ]
            }

+ Response 201 (application/hal+json)
    + Headers

            Location: http://classicserver.example.com/api/auto-attendants/5551239876%40example.com
            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http:\/\/classicserver.example.com\/api\/auto-attendants\/5551239876%40example.com"
                    }
                },
                "autoAttendantId": "5551239876@example.com",
                "profile": {
                    "callingLineId": {
                        "lastName": "My Auto Attendant",
                        "firstName": "My Auto Attendant"
                    },
                    "publicServiceIdentity": "5551239876@example.com",
                    "extension": "9876"
                },
                "uniqueId": "138008094312098236",
                "extensions": {
                    "broadworks": {
                        "resourceId": "5551239876@example.com"
                    }
                }
            }

    + Schema

            {
               "title": "Create Site Auto Attendant response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "autoAttendantId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              }
                           },
                           "required": [
                              "lastName",
                              "firstName"
                           ]
                        },
                        "extension": {
                           "type": "string",
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "publicServiceIdentity": {
                           "type": "string",
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     },
                     "required": [
                        "callingLineId"
                     ]
                  },
                  "uniqueId": {
                     "type": "string",
                     "minLength": 18,
                     "maxLength": 18,
                     "pattern": "^\\d+$"
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "autoAttendantId",
                  "profile",
                  "extensions"
               ]
            }

+ Response 422 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "SEMANTIC_ERROR",
                "summary": "The server was unable to process your request",
                "detail": "Either customerId or extensions.broadworks.serviceProviderId is required when creating a VoIP Auto Attendant.Either siteId or extensions.broadworks.groupId is required when creating a VoIP Auto Attendant."
            }

+ Response 502 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_SERVER_ERROR",
                "summary": "Unexpected response from remote API",
                "detail": "LWS-SOAP: Received unexpected response: 'SuccessResponse'"
            }

## VoIP Auto Attendant [/api/auto-attendants/{autoAttendantId}]

+ Parameters
    + autoAttendantId: `autoAttendantExample` (string, required)

### Delete a VoIP Auto Attendant [DELETE]
Delete a VoIP Auto Attendant.<br />
Process name: Delete Auto Attendant (VoIP Entity)<br />
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>autoAttendantId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server autoAttendantId (server-generated) of the Auto Attendant to be deleted.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Delete Auto Attendant request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "autoAttendantId": {
                "type": "string",
                "description": "The Auto Attendant Id must have the domain, but that is not enforced by validation",
                "minLength": 1,
                "maxLength": 161
            }
        },
        "required": [
            "autoAttendantId"
        ]
    }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4008",
                "externalErrorSummary": "Error",
                "externalErrorDetail": "[Error 4008] User not found: autoAttendantTest"
            }

## VoIP Auto Attendant's Assigned Services [/api/customers/{customerId}/sites/{siteId}/auto-attendants/{autoAttendantId}/services/assigned-services]

+ Parameters
    + customerId: `customerExample` (string, required)
    + autoAttendantId: `autoAttendantExample` (string, required)
    + siteId: `siteExample` (string, required)

### Update Assigned Services [PUT]
Request modifies list of assigned services on specified Auto Attendant.<br />
Process Name: Set Auto Attendant Services (VoIP Entity)<br />
Rollback-enabled:  No<br />
<b>Note</b>: Initial implementation will not check if the Auto Attendant actually exists in the provided Customer and Site and also it does not actually check that the user type you are altering is actually an Auto Attendant

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Customer.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Site.</td>
        </tr>
        <tr>
            <td>autoAttendantId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Auto Attendant to be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "autoAttendantId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "autoAttendantId"
        ]
    }

### Request Properties
<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>services</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Array of user services.</td>
        </tr>
        <tr>
            <td>services[]</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td><b>Note</b>: service name should be valid BroadWorks service name, available for assignment in the BroadWorks system that is configured for operations. <br />
            Classic Server does not do reverse mapping of BroadWorks service names (for example, "BroadTouch Business Communicator Desktop - Audio" is label and corresponding service name is "Client License 18"). See "BroadWorks Reverse License Mapping" document for details. <br />
            Classic Server will not pre-validate service name correctness.
Providing invalid service name will result in LWS-SOAP request validation error.</td>
        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "services": [
                    "Authentication",
                    "Alternate Numbers"
                ]
            }

    + Schema

            {
               "title": "User services assignment request body schema",
               "type": "object",
               "properties": {
                  "services": {
                     "type": "array",
                     "items": {
                        "type": "string",
                        "minLength": 1
                     }
                  }
               },
               "required": [
                  "services"
               ]
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "summary": "Some services could not be assigned. No services were un-assigned",
                "externalErrorCode": null,
                "externalErrorSummary": "User service assignment failed. Some services were not assigned:",
                "externalErrorDetail": "Authentication: Service is not assignable."
            }

## Site's VoIP Auto Attendant [/api/customers/{customerId}/sites/{siteId}/auto-attendants/{autoAttendantId}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + autoAttendantId: `autoAttendantExample` (string, required)

### Modify a VoIP Auto Attendant [PUT]
Update Auto Attendant instance.<br/>
Process Name: Modify Auto Attendant via LWS-SOAP (VoIP Entity)<br/>
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>customerId</td><td>yes</td><td>n/a</td><td>Classic Server customerId (server-generated) of the Customer</td></tr>
    <tr><td>siteId</td><td>yes</td><td>n/a</td><td>Classic Server siteId (server-generated) of the Site</td></tr>
    <tr><td>autoAttendantId</td><td>yes</td><td>n/a</td><td>Classic Server autoAttendantId of the Auto Attendant instance</td></tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters
    {
        "title": "URI Template Parameters",
        "required": [
            "customerId",
            "siteId",
            "autoAttendantId"
        ],
        "properties": {
            "customerId": {
                "title": "Classic Server customerId (server-generated) of the Customer",
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "title": "Classic Server siteId (server-generated) of the Site",
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "autoAttendantId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 161,
                "title": "Classic Server autoAttendantId of the Auto Attendant instance"
            }
        }
    }

### Request Properties
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>profile</td><td>no</td><td>n/a</td><td>Container for Virtual User Profile settings.
    <tr>
        <td>profile.name</td>
        <td>no</td>
        <td>n/a</td>
        <td>The profile name of the virtual user.</td>
    </tr>
    <tr>
        <td>profile.callingLineId</td>
        <td>no</td>
        <td>n/a</td>
        <td></td></tr>
                    <tr>
                        <td>profile.callingLineId.lastName</td>
                        <td>no</td>
                        <td>n/a</td>
                        <td>Calling line Id last name.<br />
                            <b>Note:</b> The callingLineId last name will be updated with the name value 
                            if the name is present in the request and the callingLineId last name is not.
                        </td>
                    </tr>
                    <tr>
                        <td>profile.callingLineId.firstName</td>
                        <td>no</td>
                        <td>n/a</td>
                        <td>Calling line Id first name.<br />
                            <b>Note:</b> The callingLineId first name will be updated with the name value 
                            if the name is present in the request and the callingLineId first name is not.
                        </td>
                    </tr>
                    <tr>
                        <td>profile.callingLineId.phoneNumber</td>
                        <td>no</td>
                        <td>n/a</td>
                        <td>An E.164-formatted TN<br />
                            <b>Not Implemented</b></td>
                    </tr>
    <tr>
        <td>profile.phoneNumber</td>
        <td>no</td>
        <td>n/a</td>
        <td>An E.164-formatted TN</td>
    </tr>
    <tr>
        <td>profile.tnRoutine</td>
        <td>no</td>
        <td>n/a</td>
        <td>Phone Number add routine to apply.<br />
        <b>Note:</b> â€œautoâ€ and â€œno-numberâ€ values will not be implemented in initial release
        </td>
    </tr>
    <tr>
        <td>profile.extension</td>
        <td>no</td>
        <td>n/a</td>
        <td>Extension</td>
    </tr>
    <tr>
        <td>profile.password</td>
        <td>no</td>
        <td>n/a</td>
        <td>Password for virtual user.<br />
            <b>Not Implemented</b></td>
    </tr>
    <tr>
        <td>profile.department</td>
        <td>no</td>
        <td>n/a</td>
        <td>Department<br />
            <b>Not Implemented</b></td>
    </tr>
    <tr>
        <td>profile.language</td>
        <td>no</td>
        <td>n/a</td>
        <td>Language<br />
            <b>Not Implemented</b></td>
    </tr>
    <tr>
        <td>profile.timeZone</td>
        <td>no</td>
        <td>n/a</td>
        <td>Timezone<br />
            <b>Not Implemented</b></td>
    </tr>
    <tr>
        <td>profile.alias</td>
        <td>no</td>
        <td>n/a</td>
        <td>Virtual user aliases<br />
            <b>Not Implemented</b></td>
    </tr>
    <tr>
        <td>profile.publicServiceIdentity</td>
        <td>no</td>
        <td>n/a</td>
        <td>Public user identity<br />
            <b>Not Implemented</b></td>
    </tr>
        <td>firstDigitTimeoutSeconds</td>
        <td>no</td>
        <td>n/a</td>
        <td>Time allowed for initial user input to Auto Attendant main menu.<br />
            <b>Not Implemented</b></td>
    </tr>
    <tr>
        <td>enableVideo</td>
        <td>no</td>
        <td>n/a</td>
        <td>Enable video<br />
            <b>Not Implemented</b></td>
    </tr>
    <tr>
        <td>businessHours</td>
        <td>no</td>
        <td>n/a</td>
        <td>
            Container for business hours settings.<br />
            <b>Not Implemented</b></td></tr>
                <tr><td>businessHours.type</td><td>yes</td><td>n/a</td><td>Schedule access level</td></tr>
                <tr><td>businessHours.name</td><td>yes</td><td>n/a</td><td>Schedule name</td></tr>
    </tr>
    <tr>
        <td>holidaySchedule</td>
        <td>no</td>
        <td>n/a</td>
        <td>
            Container for holiday schedule settings.<br />
            <b>Not Implemented</b></td></tr>
                <tr><td>holidaySchedule.type</td><td>yes</td><td>n/a</td><td>Schedule access level</td></tr>
                <tr><td>holidaySchedule.name</td><td>yes</td><td>n/a</td><td>Schedule name</td></tr>
    <tr>
        <td>extensionDialingScope</td>
        <td>no</td>
        <td>n/a</td>
        <td>The scope of extension or name dialing.<br />
            <b>Not Implemented</b></td>
    </tr>
    <tr>
        <td>nameDialingScope</td>
        <td>no</td>
        <td>n/a</td>
        <td>The name of dialing scope.<br />
            <b>Not Implemented</b></td>
    </tr>
    <tr>
        <td>nameDialingEntries</td>
        <td>no</td>
        <td>n/a</td>
        <td>The format callers should use when dialing by name.<br />
            <b>Not Implemented</b></td>
    </tr>
    </tbody>
</table>

### Response Properties - 200 OK
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>autoAttendantId</td><td>yes</td><td>n/a</td><td>Classic Server autoAttendantId of the Auto Attendant instance</td></tr>
        <tr><td>profile</td><td>no</td><td>n/a</td><td>Container for profile settings</td></tr>
    <tr><td>profile.extension</td><td>no</td><td>n/a</td><td>Extension</td></tr>
    <tr><td>profile.publicServiceIdentity</td><td>no</td><td>n/a</td><td>Public Service Identity</td></tr>
        <tr><td>extensions</td><td>yes</td><td>n/a</td><td>Container for network-element specific properties</td></tr>
        <tr><td>extensions.broadworks</td><td>yes</td><td>n/a</td><td>Container for BroadWorks-specific properties.</td></tr>
    <tr><td>extensions.broadworks.resourceId</td><td>yes</td><td>n/a</td><td></td></tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "profile": {
                    "name": "My Auto Attendant",
                    "callingLineId": {
                        "firstName": "Shoes",
                        "lastName": "Sales"
                    },
                    "phoneNumber": "+1-4150192301",
                    "tnRoutine": "port-no-temp",
                    "extension": "2301"
                }
            }

    + Schema

            {
               "title": "Modify Auto Attendant request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "phoneNumber": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^\\+\\d+-\\d+$"
                              }
                           }
                        },
                        "phoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 23,
                           "pattern": "^\\+\\d+-\\d+$"
                        },
                        "tnRoutine": {
                           "enum": [
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        },
                        "extension": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "password": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 60
                        },
                        "department": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "alias": {
                           "type": "array",
                           "maxItems": 3,
                           "items": {
                              "type": "string",
                              "description": "SIP URI",
                              "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                              "minLength": 1,
                              "maxLength": 161
                           }
                        },
                        "publicServiceIdentity": {
                           "type": "string",
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "firstDigitTimeoutSeconds": {
                     "type": "integer",
                     "minimum": 1,
                     "maximum": 60
                  },
                  "enableVideo": {
                     "type": "boolean"
                  },
                  "businessHours": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "type": {
                           "enum": [
                              "Service Provider",
                              "Group",
                              "User"
                           ]
                        },
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        }
                     },
                     "required": [
                        "type",
                        "name"
                     ]
                  },
                  "holidaySchedule": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "type": {
                           "enum": [
                              "Service Provider",
                              "Group",
                              "User"
                           ]
                        },
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        }
                     },
                     "required": [
                        "type",
                        "name"
                     ]
                  },
                  "extensionDialingScope": {
                     "enum": [
                        "Service Provider",
                        "Group",
                        "Department"
                     ]
                  },
                  "nameDialingScope": {
                     "enum": [
                        "Service Provider",
                        "Group",
                        "Department"
                     ]
                  },
                  "nameDialingEntries": {
                     "enum": [
                        "LastName + FirstName",
                        "LastName + FirstName or FirstName + LastName"
                     ]
                  }
               }
            }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Site/auto-attendants/4151002300"
                    }
                },
                "autoAttendantId": "4151002300",
                "profile": {
                    "extension": "2300",
                    "publicServiceIdentity": "4151002300@voip.example.net"
                },
                "extensions": {
                    "broadworks": {
                        "resourceId": "4151002300"
                    }
                }
            }

    + Schema

            {
               "title": "Modify Auto Attendant response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "autoAttendantId": {
                     "minLength": 1,
                     "maxLength": 161
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "extension": {
                           "type": "string",
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "publicServiceIdentity": {
                           "type": "string",
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "autoAttendantId",
                  "extensions"
               ]
            }

## Auto Attendant's Alternate Numbers Service Settings [/api/customers/{customerId}/sites/{siteId}/auto-attendants/{autoAttendantId}/services/Alternate%20Numbers]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + autoAttendantId: `autoAttendantExample` (string, required)

### Modify Alternate Numbers Service Settings [PUT]
Update a BroadWorks Auto Attendant's Alternate Numbers service settings.<br />

<table border=1>
    <thead>
    <th>Process Name</th>
    <th>Process Type</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>Modify Auto Attendant Alternate Numbers(VoIP Entity)</td>
            <td>Base process</td>
            <td>This process is used when the alternate processes are not enabled. In the initial implementation the process will always return a 501 Not Implemented response.</td>
        </tr>
        <tr>
            <td>Modify Auto Attendant Alternate Numbers via LWS-SOAP (VoIP Entity)</td>
            <td>Alternate Process</td>
            <td>This process is enabled by default when the alternate processes are enabled. In current implementation Auto Attendant's Alternate Numbers service settings are updated using LWS-SOAP ServiceUserAlternateNumbersModifyRequest API call.</td>
        </tr>
    </tbody>
</table>

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Customer.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Site.</td>
        </tr>
        <tr>
            <td>autoAttendantId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Auto Attendant to be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "autoAttendantId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "autoAttendantId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>distinctiveRing</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Distinctive ring setting.</td>
        </tr>
        <tr>
            <td>alternateNumbers</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Container for alternate numbers information. Alternate numbers is an array of entries. </td></tr>
                        <tr>
                            <td>alternateNumbers.id</td>
                            <td>yes</td>
                            <td></td>
                            <td>Alternate Number ID - number of Alt. Num entry in the list.
                                <br/>Allowed values: [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ].
                                <br/><b>Note:</b> The IDs must be provided in ascending order in the request, providing
                                the IDs in a random order will cause the request to fail.
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.tnRoutine</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                TN management routine for provided phone number.<br />
                                <b>Note: at this time only ""(empty string) is allowed.</b><br/>
                                Supported values and impact on other required properties:
                                     <ul>
                                    <li><b>port-no-temp</b> - TN does not exist in the system; will attempt to assign at both the Customer and Site levels. <b>Not Implemented</b></li>
                                    <li><b>auto</b> - TN may or may not already exist in the system; will be assigned automatically to either/both as needed. <b>Not Implemented</b></li>
                                    <li><b>"" (empty string) </b>- TN must already be available for use; no assignment will be performed.</li>
                                         <li>Omitted tnRoutine parameter is same as ""(empty string) tnRoutine value.</li>
                                 </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.phoneNumber</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate phone number.<br/>
                                Must be E.164 formatted, e.g. +1-2005553001 (the dash is required, after the country code).<br/>
                                Accepts also null value. Submitting null will erase phone number in the alternate number entry specified with "id".
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.extension</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate extension.<br/>
                                Accepts also null value. Submitting null will erase extension in the alternate number entry specified with "id".
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.ringPattern</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Ring pattern.<br/>Allowed values: [ null, "Normal", "Long-Long", "Short-Short-Long", "Short-Long-Short" ]. Null is equal to "Normal".<br/>
                                <b>Note:</b> Ring pattern does not have meaning when phone number and extension are both empty, and will be ignored in this case.
                            </td>
                        </tr>
                         <tr>
                            <td>alternateNumbers.description</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate number entity description.<br/>
                                <b>Not Implemented</b>
                            </td>
                        </tr>
    </tbody>
</table>

### Response Properties - 200 OK
Besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.<br />
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Description</th>
    <th>Mandatory</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td>Customer Id.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>siteId</td>
            <td>Site Id.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>autoAttendantId</td>
            <td>Auto Attendant Id.</td>
            <td>Yes</td>
       </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "distinctiveRing": false,
                "alternateNumbers": [
                    {
                        "id": 1,
                        "tnRoutine": "",
                        "phoneNumber": "+1-4125553000",
                        "extension": "3000",
                        "ringPattern": "Long-Long"
                    },
                    {
                        "id": 5,
                        "extension": "3005",
                        "ringPattern": "Long-Long"
                    }
                ]
            }

    + Schema

            {
               "title": "Auto Attendant Alternate Numbers Modify request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "distinctiveRing": {
                     "type": "boolean"
                  },
                  "alternateNumbers": {
                     "type": "array",
                     "maxItems": 10,
                     "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                           "id": {
                              "type": "integer",
                              "min": 1,
                              "max": 10
                           },
                           "tnRoutine": {
                              "enum": [
                                 "",
                                 "port-no-temp",
                                 "auto"
                              ]
                           },
                           "phoneNumber": {
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "minLength": 1,
                              "maxLength": 23,
                              "pattern": "^\\+\\d+-\\d+$"
                           },
                           "extension": {
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "minLength": 2,
                              "maxLength": 20,
                              "pattern": "^[0-9]+$"
                           },
                           "ringPattern": {
                              "enum": [
                                 null,
                                 "Normal",
                                 "Long-Long",
                                 "Short-Short-Long",
                                 "Short-Long-Short"
                              ]
                           }
                        },
                        "required": [
                           "id"
                        ]
                     }
                  }
               }
            }

+ Response 200
    + Headers

            Transaction-Id: 1380080943120
    
    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://ucserver.example.net/api/customers/Example%20Com/sites/Example%20Site/auto-attendants/4151002300/services/Alternate%20Numbers"
                    }
                },
                "customerId": "Example Com",
                "siteId": "Example Site",
                "autoAttendantId": "4151002300"
            }
            
    + Schema
    
            {
                "title": "Auto Attendantâ€™s Alternate Number settings modify response body parameters",
                "required": ["_links", "customerId", "siteId", "autoAttendantId"],
                "properties": {
                    "_links": {
                        "required": ["self"]
                    },
                    "customerId": {
                        "title": "Customer ID",
                        "description": "Uniquely identifies a service provider. NOTE: The service provider id has a maximum length of 30 bytes, not 30 characters.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 30
                    },
                    "siteId": {
                        "title": "Site ID",
                        "description": "Site Id identifies a group within a customer.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 30
                    },
                    "autoAttendantId": {
                        "title": "User ID",
                        "description": "A user id consists of a user-portion optionally followed by an @ sign and a domain name. If the domain is not specified, it is assumed to be the system default domain. The domain is required when adding normal users and virtual users, i.e. Auto Attendants, Hunt Groups, Call Centers.... The domain must not be specified for system-level and service-provider-level administrators.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 161
                    }
                }
            }



+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4410",
                "externalErrorSummary": "Alternate Numbers error",
                "externalErrorDetail": "[Error 4410] Service is not assigned to this subscriber: Alternate Numbers"
            }


<!-- -------------------------- VoIP Site Hunt Group ------------------------ -->

# Group VoIP Site Hunt Group
Supported network elements:

* LWS-SOAP
* BroadWorks Application Server

Keys:

* huntGroupId

Extension Keys:

* (none)

## VoIP Hunt Groups Collection [/api/hunt-groups{?mode}]

+ Parameters
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

### Create a VoIP Hunt Group [POST]
Create a new VoIP Hunt Group.<br />
Process name: Create Hunt Group (VoIP Entity)<br />
Rollback-enabled: No

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Controls execution mode.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters
    {
        "title": "Create Site Hunt Group request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the new VoIP Hunt Group is to be created.
            In a default configuration (where a VoIP Hunt Group is composed of BroadWorks entities only),
            this property can be omitted if extensions.broadworks.serviceProviderId is populated.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site in which the new VoIP Hunt Group is to be created.
            In a default configuration (where a VoIP Hunt Group is composed of BroadWorks entities only),
            this property can be omitted if extensions.broadworks.groupId is populated.</td>
        </tr>
        <tr>
            <td>name</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The clients suggested name for the resource. <br />
            It is used for constructing the BroadWorks Hunt Group ID.<br />
            <b>Note: If both "name" and "extensions.broadworks.resourceId" are omitted then the userId of the virtual user will be auto-generated.</b>
            </td>
        </tr>
        <tr>
            <td>profile</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>
                Container for Profile information.</td></tr>
                        <tr>
                            <td>profile.name</td>
                            <td style="text-align: center;">yes</td>
                            <td>n/a</td>
                            <td>Name</td>
                        </tr>
                        <tr>
                            <td>profile.callingLineId</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>
                                Container for Calling Line ID information.<br />
                                <b>Not Implemented</b></td></tr>
                                        <tr>
                                            <td>profile.callingLineId.firstName</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID First Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.lastName</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID Last Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.phoneNumber</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID Phone Number.</td>
                                        </tr>
                        <tr>
                            <td>profile.phoneNumber</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Phone Number.</td>
                        </tr>
                        <tr>
                            <td>profile.tnRoutine</td>
                            <td style="text-align: center;">no</td>
                            <td>"" (empty string)</td>
                            <td>Phone Number (TN) assignment routine.<br />
                            Supported values and impact on other required properties:
                        <ul>
                                    <li><b>port-no-temp</b> - TN does not exist in the system; will attempt to assign at both the Customer and Site levels.</li>
                                    <li><b>auto</b> - TN may or may not already exist in the system; will be assigned automatically to either/both as needed. <b>Not Implemented</b></li>
                                    <li><b>"" (empty string) </b>- TN will not be assigned automatically</li>
                                 </ul>
                              </td>
                        </tr>
                        <tr>
                            <td>profile.extension</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Extension.</td>
                        </tr>
                        <tr>
                            <td>profile.password</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Password.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.department</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Department.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.language</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Language.</td>
                        </tr>
                        <tr>
                            <td>profile.timeZone</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Time Zone expressed as a Zone Name from the IANA Time Zone Database, e.g. "America/New_York".</td>
                        </tr>
                        <tr>
                            <td>profile.alias</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>List of possible SIP URIs aliases of the Virtual User.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.publicServiceIdentity</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Public User Identity SIP URI for the Virtual User.<br />
                            <b>Not Implemented</b></td>
                        </tr>
        <tr>
            <td>policy</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Regular</td>
            <td>Policy for distributing calls within a hunt group.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>noAnswer</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for No Answer Settings.<br />
                <b>Not Implemented</b></td></tr>
                        <tr>
                            <td>noAnswer.skipToAgent</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Flag to enable skipping to other agents.Maps to huntAfterNoAnswer in OCI.</td>
                        </tr>
                        <tr>
                            <td>noAnswer.skipToAgentAfterNumberOfRings</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>5</td>
                            <td>Number of rings to wait for the currently hunted agent to answer before hunting to the next available agent.
                            Maps to NumberOfRings in OCI.</td>
                        </tr>
                        <tr>
                            <td>noAnswer.forwardCallAfterTimeout</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Maps to forwardAfterTimeout in OCI.</td>
                        </tr>
                        <tr>
                            <td>noAnswer.forwardAfterTimeoutSeconds</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>0</td>
                            <td>Time to wait for any agent to answer before forwarding the caller elsewhere.
                            Maps to forwardTimeoutSeconds in OCI.</td>
                        </tr>
                        <tr>
                            <td>noAnswer.forwardToPhoneNumber</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>An outgoing phone number or a number meant to be dialed.</td>
                        </tr>
        <tr>
            <td>agentUserId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>List of assigned Users to the Hunt Group.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>allowCallWaitingForAgents</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>false</td>
            <td>Allow Call Waiting on agents<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>callingLineIdSettings</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for Calling Line ID settings. Maps to useSystemHuntGroupCLIDSetting in OCI.<br />
                <b>Not Implemented</b></td></tr>
                        <tr>
                            <td>callingLineIdSettings.useCustom</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Use custom settings.</td>
                        </tr>
                        <tr>
                            <td>callingLineIdSettings.includeHuntGroupName</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>true</td>
                            <td>Include the Hunt Group Name in the CLID.
                            Maps to includeHuntGroupNameInCLID in OCI.</td>
                        </tr>
        <tr>
            <td>notReachableSettings</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for Not Reachable Settings.<br />
                <b>Not Implemented</b></td></tr>
                        <tr>
                            <td>notReachableSettings.enableForwarding</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Enable Call Forwarding Not Reachable.
                            Maps to enableNotReachableForwarding in OCI.</td>
                        </tr>
                        <tr>
                            <td>notReachableSettings.forwardToPhoneNumber</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Phone number to forward when not reachable.
                            Maps to notReachableForwardToPhoneNumber in OCI.</td>
                        </tr>
                        <tr>
                            <td>notReachableSettings.makeBusyWhenNotReachable</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Make Hunt Group busy when all available agents are not reachable.
                            Maps to makeBusyWhenNotReachable in OCI.</td>
                        </tr>
        <tr>
            <td>allowMembersToControlGroupBusy</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>false</td>
            <td>Allow members to control Group Busy.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>enableGroupBusy</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>false</td>
            <td>Allow members to control Group Busy.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>applyGroupBusyWhenTerminatingToAgent</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Apply Group Busy When Terminating Call to Agent<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>networkClassOfService</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Network Class of Service name.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>services</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for list of services and their configuration settings to be assigned to the virtual user.<br />
            Note: Initial release does not support service configuration.<br />
            To assign a service without doing any configuration, set the value to an empty object, e.g.
            <code>"services" : { "Remote Office" : { } }</code>.<br />
            </td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td> Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.serviceProviderId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>ID of the BroadWorks service provider or enterprse in which the underlying BroadWorks Virtual User is to be created.
                            In a default configuration (where a VoIP Virtual User is composed of BroadWorks entities only),
                            this property can be used instead of customerId (eliminating the need to know the server-generated customerId
                            prior to placing this request).</td>
                        </tr>
                        <tr>
                            <td>extensions.broadworks.groupId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>ID of the BroadWorks group in which the underlying BroadWorks Virtual User is to be created.
                            In a default configuration (where a VoIP Virtual User is composed of BroadWorks entities only),
                            this property can be used instead of customerId (eliminating the need to know the server-generated customerId
                            prior to placing this request).
                            </td>
                        </tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>The ID to be set on the new virtual user. <br />
                            <b>Note: If provided it overrides the value generated from the "name" property.</b><br />
                            <b>If both "name" and "extensions.broadworks.resourceId" are omitted then the userId of the virtual user will be auto-generated.</b>
                            </td>
                        </tr>
    </tbody>
</table>

### Response Properties - 201 Created
Note: The Create Hunt Group process will return a 502 response when LWS-SOAP is misconfigured ("enhancedLwsSoapResponsesEnable" config parameter is set to false).<br />
For the Create Hunt Group process besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Mandatory</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>huntGroupId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>The Classic Server ID of the new Hunt Group user.</td>
        </tr>
        <tr>
            <td>profile</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td> Container for Profile information.</td></tr>
                        <tr>
                            <td>profile.callingLineId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>Container for Calling Line ID information.</td></tr>
                                        <tr>
                                            <td>profile.callingLineId.firstName</td>
                                            <td style="text-align: center; font-weight:bold">yes</td>
                                            <td>Calling Line ID First Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.lastName</td>
                                            <td style="text-align: center; font-weight:bold">yes</td>
                                            <td>Calling Line ID Last Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                        <tr>
                            <td>profile.extension</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Extension.</td>
                        </tr>
                        <tr>
                            <td>profile.publicServiceIdentity</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Public User Identity SIP URI for the Virtual User.</td>
                        </tr>
        <tr>
            <td>uniqueId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Unique asset value.</td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>The ID set on the new virtual user.</td>
                        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "customerId": "Example Com",
                "siteId": "Example Com - North",
                "name": "5551239876@example.com",
                "extensions": {
                    "broadworks": {
                        "resourceId": "5551239876@example.com"
                    }
                },
                "profile": {
                    "name": "My Hunt group",
                    "phoneNumber": "+1-5551239876",
                    "extension": "9876",
                    "language": "English",
                    "timeZone": " America\/New_York"
                },
                "services": {
                    "Alternate Numbers": {},
                    "Basic Call Logs": {}
                }
            }

    + Schema

            {
               "title": "Create Site Hunt Group request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "name": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "extensions": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "serviceProviderId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "groupId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           }
                        }
                     }
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "phoneNumber": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^\\+\\d+-\\d+$"
                              }
                           }
                        },
                        "phoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 23,
                           "pattern": "^\\+\\d+-\\d+$"
                        },
                        "tnRoutine": {
                           "enum": [
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        },
                        "extension": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "password": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 60
                        },
                        "department": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "alias": {
                           "type": "array",
                           "maxItems": 3,
                           "items": {
                              "type": "string",
                              "description": "SIP URI",
                              "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                              "minLength": 1,
                              "maxLength": 161
                           }
                        },
                        "publicServiceIdentity": {
                           "type": "string",
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "networkClassOfService": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "services": {
                     "type": "object",
                     "patternproperties": {
                        "^.+$": {
                           "type": "object"
                        }
                     }
                  },
                  "policy": {
                     "enum": [
                        "Circular",
                        "Regular",
                        "Simultaneous",
                        "Uniform",
                        "Weighted"
                     ]
                  },
                  "noAnswer": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "skipToAgent": {
                           "type": "boolean"
                        },
                        "skipToAgentAfterNumberOfRings": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 20
                        },
                        "forwardCallAfterTimeout": {
                           "type": "boolean"
                        },
                        "forwardAfterTimeoutSeconds": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 20
                        },
                        "forwardToPhoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        }
                     }
                  },
                  "agentUserId": {
                     "type": "array",
                     "items": {
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 161,
                        "pattern": "^\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                     }
                  },
                  "allowCallWaitingForAgents": {
                     "type": "boolean"
                  },
                  "callingLineIdSettings": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "useCustom": {
                           "type": "boolean"
                        },
                        "includeHuntGroupName": {
                           "type": "boolean"
                        }
                     }
                  },
                  "notReachableSettings": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enableForwarding": {
                           "type": "boolean"
                        },
                        "forwardToPhoneNumber": {
                           "anyOf": [
                              {
                                 "id": "E.164 DN",
                                 "type": [
                                    "string",
                                    "null"
                                 ],
                                 "description": "A formatted TN.",
                                 "pattern": "^\\+\\d+-\\d+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              {
                                 "id": "non-E.164 DN",
                                 "type": "string",
                                 "description": "A non-E.164 formatted TN.",
                                 "pattern": "^[\\d\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              {
                                 "id": "SIP URI",
                                 "type": "string",
                                 "description": "SIP URI",
                                 "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           ]
                        },
                        "makeBusyWhenNotReachable": {
                           "type": "boolean"
                        }
                     }
                  },
                  "allowMembersToControlGroupBusy": {
                     "type": "boolean"
                  },
                  "enableGroupBusy": {
                     "type": "boolean"
                  },
                  "applyGroupBusyWhenTerminatingToAgent": {
                     "type": "boolean"
                  }
               }
            }

+ Response 201 (application/hal+json)
    + Headers

            Location: http://classicserver.example.com/api/hunt-groups/5551239876%40example.com
            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http:\/\/classicserver.example.com\/api\/hunt-groups\/5551239876%40example.com"
                    }
                },
                "huntGroupId": "5551239876@example.com",
                "profile": {
                    "callingLineId": {
                        "lastName": "My Hunt group",
                        "firstName": "My Hunt group"
                    },
                    "publicServiceIdentity": "5551239876@example.com",
                    "extension": "9876"
                },
                "uniqueId": "138008094312037582",
                "extensions": {
                    "broadworks": {
                        "resourceId": "5551239876@example.com"
                    }
                }
            }

    + Schema

            {
               "title": "Create Site Hunt Group response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "huntGroupId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              }
                           },
                           "required": [
                              "lastName",
                              "firstName"
                           ]
                        },
                        "extension": {
                           "type": "string",
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "publicServiceIdentity": {
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     },
                     "required": [
                        "callingLineId"
                     ]
                  },
                  "uniqueId": {
                     "type": "string",
                     "minLength": 18,
                     "maxLength": 18,
                     "pattern": "^\\d+$"
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "huntGroupId",
                  "profile",
                  "extensions"
               ]
            }

+ Response 422 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "SEMANTIC_ERROR",
                "summary": "The server was unable to process your request",
                "detail": "Either customerId or extensions.broadworks.serviceProviderId is required when creating a VoIP Hunt Group.Either siteId or extensions.broadworks.groupId is required when creating a VoIP Hunt Group."
            }

+ Response 502 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_SERVER_ERROR",
                "summary": "Unexpected response from remote API",
                "detail": "LWS-SOAP: Received unexpected response: 'SuccessResponse'"
            }

## VoIP Hunt Group [/api/hunt-groups/{huntGroupId}]

+ Parameters
    + huntGroupId: `huntGroupExample` (string, required)

### Delete a VoIP Hunt Group [DELETE]
Delete a VoIP Hunt Group.<br />
Process name: Delete Hunt Group (VoIP Entity)<br />
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>huntGroupId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server huntGroupId (server-generated) of the Hunt Group to be deleted.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Delete Hunt Group request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "huntGroupId": {
                "type": "string",
                "description": "The Hunt Group Id must have the domain, but that is not enforced by validation",
                "minLength": 1,
                "maxLength": 161
            }
        },
        "required": [
            "huntGroupId"
        ]
    }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4008",
                "externalErrorSummary": "Error",
                "externalErrorDetail": "[Error 4008] User not found: huntGroupTest"
            }

## Hunt Group's Assigned Services [/api/customers/{customerId}/sites/{siteId}/hunt-groups/{huntGroupId}/services/assigned-services]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + huntGroupId: `huntGroupExample` (string, required)

### Update Assigned Services [PUT]
Request modifies list of assigned services on specified Hunt Group.<br />
Process Name: Set Hunt Group Services (VoIP Entity)<br />
Rollback-enabled:  No<br />
<b>Note</b>: Initial implementation will not check if the Hunt Group actually exists in the provided Customer and Site and also it does not actually check that the user type you are altering is actually a Hunt Group.

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Customer.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Site.</td>
        </tr>
        <tr>
            <td>huntGroupId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Hunt Group to be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "huntGroupId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "huntGroupId"
        ]
    }

### Request Properties
<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>services</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Array of user services.</td>
        </tr>
        <tr>
            <td>services[]</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td><b>Note</b>: service name should be valid BroadWorks service name, available for assignment in the BroadWorks system that is configured for operations. <br />
            Classic Server does not do reverse mapping of BroadWorks service names (for example, "BroadTouch Business Communicator Desktop - Audio" is label and corresponding service name is "Client License 18"). See "BroadWorks Reverse License Mapping" document for details. <br />
            Classic Server will not pre-validate service name correctness.
Providing invalid service name will result in LWS-SOAP request validation error.</td>
        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "services": [
                    "Authentication",
                    "Alternate Numbers"
                ]
            }

    + Schema

            {
               "title": "User services assignment request body schema",
               "type": "object",
               "properties": {
                  "services": {
                     "type": "array",
                     "items": {
                        "type": "string",
                        "minLength": 1
                     }
                  }
               },
               "required": [
                  "services"
               ]
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "summary": "Some services could not be assigned. No services were un-assigned",
                "externalErrorCode": null,
                "externalErrorSummary": "User service assignment failed. Some services were not assigned:",
                "externalErrorDetail": "Authentication: Service is not assignable."
            }

## Site's Voip Hunt Group [/api/customers/{customerId}/sites/{siteId}/hunt-groups/{huntGroupId}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + huntGroupId: `huntGroupExample` (string, required)

### Modify a Hunt Group [PUT]
Update Hunt Group instance.<br/>
Process Name: Modify Hunt Group via LWS-SOAP (VoIP Entity)<br/>
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>customerId</td><td>yes</td><td>n/a</td><td>Classic Server customerId (server-generated) of the Customer</td></tr>
    <tr><td>siteId</td><td>yes</td><td>n/a</td><td>Classic Server siteId (server-generated) of the Site</td></tr>
    <tr><td>huntGroupId</td><td>yes</td><td>n/a</td><td>Classic Server ID of the Hunt Group instance</td></tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Modify Hunt Group request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "huntGroupId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "huntGroupId"
        ]
    }

### Request Properties
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
        <tr><td>profile</td><td>no</td><td>n/a</td><td>Container for Virtual User Profile settings</td></tr>
    <tr><td>profile.name</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>profile.callingLineId</td><td>no</td><td>n/a</td><td>Container for Calling Line Id settings
        </td></tr>
            <tr>
                <td>profile.callingLineId.lastName</td>
                <td>no</td>
                <td>n/a</td>
                <td>Calling line Id last name.<br />
                    <b>Note:</b> The callingLineId last name will be updated with the name value 
                    if the name is present in the request and the callingLineId last name is not.
                </td>
            </tr>
            <tr>
                <td>profile.callingLineId.firstName</td>
                <td>no</td>
                <td>n/a</td>
                <td>Calling line Id first name.<br />
                    <b>Note:</b> The callingLineId first name will be updated with the name value 
                    if the name is present in the request and the callingLineId first name is not.
                </td>
            </tr>
            <tr><td>profile.callingLineId.phoneNumber</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br> Calling Line Id phone number</td></tr>
    <tr><td>profile.phoneNumber</td><td>no</td><td>n/a</td><td>An E.164-formatted TN</td></tr>
    <tr><td>profile.tnRoutine</td><td>no</td><td>n/a</td><td>Phone Number add routine to apply. Allowed values: ["", "no-number", "port-no-temp", "auto"]<br>Note: "auto" and "no-number" values will not be implemented in initial release</td></tr>
    <tr><td>profile.extension</td><td>no</td><td>n/a</td><td>Extension</td></tr>
    <tr><td>profile.password</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.department</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.language</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.timeZone</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.alias</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.publicServiceIdentity</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <
    <tr><td>policy</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>noAnswer</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br>Container for No Answer Settings</td></tr>
    <tr><td>noAnswer.skipToAgent</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>noAnswer.skipToAgentAfterNumberOfRings</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>noAnswer.forwardCallAfterTimeout</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>noAnswer.forwardAfterTimeoutSeconds</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>noAnswer.forwardToPhoneNumber</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>allowCallWaitingForAgents</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>callingLineIdSettings</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br>Container for Calling Line ID settings</td></tr>
    <tr><td>callingLineIdSettings.useCustom</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>callingLineIdSettings.includeHuntGroupName</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>notReachableSettings</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br>Container for Not Reachable Settings</td></tr>
    <tr><td>notReachableSettings.enableForwarding</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>notReachableSettings.forwardToPhoneNumber</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>notReachableSettings.makeBusyWhenNotReachable</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>allowMembersToControlGroupBusy</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>enableGroupBusy</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>applyGroupBusyWhenTerminatingToAgent</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>networkClassesOfService</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br>Network Class of Service</td></tr>
    </tbody>
</table>

### Response Properties - 200 OK
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>huntGroupId</td><td>yes</td><td>n/a</td><td>Classic Server ID of the Hunt Group instance</td></tr>
        <tr><td>profile</td><td>no</td><td>n/a</td><td>Container for profile settings</td></tr>
    <tr><td>profile.extension</td><td>no</td><td>n/a</td><td>Extension</td></tr>
    <tr><td>profile.publicServiceIdentity</td><td>no</td><td>n/a</td><td>Public Service Identity</td></tr>
        <tr><td>extensions</td><td>yes</td><td>n/a</td><td>Container for network-element specific properties</td></tr>
        <tr><td>extensions.broadworks</td><td>yes</td><td>n/a</td><td>Container for BroadWorks-specific properties.</td></tr>
    <tr><td>extensions.broadworks.resourceId</td><td>yes</td><td>n/a</td><td>Hunt Group instance ID in the BroadWorks</td></tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "profile": {
                    "name": "My Hunt Group",
                    "callingLineId": {
                        "firstName": "First",
                        "lastName": "Last"
                    },
                    "phoneNumber": "+1-4150192301",
                    "tnRoutine": "port-no-temp",
                    "extension": "2301"
                }
            }

    + Schema

            {
               "title": "Modify Hunt Group request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "phoneNumber": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^\\+\\d+-\\d+$"
                              }
                           }
                        },
                        "phoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 23,
                           "pattern": "^\\+\\d+-\\d+$"
                        },
                        "tnRoutine": {
                           "enum": [
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        },
                        "extension": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "password": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 60
                        },
                        "department": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "alias": {
                           "type": "array",
                           "maxItems": 3,
                           "items": {
                              "type": "string",
                              "description": "SIP URI",
                              "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                              "minLength": 1,
                              "maxLength": 161
                           }
                        },
                        "publicServiceIdentity": {
                           "type": "string",
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "policy": {
                     "enum": [
                        "Circular",
                        "Regular",
                        "Simultaneous",
                        "Uniform",
                        "Weighted"
                     ]
                  },
                  "noAnswer": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "skipToAgent": {
                           "type": "boolean"
                        },
                        "skipToAgentAfterNumberOfRings": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 20
                        },
                        "forwardCallAfterTimeout": {
                           "type": "boolean"
                        },
                        "forwardAfterTimeoutSeconds": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 20
                        },
                        "forwardToPhoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        }
                     }
                  },
                  "allowCallWaitingForAgents": {
                     "type": "boolean"
                  },
                  "callingLineIdSettings": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "useCustom": {
                           "type": "boolean"
                        },
                        "includeHuntGroupName": {
                           "type": "boolean"
                        }
                     }
                  },
                  "notReachableSettings": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enableForwarding": {
                           "type": "boolean"
                        },
                        "forwardToPhoneNumber": {
                           "anyOf": [
                              {
                                 "id": "E.164 DN",
                                 "type": [
                                    "string",
                                    "null"
                                 ],
                                 "description": "A formatted TN.",
                                 "pattern": "^\\+\\d+-\\d+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              {
                                 "id": "non-E.164 DN",
                                 "type": "string",
                                 "description": "A non-E.164 formatted TN.",
                                 "pattern": "^[\\d\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 23
                              },
                              {
                                 "id": "SIP URI",
                                 "type": "string",
                                 "description": "SIP URI",
                                 "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           ]
                        },
                        "makeBusyWhenNotReachable": {
                           "type": "boolean"
                        }
                     }
                  },
                  "allowMembersToControlGroupBusy": {
                     "type": "boolean"
                  },
                  "enableGroupBusy": {
                     "type": "boolean"
                  },
                  "applyGroupBusyWhenTerminatingToAgent": {
                     "type": "boolean"
                  },
                  "networkClassOfService": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  }
               }
            }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Site/hunt-groups/4151002300"
                    }
                },
                "huntGroupId": "4151002300",
                "profile": {
                    "extension": "2300",
                    "publicServiceIdentity": "4151002300@voip.example.net"
                },
                "extensions": {
                    "broadworks": {
                        "resourceId": "4151002300"
                    }
                }
            }

    + Schema

            {
               "title": "Modify Hunt Group response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "huntGroupId": {
                     "minLength": 1,
                     "maxLength": 161
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "extension": {
                           "type": "string",
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "publicServiceIdentity": {
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "huntGroupId",
                  "extensions"
               ]
            }

## Hunt Group's Alternate Numbers Service Settings [/api/customers/{customerId}/sites/{siteId}/hunt-groups/{huntGroupId}/services/Alternate%20Numbers]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + huntGroupId: `huntGroupExample` (string, required)

### Modify Alternate Numbers Service Settings [PUT]
Update a BroadWorks Hunt Group's Alternate Numbers service settings.<br />

<table border=1>
    <thead>
    <th>Process Name</th>
    <th>Process Type</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>Modify Hunt Group Alternate Numbers(VoIP Entity)</td>
            <td>Base process</td>
            <td>This process is used when the alternate processes are not enabled. In the initial implementation the process will always return a 501 Not Implemented response.</td>
        </tr>
        <tr>
            <td>Modify Hunt Group Alternate Numbers via LWS-SOAP (VoIP Entity)</td>
            <td>Alternate Process</td>
            <td>This process is enabled by default when the alternate processes are enabled. In current implementation Hunt Group's Alternate Numbers service settings are updated using LWS-SOAP ServiceUserAlternateNumbersModifyRequest API call.</td>
        </tr>
    </tbody>
</table>

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Customer.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Site.</td>
        </tr>
        <tr>
            <td>huntGroupId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Hunt Group to be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "huntGroupId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "huntGroupId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>distinctiveRing</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Distinctive ring setting.</td>
        </tr>
        <tr>
            <td>alternateNumbers</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Container for alternate numbers information. Alternate numbers is an array of entries. </td></tr>
                        <tr>
                            <td>alternateNumbers.id</td>
                            <td>yes</td>
                            <td></td>
                            <td>Alternate Number ID - number of Alt. Num entry in the list.
                                <br/>Allowed values: [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ].
                                <br/><b>Note:</b> The IDs must be provided in ascending order in the request, providing
                                the IDs in a random order will cause the request to fail.
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.tnRoutine</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                TN management routine for provided phone number.<br />
                                <b>Note: at this time only ""(empty string) is allowed.</b><br/>
                                Supported values and impact on other required properties:
                                            <ul>
                                    <li><b>port-no-temp</b> - TN does not exist in the system; will attempt to assign at both the Customer and Site levels. <b>Not Implemented</b></li>
                                    <li><b>auto</b> - TN may or may not already exist in the system; will be assigned automatically to either/both as needed. <b>Not Implemented</b></li>
                                    <li><b>"" (empty string) </b>- TN must already be available for use; no assignment will be performed.</li>
                                         <li>Omitted tnRoutine parameter is same as ""(empty string) tnRoutine value.</li>
                                 </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.phoneNumber</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate phone number.<br/>
                                Must be E.164 formatted, e.g. +1-2005553001 (the dash is required, after the country code).<br/>
                                Accepts also null value. Submitting null will erase phone number in the alternate number entry specified with "id".
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.extension</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate extension.<br/>
                                Accepts also null value. Submitting null will erase extension in the alternate number entry specified with "id".
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.ringPattern</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Ring pattern.<br/>Allowed values: [ null, "Normal", "Long-Long", "Short-Short-Long", "Short-Long-Short" ]. Null is equal to "Normal".<br/>
                                <b>Note:</b> Ring pattern does not have meaning when phone number and extension are both empty, and will be ignored in this case.
                            </td>
                        </tr>
                         <tr>
                            <td>description</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate number entity description.<br/>
                                <b>Not Implemented</b>
                            </td>
                        </tr>
    </tbody>
</table>

### Response Properties - 200 OK
Besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.<br />
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Description</th>
    <th>Mandatory</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td>Customer Id.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>siteId</td>
            <td>Site Id.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>huntGroupId</td>
            <td>Hunt Group Id.</td>
            <td>Yes</td>
       </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "distinctiveRing": false,
                "alternateNumbers": [
                    {
                        "id": 1,
                        "tnRoutine": "",
                        "phoneNumber": "+1-4125553000",
                        "extension": "3000",
                        "ringPattern": "Long-Long"
                    },
                    {
                        "id": 5,
                        "extension": "3005",
                        "ringPattern": "Long-Long"
                    }
                ]
            }

    + Schema

            {
               "title": "Hunt Group Alternate Numbers Modify request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "distinctiveRing": {
                     "type": "boolean"
                  },
                  "alternateNumbers": {
                     "type": "array",
                     "maxItems": 10,
                     "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                           "id": {
                              "type": "integer",
                              "min": 1,
                              "max": 10
                           },
                           "tnRoutine": {
                              "enum": [
                                 "",
                                 "port-no-temp",
                                 "auto"
                              ]
                           },
                           "phoneNumber": {
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "minLength": 1,
                              "maxLength": 23,
                              "pattern": "^\\+\\d+-\\d+$"
                           },
                           "extension": {
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "minLength": 2,
                              "maxLength": 20,
                              "pattern": "^[0-9]+$"
                           },
                           "ringPattern": {
                              "enum": [
                                 null,
                                 "Normal",
                                 "Long-Long",
                                 "Short-Short-Long",
                                 "Short-Long-Short"
                              ]
                           }
                        },
                        "required": [
                           "id"
                        ]
                     }
                  }
               }
            }

+ Response 200
    + Headers

            Transaction-Id: 1380080943120
    
    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://ucserver.example.net/api/customers/Example%20Com/sites/Example%20Site/hunt-groups/4151002300/services/Alternate%20Numbers"
                    }
                },
                "customerId": "Example Com",
                "siteId": "Example Site",
                "huntGroupId": "4151002300"
            }

    + Schema
    
            {
                "title": "Hunt Groupâ€™s Alternate Number settings modify response body parameters",
                "required": ["_links", "customerId", "siteId", "huntGroupId"],
                "properties": {
                    "_links": {
                        "required": ["self"]
                    },
                    "customerId": {
                        "title": "Customer ID",
                        "description": "Uniquely identifies a service provider. NOTE: The service provider id has a maximum length of 30 bytes, not 30 characters.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 30
                    },
                    "siteId": {
                        "title": "Site ID",
                        "description": "Site Id identifies a group within a customer.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 30
                    },
                    "huntGroupId": {
                        "title": "User ID",
                        "description": "A user id consists of a user-portion optionally followed by an @ sign and a domain name. If the domain is not specified, it is assumed to be the system default domain. The domain is required when adding normal users and virtual users, i.e. Auto Attendants, Hunt Groups, Call Centers.... The domain must not be specified for system-level and service-provider-level administrators.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 161
                    }
                }
            }


+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4410",
                "externalErrorSummary": "Alternate Numbers error",
                "externalErrorDetail": "[Error 4410] Service is not assigned to this subscriber: Alternate Numbers"
            }


<!-- ------------------------- VoIP Site Call Center ----------------------- -->

# Group VoIP Site Call Center
Supported network elements:

* LWS-SOAP
* BroadWorks Application Server

Keys:

* callCenterId

Extension Keys:

* (none)

## VoIP Call Centers Collection [/api/call-centers{?mode}]

+ Parameters
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

### Create a VoIP Call Center [POST]
Create a new VoIP Call Center.<br />
Process name: Create Call Center (VoIP Entity)<br />
Rollback-enabled: No

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Controls execution mode.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Create Site Call Center request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the new VoIP Call Center is to be created.
            In a default configuration (where a VoIP Call Center is composed of BroadWorks entities only),
            this property can be omitted if extensions.broadworks.serviceProviderId is populated.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site in which the new VoIP Call Center is to be created.
            In a default configuration (where a VoIP Call Center is composed of BroadWorks entities only),
            this property can be omitted if extensions.broadworks.groupId is populated.</td>
        </tr>
        <tr>
            <td>name</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The clients suggested name for the resource. <br />
            It is used for constructing the BroadWorks Call Center ID.<br />
            <b>Note: If both "name" and "extensions.broadworks.resourceId" are omitted then the userId of the virtual user will be auto-generated.</b>
            </td>
        </tr>
        <tr>
            <td>profile</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Container for Profile information.</td></tr>
                        <tr>
                            <td>profile.name</td>
                            <td style="text-align: center;">yes</td>
                            <td>n/a</td>
                            <td>Name</td>
                        </tr>
                        <tr>
                            <td>profile.callingLineId</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>
                                Container for Calling Line ID information.<br />
                                <b>Not Implemented</b><br />
                            </td></tr>
                                        <tr>
                                            <td>profile.callingLineId.firstName</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID First Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.lastName</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID Last Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.phoneNumber</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID Phone Number.</td>
                                        </tr>
                        <tr>
                            <td>profile.phoneNumber</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Phone Number.</td>
                        </tr>
                        <tr>
                            <td>profile.tnRoutine</td>
                            <td style="text-align: center;">no</td>
                            <td>"" (empty string)</td>
                            <td>Phone Number (TN) assignment routine.<br />
                            Supported values and impact on other required properties:
                                            <ul>
                                    <li><b>port-no-temp</b> - TN does not exist in the system; will attempt to assign at both the Customer and Site levels.</li>
                                    <li><b>auto</b> - TN may or may not already exist in the system; will be assigned automatically to either/both as needed. <b>Not Implemented</b></li>
                                    <li><b>no-number </b>- TN will not be assigned automatically</li>
                                    <li><b>"" (empty string) </b>- TN will not be assigned automatically</li>
                                     </ul>
                             </td>
                        </tr>
                        <tr>
                            <td>profile.extension</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Extension.</td>
                        </tr>
                        <tr>
                            <td>profile.password</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Password.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.department</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Department.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.language</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Language.</td>
                        </tr>
                        <tr>
                            <td>profile.timeZone</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Time Zone expressed as a Zone Name from the IANA Time Zone Database, e.g. "America/New_York".</td>
                        </tr>
                        <tr>
                            <td>profile.alias</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>List of possible SIP URIs aliases of the Virtual User.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.publicServiceIdentity</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Public User Identity SIP URI for the Virtual User.<br />
                            <b>Not Implemented</b></td>
                        </tr>
        <tr>
            <td>type</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Call center type.</td>
        </tr>
        <tr>
            <td>routingType</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Priority Based</td>
            <td>Call Center Routing type for distributing calls within a call center.
            Note: Applies only to "Premium" call centers.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>policy</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Regular</td>
            <td>Policy for distributing calls within a call center.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>enableReporting</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Enable Call Center External Reporting.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>callCenterSettings</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for Call Center settings.<br />
                <b>Not Implemented</b></td></tr>
                        <tr>
                            <td>callCenterSettings.enableVideo</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Enable video.</td>
                        </tr>
                        <tr>
                            <td>callCenterSettings.queueLength</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>0</td>
                            <td>The limit for the number of calls the system will keep in queue, waiting for an available agent.</td>
                        </tr>
                        <tr>
                            <td>callCenterSettings.playRingingWhenOfferingCall</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>true</td>
                            <td>Play ringing when offering call.</td>
                        </tr>
                        <tr>
                            <td>callCenterSettings.allowCallerToDialEscapeDigit</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Allow callers to dial a digit to escape.</td>
                        </tr>
                        <tr>
                            <td>callCenterSettings.escapeDigit</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>0</td>
                            <td>Digit to press by callers to escape call.</td>
                        </tr>
                        <tr>
                            <td>callCenterSettings.resetCallStatisticsUponEntryInQueue</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Reset caller statistics upon entry to queue.</td>
                        </tr>
        <tr>
            <td>agentSettings</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for Agent settings.<br />
                <b>Not Implemented</b></td></tr>
                        <tr>
                            <td>agentSettings.allowAgentLogoff</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Allow agents to join Call Centers.</td>
                        </tr>
                        <tr>
                            <td>agentSettings.allowCallWaitingForAgents</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Allow Call Waiting on agents.</td>
                        </tr>
                        <tr>
                            <td>agentSettings.allowCallsToAgentsInWrapUp</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Enable calls to agents in wrap-up state.
                            Note: Applies only for "Standard" and "Premium.</td>
                        </tr>
                        <tr>
                            <td>agentSettings.overrideAgentWrapUpTime</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Enable maximum ACD wrap-up timer.
                            Note: Applies only for "Standard" and "Premium.</td>
                        </tr>
                        <tr>
                            <td>agentSettings.wrapUpSeconds</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Wrap up time.
                            Note: Applies only for "Standard" and "Premium.</td>
                        </tr>
                        <tr>
                            <td>agentSettings.enableAutomaticStateChangeForAgents</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Enable automatic agent state
                            Note: Applies only for "Standard" and "Premium."</td>
                        </tr>
                        <tr>
                            <td>agentSettings.agentStateAfterCall</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Agent Automatic Call Distribution (ACD) State. States available for Wrap-Up agent state management.
                            Note: Applies only for "Standard" and "Premium."</td>
                        </tr>
                        <tr>
                            <td>agentSettings.forceDeliveryOfCalls</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>false</td>
                            <td>Enable automatic call answer after a number of seconds
                            Note: Applies only for "Premium."</td>
                        </tr>
                        <tr>
                            <td>agentSettings.forceDeliveryWaitTimeSeconds</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>Number of seconds to automatically answer call if enabled.
                            Note: Applies only for "Premium."</td>
                        </tr>
            <td>agentUnavailableCode</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Call Center Agent Unavailable Code Value.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>bandwidthAndQoS</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for Bandwidth and QoS Settings.<br />
                <b>Not Implemented</b></td></tr>
                        <tr>
                            <td>bandwidthAndQoS.externalPreferredAudioCodec</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>None(literally)</td>
                            <td>Preferred announcement / music codec for external calls.</td>
                        </tr>
                        <tr>
                            <td>bandwidthAndQoS.internalPreferredAudioCodec</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>None(literally)</td>
                            <td>Preferred announcement / music codec for internal calls.</td>
                        </tr>
        <tr>
            <td>networkClassOfService</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Network Class of Service name.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>services</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for list of services and their configuration settings to be assigned to the virtual user.<br />
            Note: Initial release does not support service configuration.<br />
            To assign a service without doing any configuration, set the value to an empty object, e.g.
            <code>"services" : { "Remote Office" : { } }</code>.<br />
            </td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.serviceProviderId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>ID of the BroadWorks service provider or enterprse in which the underlying BroadWorks Virtual User is to be created.
                            In a default configuration (where a VoIP Virtual User is composed of BroadWorks entities only),
                            this property can be used instead of customerId (eliminating the need to know the server-generated customerId
                            prior to placing this request).</td>
                        </tr>
                        <tr>
                            <td>extensions.broadworks.groupId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>ID of the BroadWorks group in which the underlying BroadWorks Virtual User is to be created.
                            In a default configuration (where a VoIP Virtual User is composed of BroadWorks entities only),
                            this property can be used instead of customerId (eliminating the need to know the server-generated customerId
                            prior to placing this request).
                            </td>
                        </tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>The ID to be set on the new virtual user. <br />
                            <b>Note: If provided it overrides the value generated from the "name" property.</b><br />
                            <b>If both "name" and "extensions.broadworks.resourceId" are omitted then the userId of the virtual user will be auto-generated.</b>
                            </td>
                        </tr>
    </tbody>
</table>

### Response Properties - 201 Created
For the Create Call Center process besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Mandatory</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>callCenterId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>The Classic Server ID of the new Call Center user.</td>
        </tr>
        <tr>
            <td>profile</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>
                Container for Profile information.</td></tr>
                        <tr>
                            <td>profile.callingLineId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>
                                Container for Calling Line ID information.</td></tr>
                                        <tr>
                                            <td>profile.callingLineId.firstName</td>
                                            <td style="text-align: center; font-weight:bold">yes</td>
                                            <td>Calling Line ID First Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.lastName</td>
                                            <td style="text-align: center; font-weight:bold">yes</td>
                                            <td>Calling Line ID Last Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                        <tr>
                            <td>profile.extension</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>profile.Extension.</td>
                        </tr>
                        <tr>
                            <td>profile.publicServiceIdentity</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Public User Identity SIP URI for the Virtual User.</td>
                        </tr>
                        <tr>
                            <td>profile.password</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Password.</td>
                        </tr>
        <tr>
            <td>policy</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>Policy for distributing calls within a call center.</td>
        </tr>
        <tr>
            <td>callCenterSettings</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>
                Container for Call Center settings.</td></tr>
                        <tr>
                            <td>callCenterSettings.enableVideo</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Enable video.</td>
                        </tr>
                        <tr>
                            <td>callCenterSettings.queueLength</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>The limit for the number of calls the system will keep in queue, waiting for an available agent.</td>
                        </tr>
                        <tr>
                            <td>callCenterSettings.playRingingWhenOfferingCall</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Play ringing when offering call.</td>
                        </tr>
                        <tr>
                            <td>callCenterSettings.allowCallerToDialEscapeDigit</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Allow callers to dial a digit to escape.</td>
                        </tr>
                        <tr>
                            <td>callCenterSettings.escapeDigit</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Digit to press by callers to escape call.</td>
                        </tr>
                        <tr>
                            <td>callCenterSettings.resetCallStatisticsUponEntryInQueue</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Reset caller statistics upon entry to queue.</td>
                        </tr>
        <tr>
            <td>agentSettings</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>
                Container for Agent settings.</td></tr>
                        <tr>
                            <td>agentSettings.allowAgentLogoff</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Allow agents to join Call Centers.</td>
                        </tr>
                        <tr>
                            <td>agentSettings.allowCallWaitingForAgents</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Allow Call Waiting on agents.</td>
                        </tr>
                        <tr>
                            <td>agentSettings.allowCallsToAgentsInWrapUp</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Enable calls to agents in wrap-up state.
                            Note: Applies only for "Standard" and "Premium.</td>
                        </tr>
                        <tr>
                            <td>agentSettings.overrideAgentWrapUpTime</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Enable maximum ACD wrap-up timer.
                            Note: Applies only for "Standard" and "Premium.</td>
                        </tr>
                        <tr>
                            <td>agentSettings.forceDeliveryOfCalls</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Enable automatic call answer after a number of seconds
                            Note: Applies only for "Premium."</td>
                        </tr>
        <tr>
            <td>bandwidthAndQoS</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>
                Container for Bandwidth and QoS Settings.</td></tr>
                        <tr>
                            <td>bandwidthAndQoS.externalPreferredAudioCodec</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Preferred announcement / music codec for external calls.</td>
                        </tr>
                        <tr>
                            <td>bandwidthAndQoS.internalPreferredAudioCodec</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Preferred announcement / music codec for internal calls.</td>
                        </tr>
        <tr>
            <td>uniqueId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Unique asset value.</td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>
                Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>The ID set on the new virtual user.</td>
                        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "customerId": "Example Com",
                "siteId": "Example Com - North",
                "name": "5551239876@example.com",
                "type": "Basic",
                "extensions": {
                    "broadworks": {
                        "resourceId": "5551239876@example.com"
                    }
                },
                "profile": {
                    "name": "My Call Center",
                    "phoneNumber": "+1-5551239876",
                    "extension": "9876",
                    "language": "English",
                    "timeZone": " America\/New_York"
                },
                "services": {
                    "Alternate Numbers": {},
                    "Basic Call Logs": {}
                }
            }

    + Schema

            {
               "title": "Create Site Call Center request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "name": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "extensions": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "serviceProviderId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "groupId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           }
                        }
                     }
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "phoneNumber": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^\\+\\d+-\\d+$"
                              }
                           }
                        },
                        "phoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 23,
                           "pattern": "^\\+\\d+-\\d+$"
                        },
                        "tnRoutine": {
                           "enum": [
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        },
                        "extension": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "password": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 60
                        },
                        "department": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "alias": {
                           "type": "array",
                           "maxItems": 3,
                           "items": {
                              "type": "string",
                              "description": "SIP URI",
                              "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                              "minLength": 1,
                              "maxLength": 161
                           }
                        },
                        "publicServiceIdentity": {
                           "type": "string",
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "networkClassOfService": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "services": {
                     "type": "object",
                     "patternproperties": {
                        "^.+$": {
                           "type": "object"
                        }
                     }
                  },
                  "type": {
                     "enum": [
                        "Basic",
                        "Standard",
                        "Premium"
                     ]
                  },
                  "routingtype": {
                     "enum": [
                        "Priority Based",
                        "Skill Based"
                     ]
                  },
                  "policy": {
                     "enum": [
                        "Circular",
                        "Regular",
                        "Simultaneous",
                        "Uniform",
                        "Weighted"
                     ]
                  },
                  "enableReporting": {
                     "type": "boolean"
                  },
                  "callCenterSettings": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enableVideo": {
                           "type": "boolean"
                        },
                        "queueLength": {
                           "type": "integer",
                           "minimum": 0,
                           "maximum": 525
                        },
                        "playRingingWhenOfferingCall": {
                           "type": "boolean"
                        },
                        "allowCallerToDialEscapeDigit": {
                           "type": "boolean"
                        },
                        "escapeDigit": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 1,
                           "pattern": "^[0-9]+$"
                        },
                        "resetCallStatisticsUponEntryInQueue": {
                           "type": "boolean"
                        }
                     }
                  },
                  "agentSettings": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "allowAgentLogoff": {
                           "type": "boolean"
                        },
                        "allowCallWaitingForAgents": {
                           "type": "boolean"
                        },
                        "allowCallsToAgentsInWrapUp": {
                           "type": "boolean"
                        },
                        "overrideAgentWrapUpTime": {
                           "type": "boolean"
                        },
                        "wrapUpSeconds": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 3600
                        },
                        "enableAutomaticStateChangeForAgents": {
                           "type": "boolean"
                        },
                        "agentStateAfterCall": {
                           "enum": [
                              "Available",
                              "Unavailable",
                              "Wrap-Up"
                           ]
                        },
                        "forceDeliveryOfCalls": {
                           "type": "boolean"
                        },
                        "forceDeliveryWaitTimeSeconds": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 10
                        }
                     }
                  },
                  "agentUnavailableCode": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 10
                  },
                  "bandwidthAndQoS": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "externalPreferredAudioCodec": {
                           "enum": [
                              "None",
                              "G711",
                              "G722",
                              "G729",
                              "G726",
                              "AMR",
                              "AMR-WB"
                           ]
                        },
                        "internalPreferredAudioCodec": {
                           "enum": [
                              "None",
                              "G711",
                              "G722",
                              "G729",
                              "G726",
                              "AMR",
                              "AMR-WB"
                           ]
                        }
                     }
                  }
               },
               "required": [
                  "type"
               ]
            }

+ Response 201 (application/hal+json)
    + Headers

            Location: http://classicserver.example.com/api/call-centers/5551239876%40example.com
            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http:\/\/classicserver.example.com\/api\/call-centers\/5551239876%40example.com"
                    }
                },
                "callCenterId": "5551239876@example.com",
                "profile": {
                    "callingLineId": {
                        "lastName": "My Call Center",
                        "firstName": "My Call Center"
                    },
                    "publicServiceIdentity": "5551239876@example.com",
                    "extension": "9876"
                },
                "policy": "Regular",
                "callCenterSettings": {
                    "enableVideo": false,
                    "queueLength": 0,
                    "allowCallerToDialEscapeDigit": true,
                    "escapeDigit": "0",
                    "playRingingWhenOfferingCall": true
                },
                "agentSettings": {
                    "allowAgentLogoff": false,
                    "allowCallWaitingForAgents": false
                },
                "bandwidthAndQoS": {
                    "externalPreferredAudioCodec": "None",
                    "internalPreferredAudioCodec": "None"
                },
                "uniqueId": "138008094312043748",
                "extensions": {
                    "broadworks": {
                        "resourceId": "5551239876@example.com"
                    }
                }
            }

    + Schema

            {
               "title": "Create Site Call Center response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "callCenterId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              }
                           },
                           "required": [
                              "lastName",
                              "firstName"
                           ]
                        },
                        "extension": {
                           "type": "string",
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "publicServiceIdentity": {
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     },
                     "required": [
                        "callingLineId"
                     ]
                  },
                  "uniqueId": {
                     "type": "string",
                     "minLength": 18,
                     "maxLength": 18,
                     "pattern": "^\\d+$"
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  },
                  "policy": {
                     "enum": [
                        "Circular",
                        "Regular",
                        "Simultaneous",
                        "Uniform",
                        "Weighted"
                     ]
                  },
                  "callCenterSettings": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enableVideo": {
                           "type": "boolean"
                        },
                        "queueLength": {
                           "type": "integer",
                           "minimum": 0,
                           "maximum": 525
                        },
                        "playRingingWhenOfferingCall": {
                           "type": "boolean"
                        },
                        "allowCallerToDialEscapeDigit": {
                           "type": "boolean"
                        },
                        "escapeDigit": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 1,
                           "pattern": "^[0-9#\\*]+$"
                        },
                        "resetCallStatisticsUponEntryInQueue": {
                           "type": "boolean"
                        }
                     }
                  },
                  "agentSettings": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "allowAgentLogoff": {
                           "type": "boolean"
                        },
                        "allowCallWaitingForAgents": {
                           "type": "boolean"
                        },
                        "allowCallsToAgentsInWrapUp": {
                           "type": "boolean"
                        },
                        "overrideAgentWrapUpTime": {
                           "type": "boolean"
                        },
                        "forceDeliveryOfCalls": {
                           "type": "boolean"
                        }
                     }
                  },
                  "bandwidthAndQoS": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "externalPreferredAudioCodec": {
                           "enum": [
                              "None",
                              "G711",
                              "G722",
                              "G729",
                              "G726",
                              "AMR",
                              "AMR-WB"
                           ]
                        },
                        "internalPreferredAudioCodec": {
                           "enum": [
                              "None",
                              "G711",
                              "G722",
                              "G729",
                              "G726",
                              "AMR",
                              "AMR-WB"
                           ]
                        }
                     }
                  }
               },
               "required": [
                  "_links",
                  "callCenterId",
                  "profile",
                  "extensions"
               ]
            }

+ Response 422 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "SEMANTIC_ERROR",
                "summary": "The server was unable to process your request",
                "detail": "Either customerId or extensions.broadworks.serviceProviderId is required when creating a VoIP Call Center.Either siteId or extensions.broadworks.groupId is required when creating a VoIP Call Center."
            }

## VoIP Call Center [/api/call-centers/{callCenterId}]

+ Parameters
    + callCenterId: `callCenterExample` (string, required)

### Delete a VoIP Call Center [DELETE]
Delete a VoIP Call Center.<br />
Process name: Delete Call Center (VoIP Entity)<br />
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>callCenterId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server callCenterId (server-generated) of the Call Center to be deleted.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Delete Call Center request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "callCenterId": {
                "type": "string",
                "description": "The Call Center Id must have the domain, but that is not enforced by validation",
                "minLength": 1,
                "maxLength": 161
            }
        },
        "required": [
            "callCenterId"
        ]
    }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4008",
                "externalErrorSummary": "Error",
                "externalErrorDetail": "[Error 4008] User not found: callCenterTest"
            }

## VoIP Call Center's Assigned Services [/api/customers/{customerId}/sites/{siteId}/call-centers/{callCenterId}/services/assigned-services]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + callCenterId: `callCenterExample` (string, required)

### Update Assigned Services [PUT]
Request modifies list of assigned services on specified Call Center.<br />
Process Name: Set Call Center Services (VoIP Entity)<br />
Rollback-enabled:  No<br />
**Note**: Initial implementation will not check if the Call Center actually exists in the provided Customer and Site and also it does not actually check that the user type you are altering is actually a Call Center.

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Customer.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Site.</td>
        </tr>
        <tr>
            <td>callCenterId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Call Center to be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "autoAttendantId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "autoAttendantId"
        ]
    }

### Request Properties
<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>services</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Array of user services.</td>
        </tr>
        <tr>
            <td>services[]</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td><b>Note</b>: service name should be valid BroadWorks service name, available for assignment in the BroadWorks system that is configured for operations. <br />
            Classic Server does not do reverse mapping of BroadWorks service names (for example, "BroadTouch Business Communicator Desktop - Audio" is label and corresponding service name is "Client License 18"). See "BroadWorks Reverse License Mapping" document for details. <br />
            Classic Server will not pre-validate service name correctness.
Providing invalid service name will result in LWS-SOAP request validation error.</td>
        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "services": [
                    "Authentication",
                    "Alternate Numbers"
                ]
            }

    + Schema

            {
               "title": "User services assignment request body schema",
               "type": "object",
               "properties": {
                  "services": {
                     "type": "array",
                     "items": {
                        "type": "string",
                        "minLength": 1
                     }
                  }
               },
               "required": [
                  "services"
               ]
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "summary": "Some services could not be assigned. No services were un-assigned",
                "externalErrorCode": null,
                "externalErrorSummary": "User service assignment failed. Some services were not assigned:",
                "externalErrorDetail": "Authentication: Service is not assignable."
            }

## Site's Call Center [/api/customers/{customerId}/sites/{siteId}/call-centers/{callCenterId}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + callCenterId: `callCenterExample` (string, required)

### Modify a Call Center [PUT]
Update Call Center instance.<br/>
Process Name: Modify Call Center via LWS-SOAP (VoIP Entity)<br/>
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>customerId</td><td>yes</td><td>n/a</td><td>Classic Server customerId (server-generated) of the Customer</td></tr>
    <tr><td>siteId</td><td>yes</td><td>n/a</td><td>Classic Server siteId (server-generated) of the Site</td></tr>
    <tr><td>callCenterId</td><td>yes</td><td>n/a</td><td>Classic Server ID of the Call Center instance</td></tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Modify Auto Attendant request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "callCenterId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "callCenterId"
        ]
    }

### Request Properties
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
        <tr><td>profile</td><td>no</td><td>n/a</td><td>Container for Virtual User Profile settings.</td></tr>
    <tr><td>profile.name</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>profile.callingLineId</td><td>no</td><td>n/a</td><td>Container for Calling Line Id settings
        </td></tr>
            <tr>
                <td>profile.callingLineId.lastName</td>
                <td>no</td>
                <td>n/a</td>
                <td>Calling line Id last name.<br />
                    <b>Note:</b> The callingLineId last name will be updated with the name value 
                    if the name is present in the request and the callingLineId last name is not.
                </td>
            </tr>
            <tr>
                <td>profile.callingLineId.firstName</td>
                <td>no</td>
                <td>n/a</td>
                <td>Calling line Id first name.<br />
                    <b>Note:</b> The callingLineId first name will be updated with the name value 
                    if the name is present in the request and the callingLineId first name is not.
                </td>
            </tr>
            <tr><td>profile.callingLineId.phoneNumber</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br> Calling Line Id phone number</td></tr>
    <tr><td>profile.phoneNumber</td><td>no</td><td>n/a</td><td>An E.164-formatted TN</td></tr>
    <tr><td>profile.tnRoutine</td><td>no</td><td>n/a</td><td>Phone Number add routine to apply. Allowed values: ["", "no-number", "port-no-temp", "auto"]<br>Note: "auto" and "no-number" values will not be implemented in initial release</td></tr>
    <tr><td>profile.extension</td><td>no</td><td>n/a</td><td>Extension</td></tr>
    <tr><td>profile.password</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.department</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.language</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.timeZone</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.alias</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.publicServiceIdentity</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>type</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>routingType</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>policy</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>enableReporting</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>callCenterSettings</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br>Container for Call Center settings</td></tr>
    <tr><td>callCenterSettings.enableVideo</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>callCenterSettings.queueLength</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>callCenterSettings.playRingingWhenOfferingCall</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>callCenterSettings.allowCallerToDialEscapeDigit</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>callCenterSettings.escapeDigit</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>callCenterSettings.resetCallStatisticsUponEntryInQueue</td><td>no</td><td>n/a</td><td></td></tr>
        <tr><td>agentSettings</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br>Container for Agent settings</td></tr>
    <tr><td>agentSettings.allowAgentLogoff</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>agentSettings.allowCallWaitingForAgents</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>agentSettings.allowCallsToAgentsInWrapUp</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>agentSettings.overrideAgentWrapUpTime</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>agentSettings.wrapUpSeconds</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>agentSettings.enableAutomaticStateChangeForAgents</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>agentSettings.agentStateAfterCall</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>agentSettings.forceDeliveryOfCalls</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>agentSettings.forceDeliveryWaitTimeSeconds</td><td>no</td><td>n/a</td><td></td></tr>
       <tr><td>agentUnavailableCode</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
        <tr><td>bandwidthAndQoS</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>bandwidthAndQoS.externalPreferredAudioCodec</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>bandwidthAndQoS.internalPreferredAudioCodec</td><td>no</td><td>n/a</td><td></td></tr>
    <tr><td>networkClassesOfService</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br>Network Class of Service</td></tr>
    </tbody>
</table>

### Response Properties - 200 OK
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>callCenterId</td><td>yes</td><td>n/a</td><td>Classic Server ID of the Call Center instance</td></tr>
        <tr><td>profile</td><td>no</td><td>n/a</td><td>Container for profile settings</td></tr>
    <tr><td>profile.extension</td><td>no</td><td>n/a</td><td>Extension</td></tr>
    <tr><td>profile.publicServiceIdentity</td><td>no</td><td>n/a</td><td>Public Service Identity</td></tr>
        <tr><td>extensions</td><td>yes</td><td>n/a</td><td>Container for network-element specific properties</td></tr>
        <tr><td>extensions.broadworks</td><td>yes</td><td>n/a</td><td>Container for BroadWorks-specific properties.<br>Details of the BroadWorks-specific properties:</td></tr>
    <tr><td>extensions.broadworks.resourceId</td><td>yes</td><td>n/a</td><td>Call Center instance ID in the BroadWorks</td></tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "profile": {
                    "name": "My Call Center",
                    "callingLineId": {
                        "firstName": "First",
                        "lastName": "Last"
                    },
                    "phoneNumber": "+1-4150192301",
                    "tnRoutine": "port-no-temp",
                    "extension": "2301"
                }
            }

    + Schema

            {
               "title": "Modify Call Center request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "phoneNumber": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^\\+\\d+-\\d+$"
                              }
                           }
                        },
                        "phoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 23,
                           "pattern": "^\\+\\d+-\\d+$"
                        },
                        "tnRoutine": {
                           "enum": [
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        },
                        "extension": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "password": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 60
                        },
                        "department": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "alias": {
                           "type": "array",
                           "maxItems": 3,
                           "items": {
                              "type": "string",
                              "description": "SIP URI",
                              "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                              "minLength": 1,
                              "maxLength": 161
                           }
                        },
                        "publicServiceIdentity": {
                           "type": "string",
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "type": {
                     "enum": [
                        "Basic",
                        "Standard",
                        "Premium"
                     ]
                  },
                  "routingtype": {
                     "enum": [
                        "Priority Based",
                        "Skill Based"
                     ]
                  },
                  "policy": {
                     "enum": [
                        "Circular",
                        "Regular",
                        "Simultaneous",
                        "Uniform",
                        "Weighted"
                     ]
                  },
                  "enableReporting": {
                     "type": "boolean"
                  },
                  "callCenterSettings": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "enableVideo": {
                           "type": "boolean"
                        },
                        "queueLength": {
                           "type": "integer",
                           "minimum": 0,
                           "maximum": 525
                        },
                        "playRingingWhenOfferingCall": {
                           "type": "boolean"
                        },
                        "allowCallerToDialEscapeDigit": {
                           "type": "boolean"
                        },
                        "escapeDigit": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 1,
                           "pattern": "^[0-9#\\*]+$"
                        },
                        "resetCallStatisticsUponEntryInQueue": {
                           "type": "boolean"
                        }
                     }
                  },
                  "agentSettings": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "allowAgentLogoff": {
                           "type": "boolean"
                        },
                        "allowCallWaitingForAgents": {
                           "type": "boolean"
                        },
                        "allowCallsToAgentsInWrapUp": {
                           "type": "boolean"
                        },
                        "overrideAgentWrapUpTime": {
                           "type": "boolean"
                        },
                        "wrapUpSeconds": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 3600
                        },
                        "enableAutomaticStateChangeForAgents": {
                           "type": "boolean"
                        },
                        "agentStateAfterCall": {
                           "enum": [
                              "Available",
                              "Unavailable",
                              "Wrap-Up"
                           ]
                        },
                        "forceDeliveryOfCalls": {
                           "type": "boolean"
                        },
                        "forceDeliveryWaitTimeSeconds": {
                           "type": "integer",
                           "minimum": 1,
                           "maximum": 10
                        }
                     }
                  },
                  "agentUnavailableCode": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 10
                  },
                  "bandwidthAndQoS": {
                     "type": "object",
                     "additionalProperties": false,
                     "properties": {
                        "externalPreferredAudioCodec": {
                           "enum": [
                              "None",
                              "G711",
                              "G722",
                              "G729",
                              "G726",
                              "AMR",
                              "AMR-WB"
                           ]
                        },
                        "internalPreferredAudioCodec": {
                           "enum": [
                              "None",
                              "G711",
                              "G722",
                              "G729",
                              "G726",
                              "AMR",
                              "AMR-WB"
                           ]
                        }
                     }
                  },
                  "networkClassOfService": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  }
               }
            }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Site/call-centers/4151002300"
                    }
                },
                "callCenterId": "4151002300",
                "profile": {
                    "extension": "2300",
                    "publicServiceIdentity": "4151002300@voip.example.net"
                },
                "extensions": {
                    "broadworks": {
                        "resourceId": "4151002300"
                    }
                }
            }

    + Schema

            {
               "title": "Modify Call Center response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "callCenterId": {
                     "minLength": 1,
                     "maxLength": 161
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "extension": {
                           "type": "string",
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "publicServiceIdentity": {
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "callCenterId",
                  "extensions"
               ]
            }

## Call Center's Alternate Numbers Service Settings [/api/customers/{customerId}/sites/{siteId}/call-centers/{callCenterId}/services/Alternate%20Numbers]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + callCenterId: `callCenterExample` (string, required)

### Modify Alternate Numbers Service Settings [PUT]
Update a BroadWorks Call Center's Alternate Numbers service settings.<br />

<table border=1>
    <thead>
    <th>Process Name</th>
    <th>Process Type</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>Modify Call Center Alternate Numbers(VoIP Entity)</td>
            <td>Base process</td>
            <td>This process is used when the alternate processes are not enabled. In the initial implementation the process will always return a 501 Not Implemented response.</td>
        </tr>
        <tr>
            <td>Modify Call Center Alternate Numbers via LWS-SOAP (VoIP Entity)</td>
            <td>Alternate Process</td>
            <td>This process is enabled by default when the alternate processes are enabled. In current implementation Call Center's Alternate Numbers service settings are updated using LWS-SOAP ServiceUserAlternateNumbersModifyRequest API call.</td>
        </tr>
    </tbody>
</table>

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Customer.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Site.</td>
        </tr>
        <tr>
            <td>callCenterId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Call Center to be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "callCenterId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "callCenterId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>distinctiveRing</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Distinctive ring setting.</td>
        </tr>
        <tr>
            <td>alternateNumbers</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Container for alternate numbers information. Alternate numbers is an array of entries. </td></tr>
                        <tr>
                            <td>alternateNumbers.id</td>
                            <td>yes</td>
                            <td></td>
                            <td>Alternate Number ID - number of Alt. Num entry in the list.
                                <br/>Allowed values: [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ].
                                <br/><b>Note:</b> The IDs must be provided in ascending order in the request, providing
                                the IDs in a random order will cause the request to fail.
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.tnRoutine</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                TN management routine for provided phone number.<br />
                                <b>Note: at this time only ""(empty string) is allowed.</b><br/>
                                Supported values and impact on other required properties:
                                <table border=1>
                                <thead>
                                    <th>tnRoutine</th>
                                    <th>Description</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><b>port-no-temp</b></td>
                                        <td>
                                            TN does not exist in the system; will attempt to assign at both the Customer and Site levels.<br/>
                                            <b>Not Implemented</b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><b>auto</b></td>
                                        <td>TN may or may not already exist in the system; will be assigned automatically to either/both as needed.<br />
                                        <b>Not Implemented</b></td>
                                    </tr>
                                    <tr>
                                        <td><b>""</b>(empty string)</td>
                                        <td>TN must already be available for use; no assignment will be performed.</td>
                                    </tr>
                                </tbody>
                                </table>
                                Omitted tnRoutine parameter is same as ""(empty string) tnRoutine value.
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.phoneNumber</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate phone number.<br/>
                                Must be E.164 formatted, e.g. +1-2005553001 (the dash is required, after the country code).<br/>
                                Accepts also null value. Submitting null will erase phone number in the alternate number entry specified with "id".
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.extension</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate extension.<br/>
                                Accepts also null value. Submitting null will erase extension in the alternate number entry specified with "id".
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.ringPattern</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Ring pattern.<br/>Allowed values: [ null, "Normal", "Long-Long", "Short-Short-Long", "Short-Long-Short" ]. Null is equal to "Normal".<br/>
                                <b>Note:</b> Ring pattern does not have meaning when phone number and extension are both empty, and will be ignored in this case.
                            </td>
                        </tr>
                         <tr>
                            <td>alternateNumbers.description</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate number entity description.<br/>
                                <b>Not Implemented</b>
                            </td>
                        </tr>
    </tbody>
</table>

### Response Properties - 200 OK
Besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.<br />
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Description</th>
    <th>Mandatory</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td>Customer Id.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>siteId</td>
            <td>Site Id.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>callCenterId</td>
            <td>Call Center Id.</td>
            <td>Yes</td>
       </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "distinctiveRing": false,
                "alternateNumbers": [
                    {
                        "id": 1,
                        "tnRoutine": "",
                        "phoneNumber": "+1-4125553000",
                        "extension": "3000",
                        "ringPattern": "Long-Long"
                    },
                    {
                        "id": 5,
                        "extension": "3005",
                        "ringPattern": "Long-Long"
                    }
                ]
            }

    + Schema

            {
               "title": "Call Center Alternate Numbers Modify request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "distinctiveRing": {
                     "type": "boolean"
                  },
                  "alternateNumbers": {
                     "type": "array",
                     "maxItems": 10,
                     "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                           "id": {
                              "type": "integer",
                              "min": 1,
                              "max": 10
                           },
                           "tnRoutine": {
                              "enum": [
                                 "",
                                 "port-no-temp",
                                 "auto"
                              ]
                           },
                           "phoneNumber": {
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "minLength": 1,
                              "maxLength": 23,
                              "pattern": "^\\+\\d+-\\d+$"
                           },
                           "extension": {
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "minLength": 2,
                              "maxLength": 20,
                              "pattern": "^[0-9]+$"
                           },
                           "ringPattern": {
                              "enum": [
                                 null,
                                 "Normal",
                                 "Long-Long",
                                 "Short-Short-Long",
                                 "Short-Long-Short"
                              ]
                           }
                        },
                        "required": [
                           "id"
                        ]
                     }
                  }
               }
            }

+ Response 200
    + Headers

            Transaction-Id: 1380080943120
    
    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://ucserver.example.net/api/customers/Example%20Com/sites/Example%20Site/call-centers/4151002300/services/Alternate%20Numbers"
                    }
                },
                "customerId": "Example Com",
                "siteId": "Example Site",
                "callCenterId": "4151002300"
            }

    + Schema
    
            {
                "title": "Call Centerâ€™s Alternate Number settings modify response body parameters",
                "required": ["_links", "customerId", "siteId", "callCenterId"],
                "properties": {
                    "_links": {
                        "required": ["self"]
                    },
                    "customerId": {
                        "title": "Customer ID",
                        "description": "Uniquely identifies a service provider. NOTE: The service provider id has a maximum length of 30 bytes, not 30 characters.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 30
                    },
                    "siteId": {
                        "title": "Site ID",
                        "description": "Site Id identifies a group within a customer.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 30
                    },
                    "callCenterId": {
                        "title": "User ID",
                        "description": "A user id consists of a user-portion optionally followed by an @ sign and a domain name. If the domain is not specified, it is assumed to be the system default domain. The domain is required when adding normal users and virtual users, i.e. Auto Attendants, Hunt Groups, Call Centers.... The domain must not be specified for system-level and service-provider-level administrators.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 161
                    }
                }
            }

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4410",
                "externalErrorSummary": "Alternate Numbers error",
                "externalErrorDetail": "[Error 4410] Service is not assigned to this subscriber: Alternate Numbers"
            }


<!-- --------------------------- VoIP Site Instant Group Call ----------------------- -->

# Group VoIP Site Instant Group Call
Supported network elements:

* LWS-SOAP
* BroadWorks Application Server

Keys:

* instantGroupCallId

Extension Keys:

* (none)

## VoIP Instant Group Calls Collection [/api/instant-group-calls{?mode}]

+ Parameters
    + mode: `create-only` (enum[string], required)
        + Members
            + `prevalidate-only`
            + `prevalidate-and-create`
            + `create-only`

### Create a VoIP Instant Group Call [POST]
Create a new VoIP Instant Group Call.<br />
Process name: Create Instant Group Call (VoIP Entity)<br />
Rollback-enabled: No

### URI Query Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>mode</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Controls execution mode.<br />
            Allowed values: [ "prevalidate-only", "prevalidate-and-create", "create-only" ].<br />
            <b>NOTE: at this time only "create-only" (attempts to create the resource, with no pre-validation) is allowed.</b>
            </td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Query Parameters

    {
        "title": "Create Site Instant Group Call request URI Query parameters schema",
        "properties": {
            "mode": {
                "enum": [
                    "create-only"
                ]
            }
        },
        "required": [
            "mode"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Classic Server customerId (server-generated) of the Customer in which the new VoIP Instant Group Call is to be created.
            In a default configuration (where a VoIP Instant Group Call is composed of BroadWorks entities only),
            this property can be omitted if extensions.broadworks.serviceProviderId is populated.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Classic Server siteId (server-generated) of the Site in which the new VoIP Instant Group Call is to be created.
            In a default configuration (where a VoIP Instant Group Call is composed of BroadWorks entities only),
            this property can be omitted if extensions.broadworks.groupId is populated.</td>
        </tr>
        <tr>
            <td>name</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The clients suggested name for the resource. <br />
            It is used for constructing the BroadWorks Instant Group Call ID.<br />
            <b>Note: If both "name" and "extensions.broadworks.resourceId" are omitted then the userId of the virtual user will be auto-generated.</b>
            </td>
        </tr>
        <tr>
            <td>profile</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>
                Container for Profile information.</td></tr>
                        <tr>
                            <td>profile.name</td>
                            <td style="text-align: center;">yes</td>
                            <td>n/a</td>
                            <td>Name</td>
                        </tr>
                        <tr>
                            <td>profile.callingLineId</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>
                                Container for Calling Line ID information.<br />
                                <b>Not Implemented</b></td></tr>
                                        <tr>
                                            <td>profile.callingLineId.firstName</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID First Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.lastName</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID Last Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.phoneNumber</td>
                                            <td style="text-align: center; font-weight:bold">no</td>
                                            <td>n/a</td>
                                            <td>Calling Line ID Phone Number.</td>
                                        </tr>
                        <tr>
                            <td>profile.phoneNumber</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Phone Number.</td>
                        </tr>
                        <tr>
                            <td>profile.tnRoutine</td>
                            <td style="text-align: center;">no</td>
                            <td>"" (empty string)</td>
                            <td>Phone Number (TN) assignment routine.<br />
                            Supported values and impact on other required properties:
                            <ul>
                                    <li><b>port-no-temp</b> - TN does not exist in the system; will attempt to assign at both the Customer and Site levels.</li>
                                    <li><b>auto</b> - TN may or may not already exist in the system; will be assigned automatically to either/both as needed. <b>Not Implemented</b></li>
                                    <li><b>no-number </b>- TN will not be assigned automatically</li>
                                    <li><b>"" (empty string) </b>- TN will not be assigned automatically</li>
                                     </ul>
                          </td>
                        </tr>
                        <tr>
                            <td>profile.extension</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Extension.</td>
                        </tr>
                        <tr>
                            <td>profile.password</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Password.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.department</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Department.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.language</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Language.</td>
                        </tr>
                        <tr>
                            <td>profile.timeZone</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Time Zone expressed as a Zone Name from the IANA Time Zone Database, e.g. "America/New_York".</td>
                        </tr>
                        <tr>
                            <td>profile.alias</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>List of possible SIP URIs aliases of the Virtual User.<br />
                            <b>Not Implemented</b></td>
                        </tr>
                        <tr>
                            <td>profile.publicServiceIdentity</td>
                            <td style="text-align: center;">no</td>
                            <td>n/a</td>
                            <td>Public User Identity SIP URI for the Virtual User.<br />
                            <b>Not Implemented</b></td>
                        </tr>
        <tr>
            <td>destinationPhoneNumber</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Instant Group Call User List.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>isAnswerTimeoutEnabled</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>false</td>
            <td>Enable Maximum Call Time for Unanswered Calls.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>answerTimeoutMinutes</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>The maximum duration for unanswered call.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>networkClassOfService</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Network Class of Service name.<br />
            <b>Not Implemented</b></td>
        </tr>
        <tr>
            <td>services</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for list of services and their configuration settings to be assigned to the virtual user.<br />
            Note: Initial release does not support service configuration.<br />
            To assign a service without doing any configuration, set the value to an empty object, e.g.
            <code>"services" : { "Remote Office" : { } }</code>.<br />
            </td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td>n/a</td>
            <td>
                Container for BroadWorks-specific properties.</td></tr>
                        <tr>
                            <td>extensions.broadworks.serviceProviderId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>ID of the BroadWorks service provider or enterprse in which the underlying BroadWorks Virtual User is to be created.
                            In a default configuration (where a VoIP Virtual User is composed of BroadWorks entities only),
                            this property can be used instead of customerId (eliminating the need to know the server-generated customerId
                            prior to placing this request).</td>
                        </tr>
                        <tr>
                            <td>extensions.broadworks.groupId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>ID of the BroadWorks group in which the underlying BroadWorks Virtual User is to be created.
                            In a default configuration (where a VoIP Virtual User is composed of BroadWorks entities only),
                            this property can be used instead of customerId (eliminating the need to know the server-generated customerId
                            prior to placing this request).
                            </td>
                        </tr>
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>n/a</td>
                            <td>The ID to be set on the new virtual user. <br />
                            <b>Note: If provided it overrides the value generated from the "name" property.</b><br />
                            <b>If both "name" and "extensions.broadworks.resourceId" are omitted then the userId of the virtual user will be auto-generated.</b>
                            </td>
                        </tr>
    </tbody>
</table>

### Response Properties - 201 Created
Note: The Create Instant Group Call process will return a 502 response when LWS-SOAP is misconfigured ("enhancedLwsSoapResponsesEnable" config parameter is set to false).<br />
For the Create Instant Group Call process besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Mandatory</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>instantGroupCallId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>The Classic Server ID of the new Instant Group Call user.</td>
        </tr>
        <tr>
            <td>profile</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>
                Container for Profile information.</td></tr>
                        <tr>
                            <td>profile.callingLineId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>
                                Container for Calling Line ID information.</td></tr>
                                        <tr>
                                            <td>profile.callingLineId.firstName</td>
                                            <td style="text-align: center; font-weight:bold">yes</td>
                                            <td>Calling Line ID First Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                                        <tr>
                                            <td>profile.callingLineId.lastName</td>
                                            <td style="text-align: center; font-weight:bold">yes</td>
                                            <td>Calling Line ID Last Name.<br />
                                            In initial implementation will be copied from the profile.name.</td>
                                        </tr>
                        <tr>
                            <td>profile.extension</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Extension.</td>
                        </tr>
                        <tr>
                            <td>profile.publicServiceIdentity</td>
                            <td style="text-align: center; font-weight:bold">no</td>
                            <td>Public User Identity SIP URI for the Virtual User.</td>
                        </tr>
        <tr>
            <td>uniqueId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Unique asset value.</td>
        </tr>
        <tr>
            <td>extensions</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>Container for network-element specific properties</td>
        </tr>
        <tr>
            <td>extensions.broadworks</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>
                Container for BroadWorks-specific properties.
                        <tr>
                            <td>extensions.broadworks.resourceId</td>
                            <td style="text-align: center; font-weight:bold">yes</td>
                            <td>The ID set on the new virtual user.</td>
                        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "customerId": "Example Com",
                "siteId": "Example Com - North",
                "name": "5551239876@example.com",
                "extensions": {
                    "broadworks": {
                        "resourceId": "5551239876@example.com"
                    }
                },
                "profile": {
                    "name": "My IGC",
                    "phoneNumber": "+1-5551239876",
                    "extension": "9876",
                    "language": "English",
                    "timeZone": " America\/New_York"
                },
                "services": {
                    "Alternate Numbers": {},
                    "Basic Call Logs": {}
                }
            }

    + Schema

            {
               "title": "Create Site Instant Group Call request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "customerId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "siteId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 30
                  },
                  "name": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161,
                     "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                  },
                  "extensions": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "serviceProviderId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "groupId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30
                              },
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           }
                        }
                     }
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "phoneNumber": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^\\+\\d+-\\d+$"
                              }
                           }
                        },
                        "phoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 23,
                           "pattern": "^\\+\\d+-\\d+$"
                        },
                        "tnRoutine": {
                           "enum": [
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        },
                        "extension": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "password": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 60
                        },
                        "department": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "alias": {
                           "type": "array",
                           "maxItems": 3,
                           "items": {
                              "type": "string",
                              "description": "SIP URI",
                              "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                              "minLength": 1,
                              "maxLength": 161
                           }
                        },
                        "publicServiceIdentity": {
                           "type": "string",
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "networkClassOfService": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  },
                  "services": {
                     "type": "object",
                     "patternproperties": {
                        "^.+$": {
                           "type": "object"
                        }
                     }
                  },
                  "destinationPhoneNumber": {
                     "type": "array",
                     "items": {
                        "anyOf": [
                           {
                              "id": "E.164 DN",
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "description": "A formatted TN.",
                              "pattern": "^\\+\\d+-\\d+$",
                              "minLength": 1,
                              "maxLength": 23
                           },
                           {
                              "id": "non-E.164 DN",
                              "type": "string",
                              "description": "A non-E.164 formatted TN.",
                              "pattern": "^[\\d\\-]+$",
                              "minLength": 1,
                              "maxLength": 23
                           },
                           {
                              "id": "SIP URI",
                              "type": "string",
                              "description": "SIP URI",
                              "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                              "minLength": 1,
                              "maxLength": 161
                           }
                        ]
                     }
                  },
                  "isAnswerTimeoutEnabled": {
                     "type": "boolean"
                  },
                  "answerTimeoutMinutes": {
                     "type": "integer",
                     "minimum": 1,
                     "maximum": 60
                  }
               }
            }

+ Response 201 (application/hal+json)
    + Headers

            Location: http://classicserver.example.com/api/instant-group-calls/5551239876%40example.com
            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http:\/\/classicserver.example.com\/api\/instant-group-calls\/5551239876%40example.com"
                    }
                },
                "instantGroupCallId": "5551239876@example.com",
                "profile": {
                    "callingLineId": {
                        "lastName": "My IGC",
                        "firstName": "My IGC"
                    },
                    "publicServiceIdentity": "5551239876@example.com",
                    "extension": "9876"
                },
                "uniqueId": "138008094312048393",
                "extensions": {
                    "broadworks": {
                        "resourceId": "5551239876@example.com"
                    }
                }
            }

    + Schema

            {
               "title": "Create Site Instant Group Call response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "instantGroupCallId": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 161
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              }
                           },
                           "required": [
                              "lastName",
                              "firstName"
                           ]
                        },
                        "extension": {
                           "type": "string",
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "publicServiceIdentity": {
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     },
                     "required": [
                        "callingLineId"
                     ]
                  },
                  "uniqueId": {
                     "type": "string",
                     "minLength": 18,
                     "maxLength": 18,
                     "pattern": "^\\d+$"
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161,
                                 "pattern": "^[\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "instantGroupCallId",
                  "profile",
                  "extensions"
               ]
            }

+ Response 422 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "SEMANTIC_ERROR",
                "summary": "The server was unable to process your request",
                "detail": "Either customerId or extensions.broadworks.serviceProviderId is required when creating a VoIP Instant Group Call.Either siteId or extensions.broadworks.groupId is required when creating a VoIP Instant Group Call."
            }

+ Response 502 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_SERVER_ERROR",
                "summary": "Unexpected response from remote API",
                "detail": "LWS-SOAP: Received unexpected response: 'SuccessResponse'"
            }

## VoIP Instant Group Call [/api/instant-group-calls/{instantGroupCallId}]

+ Parameters
    + instantGroupCallId: `instantGroupCallExample` (string, required)

### Delete a VoIP Instant Group Call [DELETE]
Delete a VoIP Instant Group Call.<br />
Process name: Delete Instant Group Call (VoIP Entity)<br />
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>instantGroupCallId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server instantGroupCallId (server-generated) of the Instant Group Call to be deleted.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Delete Instant Group Call request URI template parameters schema",
        "additionalProperties": false,
        "properties": {
            "instantGroupCallId": {
                "type": "string",
                "description": "The Instant Group Call Id must have the domain, but that is not enforced by validation",
                "minLength": 1,
                "maxLength": 161
            }
        },
        "required": [
            "instantGroupCallId"
        ]
    }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4008",
                "externalErrorSummary": "Error",
                "externalErrorDetail": "[Error 4008] User not found: instantGroupCallTest"
            }

## Instant Group Call's Assigned Services [/api/customers/{customerId}/sites/{siteId}/instant-group-calls/{instantGroupCallId}/services/assigned-services]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + instantGroupCallId: `instantGroupCallExample` (string, required)

### Update Assigned Services [PUT]
Request modifies list of assigned services on specified Instant Group Call.<br />
Process Name: Set Instant Group Call Services (VoIP Entity)<br />
Rollback-enabled:  No<br />
<b>Note</b>: Initial implementation will not check if the Instant Group Call actually exists in the provided Customer and Site and also it does not actually check that the user type you are altering is actually an Instant Group Call.

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Customer.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Site.</td>
        </tr>
        <tr>
            <td>instantGroupCallId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Instant Group Call to be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "instantGroupCallId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "instantGroupCallId"
        ]
    }

### Request Properties
<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>services</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td>Array of user services.</td>
        </tr>
        <tr>
            <td>services[]</td>
            <td style="text-align: center;">no</td>
            <td>n/a</td>
            <td><b>Note</b>: service name should be valid BroadWorks service name, available for assignment in the BroadWorks system that is configured for operations. <br />
            Classic Server does not do reverse mapping of BroadWorks service names (for example, "BroadTouch Business Communicator Desktop - Audio" is label and corresponding service name is "Client License 18"). See "BroadWorks Reverse License Mapping" document for details. <br />
            Classic Server will not pre-validate service name correctness.
Providing invalid service name will result in LWS-SOAP request validation error.</td>
        </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "services": [
                    "Authentication",
                    "Alternate Numbers"
                ]
            }

    + Schema

            {
               "title": "User services assignment request body schema",
               "type": "object",
               "properties": {
                  "services": {
                     "type": "array",
                     "items": {
                        "type": "string",
                        "minLength": 1
                     }
                  }
               },
               "required": [
                  "services"
               ]
            }

+ Response 204
    + Headers

            Transaction-Id: 1380080943120

+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "summary": "Some services could not be assigned. No services were un-assigned",
                "externalErrorCode": null,
                "externalErrorSummary": "User service assignment failed. Some services were not assigned:",
                "externalErrorDetail": "Authentication: Service is not assignable."
            }

## Site's Instant Group Call [/api/customers/{customerId}/sites/{siteId}/instant-group-calls/{instantGroupCallId}]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + instantGroupCallId: `instantGroupCallExample` (string, required)

### Modify a VoIP Instant Group Call [PUT]
Update Instant Group Call instance.<br/>
Process Name: Modify Instant Group Call via LWS-SOAP (VoIP Entity)<br/>
Rollback-enabled: No

### URI Template Parameters
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>customerId</td><td>yes</td><td>n/a</td><td>Classic Server customerId (server-generated) of the Customer</td></tr>
    <tr><td>siteId</td><td>yes</td><td>n/a</td><td>Classic Server siteId (server-generated) of the Site</td></tr>
    <tr><td>instantGroupCallId</td><td>yes</td><td>n/a</td><td>Classic Server ID of the Instant Group Call instance</td></tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "Modify Instant Group Call request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "instantGroupCallId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "instantGroupCallId"
        ]
    }

### Request Properties
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
        <tr><td>profile</td><td>no</td><td>n/a</td><td>Container for Virtual User Profile settings</td></tr>
    <tr><td>profile.name</td><td>no</td><td>n/a</td><td></td></tr>
        <tr><td>profile.callingLineId</td><td>no</td><td>n/a</td><td>Container for Calling Line Id settings</td></tr>
            <tr>
                <td>profile.callingLineId.lastName</td>
                <td>no</td>
                <td>n/a</td>
                <td>Calling line Id last name.<br />
                    <b>Note:</b> The callingLineId last name will be updated with the name value 
                    if the name is present in the request and the callingLineId last name is not.
                </td>
            </tr>
            <tr>
                <td>profile.callingLineId.firstName</td>
                <td>no</td>
                <td>n/a</td>
                <td>Calling line Id first name.<br />
                    <b>Note:</b> The callingLineId first name will be updated with the name value 
                    if the name is present in the request and the callingLineId first name is not.
                </td>
            <tr><td>profile.callingLineId.phoneNumber</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br> Calling Line Id phone number</td></tr>
    <tr><td>profile.phoneNumber</td><td>no</td><td>n/a</td><td>An E.164-formatted TN</td></tr>
    <tr><td>tnRoutine</td><td>no</td><td>n/a</td><td>Phone Number add routine to apply. Allowed values: ["", "no-number", "port-no-temp", "auto"]<br>Note: "auto" and "no-number" values will not be implemented in initial release</td></tr>
    <tr><td>profile.extension</td><td>no</td><td>n/a</td><td>Extension</td></tr>
    <tr><td>profile.password</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.department</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.language</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.timeZone</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.alias</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>profile.publicServiceIdentity</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>destinationPhoneNumber</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>isAnswerTimeoutEnabled</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>answerTimeoutMinutes</td><td>no</td><td>n/a</td><td><b>Not Implemented</b></td></tr>
    <tr><td>networkClassesOfService</td><td>no</td><td>n/a</td><td><b>Not Implemented.</b><br>Network Class of Service</td></tr>
    </tbody>
</table>

### Response Properties - 200 OK
<table border=1>
    <thead><th>Parameter</th><th>Required?</th><th>Default</th><th>Description</th></thead>
    <tbody>
    <tr><td>instantGroupCallId</td><td>yes</td><td>n/a</td><td>Classic Server ID of the Instant Group Call instance</td></tr>
        <tr><td>profile</td><td>no</td><td>n/a</td><td>Container for profile settings</td></tr>
    <tr><td>profile.extension</td><td>no</td><td>n/a</td><td>Extension</td></tr>
    <tr><td>profile.publicServiceIdentity</td><td>no</td><td>n/a</td><td>Public Service Identity</td></tr>
        <tr><td>extensions</td><td>yes</td><td>n/a</td><td>Container for network-element specific properties</td></tr>
        <tr><td>extensions.broadworks</td><td>yes</td><td>n/a</td><td>Container for BroadWorks-specific properties.</td></tr>
    <tr><td>extensions.broadworks.resourceId</td><td>yes</td><td>n/a</td><td>Instant Group Call instance ID in the BroadWorks</td></tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "profile": {
                    "name": "My Instant Group Call",
                    "callingLineId": {
                        "firstName": "First",
                        "lastName": "Last"
                    },
                    "phoneNumber": "+1-4150192301",
                    "tnRoutine": "port-no-temp",
                    "extension": "2301"
                }
            }

    + Schema

            {
               "title": "Modify Instant Group Call request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "name": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 30
                        },
                        "callingLineId": {
                           "type": "object",
                           "additionalproperties": false,
                           "properties": {
                              "lastName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "firstName": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 30,
                                 "pattern": "^[\\x20-\\x21\\x23-\\x24\\x26-\\x2A\\x2C-\\x2E\\x30-\\x7F]+$"
                              },
                              "phoneNumber": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 23,
                                 "pattern": "^\\+\\d+-\\d+$"
                              }
                           }
                        },
                        "phoneNumber": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 23,
                           "pattern": "^\\+\\d+-\\d+$"
                        },
                        "tnRoutine": {
                           "enum": [
                              "",
                              "port-no-temp",
                              "auto",
                              "no-number"
                           ]
                        },
                        "extension": {
                           "type": [
                              "string",
                              "null"
                           ],
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "password": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 60
                        },
                        "department": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 50
                        },
                        "language": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 40
                        },
                        "timeZone": {
                           "type": "string",
                           "minLength": 1,
                           "maxLength": 127
                        },
                        "alias": {
                           "type": "array",
                           "maxItems": 3,
                           "items": {
                              "type": "string",
                              "description": "SIP URI",
                              "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                              "minLength": 1,
                              "maxLength": 161
                           }
                        },
                        "publicServiceIdentity": {
                           "type": "string",
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "destinationPhoneNumber": {
                     "type": "array",
                     "items": {
                        "anyOf": [
                           {
                              "id": "E.164 DN",
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "description": "A formatted TN.",
                              "pattern": "^\\+\\d+-\\d+$",
                              "minLength": 1,
                              "maxLength": 23
                           },
                           {
                              "id": "non-E.164 DN",
                              "type": "string",
                              "description": "A non-E.164 formatted TN.",
                              "pattern": "^[\\d\\-]+$",
                              "minLength": 1,
                              "maxLength": 23
                           },
                           {
                              "id": "SIP URI",
                              "type": "string",
                              "description": "SIP URI",
                              "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                              "minLength": 1,
                              "maxLength": 161
                           }
                        ]
                     }
                  },
                  "isAnswerTimeoutEnabled": {
                     "type": "boolean"
                  },
                  "answerTimeoutMinutes": {
                     "type": "integer",
                     "minimum": 1,
                     "maximum": 60
                  },
                  "networkClassOfService": {
                     "type": "string",
                     "minLength": 1,
                     "maxLength": 40
                  }
               }
            }

+ Response 200 (application/hal+json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://classicserver.example.com/api/customers/Example%20Com/sites/Example%20Site/instant-group-calls/4151002300"
                    }
                },
                "instantGroupCallId": "4151002300",
                "profile": {
                    "extension": "2300",
                    "publicServiceIdentity": "4151002300@voip.example.net"
                },
                "extensions": {
                    "broadworks": {
                        "resourceId": "4151002300"
                    }
                }
            }

    + Schema

            {
               "title": "Modify Instant Group Call response body parameters schema",
               "type": "object",
               "properties": {
                  "_links": {
                     "type": "object",
                     "properties": {
                        "self": {
                           "type": "object",
                           "properties": {
                              "href": {
                                 "type": "string"
                              }
                           },
                           "required": [
                              "href"
                           ]
                        }
                     },
                     "required": [
                        "self"
                     ]
                  },
                  "instantGroupCallId": {
                     "minLength": 1,
                     "maxLength": 161
                  },
                  "profile": {
                     "type": "object",
                     "additionalproperties": false,
                     "properties": {
                        "extension": {
                           "type": "string",
                           "minLength": 2,
                           "maxLength": 20,
                           "pattern": "^[0-9]+$"
                        },
                        "publicServiceIdentity": {
                           "description": "SIP URI",
                           "pattern": "^[\\+]?[\\w\\-\\.\\!~\\*\\'\\(\\)]+@[a-zA-Z\\d\\.\\-]+$",
                           "minLength": 1,
                           "maxLength": 161
                        }
                     }
                  },
                  "extensions": {
                     "type": "object",
                     "properties": {
                        "broadworks": {
                           "type": "object",
                           "additionalProperties": false,
                           "properties": {
                              "resourceId": {
                                 "type": "string",
                                 "minLength": 1,
                                 "maxLength": 161
                              }
                           },
                           "required": [
                              "resourceId"
                           ]
                        }
                     },
                     "required": [
                        "broadworks"
                     ]
                  }
               },
               "required": [
                  "_links",
                  "instantGroupCallId",
                  "extensions"
               ]
            }

## Instant Group Call's Alternate Numbers Service Settings [/api/customers/{customerId}/sites/{siteId}/instant-group-calls/{instantGroupCallId}/services/Alternate%20Numbers]

+ Parameters
    + customerId: `customerExample` (string, required)
    + siteId: `siteExample` (string, required)
    + instantGroupCallId: `instantGroupCallExample` (string, required)

### Modify Alternate Numbers Service Settings [PUT]
Update a BroadWorks Instant Group Call's Alternate Numbers service settings.<br />

<table border=1>
    <thead>
    <th>Process Name</th>
    <th>Process Type</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>Modify Instant Group Call Alternate Numbers(VoIP Entity)</td>
            <td>Base process</td>
            <td>This process is used when the alternate processes are not enabled. In the initial implementation the process will always return a 501 Not Implemented response.</td>
        </tr>
        <tr>
            <td>Modify Instant Group Call Alternate Numbers via LWS-SOAP (VoIP Entity)</td>
            <td>Alternate Process</td>
            <td>This process is enabled by default when the alternate processes are enabled. In current implementation Instant Group Call's Alternate Numbers service settings are updated using LWS-SOAP ServiceUserAlternateNumbersModifyRequest API call.</td>
        </tr>
    </tbody>
</table>

### URI Template Parameters
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Customer.</td>
        </tr>
        <tr>
            <td>siteId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Site.</td>
        </tr>
        <tr>
            <td>instantGroupCallId</td>
            <td style="text-align: center; font-weight:bold">yes</td>
            <td>n/a</td>
            <td>Classic Server ID (server-generated) of the Instant Group Call to be updated.</td>
        </tr>
    </tbody>
</table>

### JSON Schema for URI Template Parameters

    {
        "title": "request URI template parameters schema",
        "properties": {
            "customerId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "siteId": {
                "type": "string",
                "minLength": 1,
                "maxLength": 30
            },
            "instantGroupCallId": {
                "minLength": 1,
                "maxLength": 161,
                "pattern": "^[\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}][\\w\\'#\\$\\%&\\-\\/=\\?;\\.\\|~\\!`\\^\\{\\}\\+]{5,79}@[a-zA-Z\\d\\.\\-]{2,80}$"
            }
        },
        "required": [
            "customerId",
            "siteId",
            "instantGroupCallId"
        ]
    }

### Request Properties
Note: See the JSON Schema for data types, format, length restrictions, etc.

<table border=1>
    <thead>
    <th>Property</th>
    <th>Required?</th>
    <th>Default</th>
    <th>Description</th>
    </thead>
    <tbody>
        <tr>
            <td>distinctiveRing</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Distinctive ring setting.</td>
        </tr>
        <tr>
            <td>alternateNumbers</td>
            <td style="text-align: center; font-weight:bold">no</td>
            <td></td>
            <td>Container for alternate numbers information. Alternate numbers is an array of entries. </td></tr>
                        <tr>
                            <td>alternateNumbers.id</td>
                            <td>yes</td>
                            <td></td>
                            <td>Alternate Number ID - number of Alt. Num entry in the list.
                                <br/>Allowed values: [ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ].
                                <br/><b>Note:</b> The IDs must be provided in ascending order in the request, providing
                                the IDs in a random order will cause the request to fail.
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.tnRoutine</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                TN management routine for provided phone number.<br />
                                <b>Note: at this time only ""(empty string) is allowed.</b><br/>
                                Supported values and impact on other required properties:
                               <ul>
                                    <li><b>port-no-temp</b> - TN does not exist in the system; will attempt to assign at both the Customer and Site levels. <b>Not Implemented</b></li>
                                    <li><b>auto</b> - TN may or may not already exist in the system; will be assigned automatically to either/both as needed. <b>Not Implemented</b></li>
                                    <li><b>no-number </b>- TN must already be available for use; no assignment will be performed.</li>
                                    <li> Omitted tnRoutine parameter is same as ""(empty string) tnRoutine value</li>
                                     </ul>
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.phoneNumber</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate phone number.<br/>
                                Must be E.164 formatted, e.g. +1-2005553001 (the dash is required, after the country code).<br/>
                                Accepts also null value. Submitting null will erase phone number in the alternate number entry specified with "id".
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.extension</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate extension.<br/>
                                Accepts also null value. Submitting null will erase extension in the alternate number entry specified with "id".
                            </td>
                        </tr>
                        <tr>
                            <td>alternateNumbers.ringPattern</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Ring pattern.<br/>Allowed values: [ null, "Normal", "Long-Long", "Short-Short-Long", "Short-Long-Short" ]. Null is equal to "Normal".<br/>
                                <b>Note:</b> Ring pattern does not have meaning when phone number and extension are both empty, and will be ignored in this case.
                            </td>
                        </tr>
                         <tr>
                            <td>alternateNumbers.description</td>
                            <td>no</td>
                            <td></td>
                            <td>
                                Alternate number entity description.<br/>
                                <b>Not Implemented</b>
                            </td>
                        </tr>
    </tbody>
</table>

### Response Properties - 200 OK
Besides the properties listed in the table below, the response also contains the normal HAL `_links` properties.<br />
<table border=1>
    <thead>
    <th>Parameter</th>
    <th>Description</th>
    <th>Mandatory</th>
    </thead>
    <tbody>
        <tr>
            <td>customerId</td>
            <td>Customer Id.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>siteId</td>
            <td>Site Id.</td>
            <td>Yes</td>
       </tr>
       <tr>
            <td>instantGroupCallId</td>
            <td>Instant Group Call Id.</td>
            <td>Yes</td>
       </tr>
    </tbody>
</table>

+ Request (application/json)
    + Body

            {
                "distinctiveRing": false,
                "alternateNumbers": [
                    {
                        "id": 1,
                        "tnRoutine": "",
                        "phoneNumber": "+1-4125553000",
                        "extension": "3000",
                        "ringPattern": "Long-Long"
                    },
                    {
                        "id": 5,
                        "extension": "3005",
                        "ringPattern": "Long-Long"
                    }
                ]
            }

    + Schema

            {
               "title": "Instant Group Call Alternate Numbers Modify request body parameters schema",
               "type": "object",
               "additionalProperties": false,
               "properties": {
                  "distinctiveRing": {
                     "type": "boolean"
                  },
                  "alternateNumbers": {
                     "type": "array",
                     "maxItems": 10,
                     "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                           "id": {
                              "type": "integer",
                              "min": 1,
                              "max": 10
                           },
                           "tnRoutine": {
                              "enum": [
                                 "",
                                 "port-no-temp",
                                 "auto"
                              ]
                           },
                           "phoneNumber": {
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "minLength": 1,
                              "maxLength": 23,
                              "pattern": "^\\+\\d+-\\d+$"
                           },
                           "extension": {
                              "type": [
                                 "string",
                                 "null"
                              ],
                              "minLength": 2,
                              "maxLength": 20,
                              "pattern": "^[0-9]+$"
                           },
                           "ringPattern": {
                              "enum": [
                                 null,
                                 "Normal",
                                 "Long-Long",
                                 "Short-Short-Long",
                                 "Short-Long-Short"
                              ]
                           }
                        },
                        "required": [
                           "id"
                        ]
                     }
                  }
               }
            }

+ Response 200
    + Headers

            Transaction-Id: 1380080943120
    
    + Body

            {
                "_links": {
                    "self": {
                        "href": "http://ucserver.example.net/api/customers/Example%20Com/sites/Example%20Site/instant-group-calls/4151002300/services/Alternate%20Numbers"
                    }
                },
                "customerId": "Example Com",
                "siteId": "Example Site",
                "instantGroupCallId": "4151002300"
            }
            
    + Schema
    
            {
                "title": "Instant Group Callâ€™s Alternate Number settings modify response body parameters",
                "required": ["_links", "customerId", "siteId", "instantGroupCallId"],
                "properties": {
                    "_links": {
                        "required": ["self"]
                    },
                    "customerId": {
                        "title": "Customer ID",
                        "description": "Uniquely identifies a service provider. NOTE: The service provider id has a maximum length of 30 bytes, not 30 characters.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 30
                    },
                    "siteId": {
                        "title": "Site ID",
                        "description": "Site Id identifies a group within a customer.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 30
                    },
                    "instantGroupCallId": {
                        "title": "User ID",
                        "description": "A user id consists of a user-portion optionally followed by an @ sign and a domain name. If the domain is not specified, it is assumed to be the system default domain. The domain is required when adding normal users and virtual users, i.e. Auto Attendants, Hunt Groups, Call Centers.... The domain must not be specified for system-level and service-provider-level administrators.",
                        "type": "string",
                        "minLength": 1,
                        "maxLength": 161
                    }
                }
            }


+ Response 424 (application/json)
    + Headers

            Transaction-Id: 1380080943120

    + Body

            {
                "errorCode": "EXTERNAL_API_ERROR",
                "externalErrorCode": "4410",
                "externalErrorSummary": "Alternate Numbers error",
                "externalErrorDetail": "[Error 4410] Service is not assigned to this subscriber: Alternate Numbers"
            }


<!-- ==================================== FOOTER ================================= -->

# Group CHANGELOG

#2.43

General

 * Added GET/PUT /api/users/{+userId}/services/Fax%20Messaging
 * Added GET /api/customers/{+customerId}/sites/{+siteId}/users
 * Updated POST /users/{+userId}/resetDeviceCredentials; LWS-SOAP and eFAX alternate processes added
 * Updated PUT /api/users/{+userId}/services/assigned-services; LWS-SOAP and eFAX alternate processes added
 * Updated POST /api/users/{+userId}/reInvite; `email` body parameter added
 * Updated PUT /api/customers/{+customerId}/sites/{+siteId}/auto-attendants/{+autoAttendantId}; fixed request parameters description
 * JSON schemas are formatted to [draft-v4 version](http://tools.ietf.org/html/draft-zyp-json-schema-04)


#2.42

General

 * Added the "Error responses" section
 * Added PUT /api/customers/{+customerId}/sites/{+siteId}/auto-attendants/{+autoAttendantId}
 * Added PUT /api/customers/{+customerId}/sites/{+siteId}/hunt-groups/{+huntGroupId}
 * Added PUT /api/customers/{+customerId}/sites/{+siteId}/call-centers/{+callCenterId}
 * Added PUT /api/customers/{+customerId}/sites/{+siteId}/instant-group-calls/{+instantGroupCallId}
 * Added GET /api/customers/{+customerId}/sites/{+siteId}
 * Removed GET /api/customers{?extensions.broadworks.serviceProviderId}
 * Removed GET /api/sites{?extensions.broadworks.serviceProviderId,extensions.broadworks.groupId}
 * Updated the Virtual User Add requests to expose a "name" property
 * Updated the POST /api/users{?mode} request

Changes for S2294: LWS-REST: VoIP User BroadWorks Mobility Support (LWS-SOAP-backed)

 * Added POST /api/users/{+userId}/services/BroadWorks%20Mobility/mobile-identities
 * Added DELETE /api/users/{+userId}/services/BroadWorks%20Mobility/mobile-identities/{+mobileIdentityId}

Changes for S2370, 2296, 2371: LWS-REST Site Admin Add, Delete

 * Added POST /api/customers/{+customerId}/sites/{+siteId}/administrators{?mode}
 * Added DELETE /api/customers/{+customerId}/sites/{+siteId}/administrators/{+siteAdministratorId}

Changes for S2368, 2369, 2295: LWS-REST: Create LWS-SOAP-backed request for Customer Administrator Add, Delete

 * Added POST /api/customers/{+customerId}/administrators{?mode}
 * Added DELETE /api/customers/{+customerId}/administrators/{+customerAdministratorId}

Changes for S2297: LWS-REST: VoIP User Intercept Modify

 * Added PUT /api/users/{+userId}/services/Intercept%20User

Changes for S2275 LWS-REST VoIP Virtual User Delete

 * Added DELETE /api/auto-attendants/{+autoAttendantId}
 * Added DELETE /api/hunt-groups/{+huntGroupId}
 * Added DELETE /api/call-centers/{+callCenterId}
 * Added DELETE /api/instant-group-calls/{+instantGroupCallId}

Changes for S2292  LWS-REST: User Device Swap

  * Added POST /api/users/{+userId}/swapDevice

Changes for S2374 LWS-REST VoIP Virtual User Service (Un-)Assignment
 * Added PUT /api/customers/{+customerId}/sites/{+siteId}/auto-attendants/{+autoAttendantId}/services/assigned-services
 * Added PUT /api/customers/{+customerId}/sites/{+siteId}/hunt-groups/{+huntGroupId}/services/assigned-services
 * Added PUT /api/customers/{+customerId}/sites/{+siteId}/call-centers/{+callCenterId}/services/assigned-services
 * Added PUT /api/customers/{+customerId}/sites/{+siteId}/instant-group-calls/{+instantGroupCallId}/services/assigned-services

#2.41

Changes for S1932 LWS-REST:  Customer Add (BroadWorks Enterprise/SP Add)

 * Added POST /api/customers{?mode}
 * Added GET /api/customers/{+customerId}
 * Added PUT /api/customers/{+customerId}
 * Added DELETE /api/customers/{+customerId}

Changes for S2264 LWS-REST Site Device Access Credentials Reset

* Added POST /api/users/{+userId}/resetDeviceCredentials

Changes for S2265 VoIP User Add Alternative Process (via LWS-SOAP)
* Added details for the differences between the default (legacy) and the alternative process POST /api/users request.


Changes for S2266 LWS-REST VoIP User Alternate Numbers Modify

* Added PUT /api/users/{+userId}/services/Alternate&20Numbers

Changes for S2267 LWS-REST VoIP User Service (Un-)Assignment

* Added PUT /api/users/{+userId}/services/assigned-services

Changes for S2268 LWS-REST VoIP User Delete

* Added DELETE /api/users/{+userId}{?keepMailbox}

Changes for S2270 LWS-REST: VoIP Virtual User Add:

* Added POST /api/auto-attendants{?mode}
* Added POST /api/hunt-groups{?mode}
* Added POST /api/call-centers{?mode}
* Added POST /api/instant-group-calls{?mode}

Changes for S2289 LWS-REST: Enhance VoIP User Add (via LWS-SOAP) to support BroadWorks Mobility

* Added support to configure "Broadworks Mobility" service, only supported by POST /api/users alternative process request.

Changes for S2291 LWS-REST: Create LWS-SOAP-backed request to modify group voice portal settings:

* Added PUT /api/customers/{+customerId}/sites/{+siteId}/services/Voice Portal

Changes for S2313 LWS-REST: Enhance LWS-SOAP-backed VoIP User Add to Support ATA User Type

* New "ATA" userType supported only by POST /api/users alternative process request.

#2.40

General:
* Added section "Single vs Multi cluster BroadWorks behaviour", to clarify 404 Not Found response body format.

Changes for S2183: api REST: Initial Site Add Support:

* Added GET /api/customers{?extensions.broadworks.serviceProviderId}
* Added POST /api/customers/{+customerId}/sites{?mode}

#2.39

Changes for S1783: LWS-REST: Site Device creation and TN Assign to a Site:

* Added POST /api/customers/{+customerId}/sites/{+siteId}/assignPhoneNumber{?mode}
* Added POST /api/customers/{+customerId}/sites/{+siteId}/devices{?mode}

#2.38

Note the change to version numbers compatible with other Classic products.

Changes for S2018 LWS-REST: Add support for Activate/Deactivate TN in BroadWorks:
* Added POST /api/customers/{+customerId}/sites/{+siteId}/phone-numbers/activate
* Added POST /api/customers/{+customerId}/sites/{+siteId}/phone-numbers/deactivate

Updates for S1945 LWS-REST: Add User with Trunk Group "None" (POST /api/users{?mode}):

* Add userType and accessDevice for
* Remove sharedDeviceName and trunkGroupName
* Clarify that services.Authentication.password will be validated against the configured rules
* Document examples of Business Line and Trunking user adds
* Update example to show just one userType (businessLine)

Updates for S1945 LWS-REST: Add User with Trunk Group "None" (POST /customers/{+customerId}/sites/{+siteId}/trunk-groups{?mode}):

* Clarify that services.Authentication.password will be validated against the configured rules
* Clarify requirements for pilotUser object

General

* Clarify that GET on /api/sites returns only a single resource
* Update json-schemas for various requests

#1.8

Changes for S1896 LWS-REST: BroadWorks Trunk Group Add (excludes Genband support):

* Added GET /api/sites{?extensions.broadworks.serviceProviderId,extensions.broadworks.groupId}
* Added POST /api/customers/{+customerId}/sites/{+siteId}/trunk-groups{?mode}

#1.7 / 1.7.1
Changes for S2052 LWS-REST: VoIP User Add validation enhancements:

* Update POST /api/users to return 422 for invalid attempt to set empty extension
* Update POST /api/users to add missing input validation for properties under services.*

Changes for S2051 LWS-REST: Further improvements to error handling consistency:

* Updated handling of unexpected errors to follow LWS-REST 500 error response format (errorCode, summary, detail)

Changes for S2094 LWS-REST: Not possible to assign CFA (and other services) using userAdd REST call

* Clarified that any BroadWorks service can be assigned alacarte, even if it doesn't support configuration
* Update examples to show assignment of any BroadWorks service on a user, even if LWS-REST doesn't support pre-configuring its settings

General:

* Correct documented default value (3) for services.'Call Forwarding No Answer'.numberOfRings and services.'Third-Party Voice Mail Support'.noAnswerNumberOfRings
* Improved error response for the case where an object contains an invalid property
* POST /api/users: clarify that userId must include @domain; enhance the input validation for userId
* POST /api/users: clarify that the BroadWorks group's default extension length is used when auto-filling the extension
* POST /api/users: note that the "no-number" tnRoutine is not allowed for Charge Number.

#1.6
Changes for *Functional Description: VoIP Entity Service - Enhancements for BroadWorks Multi-Cluster Support*:

* removed support for POST /api/voip-users; replaced with POST /api/users
* customerId and siteId moved from URI template into request body
* extensions.broadworks added to request body, with serviceProviderId and groupId

General:

* Change checkmark/x to yes/no for clarity
* Document 404 response for GET queries on Sonus resources
* Corrected data type for /api/routes transmissionMedium property
* Completed documentation for user service settings in POST /api/users

#1.5
Changes for *Functional Description: Alternate API Navigation*:

* Update URIs (self links, Location headers) to reflect changed URI construction
* Update response bodies to add new properties required to expand URI Template variables
* Convert POST /api/customers/{+customerId}/sites/{+siteId}/voip-users 201 response to hal+json

Changes for *Functional Description: Sonus Entity and Utility Services - Subscriber, Destination, and Route Modify Support*:

* Add PUT /api/{subscribers,destinations,routes}.

Changes for *Functional Description: Sonus Entity and Utility Services - Route Query Enhancements*:

* Update GET /routes{?...} documentation, supported URL query parameters, and 200 OK response body.

Changes for *Functional Description: VoIP User Create - Configure Call Forwarding Not Reachable (BroadWorks)*:

* Update POST /api/customers/{+customerId}/sites/{+siteId}/voip-users request body to add Call Forwarding Not Reachable service.

General:

* Improve comments.
* Correct errors in json-schema.
* Add 404 example for POST /api/number-translations.
* Document URL parameters for POST /api/subscribers.
* Correct the URI in the Location header in POST /api/routes 201 Created response, and in embedded ls:routes in 409 Conflict response, and in the 200 OK response to GET /api/routes{?...}.
* Further updates to POST /api/customers/{+customerId}/sites/{+siteId}/voip-users: improve documentation, add timeZone and language; add "+" in URI template parameters to indicate reserved expansion.
* Correct documentation to mark ?mode as required on POST /api/voip-users.
